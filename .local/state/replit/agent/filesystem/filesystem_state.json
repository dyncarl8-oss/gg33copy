{"file_contents":{"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route, useRoute } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Toaster as Sonner } from \"sonner\";\nimport { WhopProvider } from \"@/context/WhopContext\";\nimport Home from \"@/pages/home\";\nimport Compatibility from \"@/pages/compatibility\";\nimport Cues from \"@/pages/cues\";\nimport Explore from \"@/pages/explore\";\nimport CueChats from \"@/pages/cuechats\";\nimport Learn from \"@/pages/learn\";\nimport NumberDetailPage from \"@/pages/number-detail\";\nimport Course from \"@/pages/course\";\nimport Lesson from \"@/pages/lesson\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction ExperienceView() {\n  const [, params] = useRoute(\"/experiences/:experienceId/*?\");\n  const experienceId = params?.experienceId;\n\n  return (\n    <WhopProvider experienceId={experienceId}>\n      <div className=\"min-h-screen bg-background\" data-experience-id={experienceId}>\n        <Switch>\n          <Route path=\"/experiences/:experienceId\" component={Home} />\n          <Route path=\"/experiences/:experienceId/compatibility\" component={Compatibility} />\n          <Route path=\"/experiences/:experienceId/cues\" component={Cues} />\n          <Route path=\"/experiences/:experienceId/explore\" component={Explore} />\n          <Route path=\"/experiences/:experienceId/cuechats\" component={CueChats} />\n          <Route path=\"/experiences/:experienceId/learn\" component={Learn} />\n          <Route path=\"/experiences/:experienceId/course/:courseId\" component={Course} />\n          <Route path=\"/experiences/:experienceId/learn/:courseId/:lessonId\" component={Lesson} />\n          <Route path=\"/experiences/:experienceId/number/:type/:number\" component={NumberDetailPage} />\n          <Route component={Home} />\n        </Switch>\n      </div>\n    </WhopProvider>\n  );\n}\n\nfunction DashboardView() {\n  const [, params] = useRoute(\"/dashboard/:companyId/*?\");\n  const companyId = params?.companyId;\n\n  return (\n    <WhopProvider companyId={companyId}>\n      <div className=\"min-h-screen bg-background\" data-company-id={companyId}>\n        <Switch>\n          <Route path=\"/dashboard/:companyId\" component={Home} />\n          <Route path=\"/dashboard/:companyId/compatibility\" component={Compatibility} />\n          <Route path=\"/dashboard/:companyId/cues\" component={Cues} />\n          <Route path=\"/dashboard/:companyId/explore\" component={Explore} />\n          <Route path=\"/dashboard/:companyId/cuechats\" component={CueChats} />\n          <Route path=\"/dashboard/:companyId/learn\" component={Learn} />\n          <Route path=\"/dashboard/:companyId/course/:courseId\" component={Course} />\n          <Route path=\"/dashboard/:companyId/learn/:courseId/:lessonId\" component={Lesson} />\n          <Route path=\"/dashboard/:companyId/number/:type/:number\" component={NumberDetailPage} />\n          <Route component={Home} />\n        </Switch>\n      </div>\n    </WhopProvider>\n  );\n}\n\nfunction StandaloneView() {\n  return (\n    <WhopProvider>\n      <Switch>\n        <Route path=\"/\" component={Home} />\n        <Route path=\"/compatibility\" component={Compatibility} />\n        <Route path=\"/cues\" component={Cues} />\n        <Route path=\"/explore\" component={Explore} />\n        <Route path=\"/cuechats\" component={CueChats} />\n        <Route path=\"/learn\" component={Learn} />\n        <Route path=\"/course/:courseId\" component={Course} />\n        <Route path=\"/learn/:courseId/:lessonId\" component={Lesson} />\n        <Route path=\"/number/:type/:number\" component={NumberDetailPage} />\n        <Route component={NotFound} />\n      </Switch>\n    </WhopProvider>\n  );\n}\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/experiences/:experienceId/*?\" component={ExperienceView} />\n      <Route path=\"/dashboard/:companyId/*?\" component={DashboardView} />\n      <Route component={StandaloneView} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"dark min-h-screen bg-background\">\n          <Router />\n        </div>\n        <Toaster />\n        <Sonner position=\"top-right\" theme=\"dark\" />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":4338,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  \n  --background: 0 0% 7%;\n  --foreground: 0 0% 95%;\n  --border: 0 0% 15%;\n  --card: 0 0% 10%;\n  --card-foreground: 0 0% 95%;\n  --card-border: 0 0% 18%;\n  --sidebar: 0 0% 8%;\n  --sidebar-foreground: 0 0% 90%;\n  --sidebar-border: 0 0% 15%;\n  --sidebar-primary: 38 92% 50%;\n  --sidebar-primary-foreground: 0 0% 7%;\n  --sidebar-accent: 0 0% 15%;\n  --sidebar-accent-foreground: 0 0% 95%;\n  --sidebar-ring: 38 92% 50%;\n  --popover: 0 0% 10%;\n  --popover-foreground: 0 0% 95%;\n  --popover-border: 0 0% 18%;\n  \n  --primary: 38 92% 50%;\n  --primary-foreground: 0 0% 7%;\n  \n  --secondary: 0 0% 15%;\n  --secondary-foreground: 0 0% 95%;\n  \n  --muted: 0 0% 12%;\n  --muted-foreground: 0 0% 55%;\n  \n  --accent: 0 0% 15%;\n  --accent-foreground: 0 0% 95%;\n  \n  --destructive: 0 70% 50%;\n  --destructive-foreground: 0 0% 98%;\n  \n  --success: 142 72% 45%;\n  --success-foreground: 0 0% 98%;\n  \n  --warning: 38 92% 50%;\n  --warning-foreground: 0 0% 7%;\n  \n  --input: 0 0% 18%;\n  --ring: 38 92% 50%;\n  \n  --chart-1: 38 92% 50%;\n  --chart-2: 168 76% 42%;\n  --chart-3: 270 60% 50%;\n  --chart-4: 16 100% 50%;\n  --chart-5: 280 87% 47%;\n  \n  --radius: .5rem;\n  \n  --shadow-2xs: 0px 1px 1px 0px rgba(0, 0, 0, 0.06);\n  --shadow-xs: 0px 1px 2px 0px rgba(0, 0, 0, 0.08);\n  --shadow-sm: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);\n  --shadow: 0px 4px 6px -1px rgba(0, 0, 0, 0.12);\n  --shadow-md: 0px 6px 10px -2px rgba(0, 0, 0, 0.15);\n  --shadow-lg: 0px 10px 15px -3px rgba(0, 0, 0, 0.2);\n  --shadow-xl: 0px 20px 25px -5px rgba(0, 0, 0, 0.25);\n  --shadow-2xl: 0px 25px 50px -12px rgba(0, 0, 0, 0.4);\n  \n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  --gray-1: 0 0% 9%;\n  --gray-2: 0 0% 11%;\n  --gray-3: 0 0% 14%;\n  --gray-4: 0 0% 17%;\n  --gray-5: 0 0% 20%;\n  --gray-6: 0 0% 24%;\n  --gray-7: 0 0% 30%;\n  --gray-8: 0 0% 38%;\n  --gray-9: 0 0% 45%;\n  --gray-10: 0 0% 52%;\n  --gray-11: 0 0% 70%;\n  --gray-12: 0 0% 93%;\n  --gray-a1: 0 0% 100% / 0.02;\n  --gray-a2: 0 0% 100% / 0.04;\n  --gray-a3: 0 0% 100% / 0.07;\n  --gray-a4: 0 0% 100% / 0.10;\n  --gray-a5: 0 0% 100% / 0.14;\n\n  --blue-1: 212 35% 9%;\n  --blue-2: 216 50% 12%;\n  --blue-3: 214 59% 15%;\n  --blue-4: 214 65% 18%;\n  --blue-5: 213 71% 22%;\n  --blue-6: 212 77% 27%;\n  --blue-7: 211 85% 34%;\n  --blue-8: 206 100% 42%;\n  --blue-9: 206 100% 50%;\n  --blue-10: 209 100% 61%;\n  --blue-11: 210 100% 72%;\n  --blue-12: 205 100% 88%;\n  --blue-a1: 206 100% 50% / 0.05;\n  --blue-a2: 206 100% 50% / 0.10;\n  --blue-a3: 206 100% 50% / 0.15;\n  --blue-a4: 206 100% 50% / 0.20;\n  --blue-a5: 206 100% 50% / 0.30;\n\n  --amber-1: 36 20% 9%;\n  --amber-2: 35 35% 11%;\n  --amber-3: 32 55% 14%;\n  --amber-4: 32 65% 17%;\n  --amber-5: 33 75% 21%;\n  --amber-6: 35 85% 26%;\n  --amber-7: 36 90% 32%;\n  --amber-8: 38 95% 40%;\n  --amber-9: 38 92% 50%;\n  --amber-10: 42 100% 55%;\n  --amber-11: 46 100% 65%;\n  --amber-12: 40 100% 85%;\n  --amber-a1: 38 92% 50% / 0.05;\n  --amber-a2: 38 92% 50% / 0.10;\n  --amber-a3: 38 92% 50% / 0.15;\n  --amber-a4: 38 92% 50% / 0.20;\n  --amber-a5: 38 92% 50% / 0.30;\n\n  --green-1: 146 30% 8%;\n  --green-2: 150 40% 10%;\n  --green-3: 151 45% 13%;\n  --green-4: 151 50% 16%;\n  --green-5: 152 55% 19%;\n  --green-6: 153 60% 23%;\n  --green-7: 154 65% 29%;\n  --green-8: 155 70% 36%;\n  --green-9: 151 55% 42%;\n  --green-10: 151 50% 50%;\n  --green-11: 151 60% 65%;\n  --green-12: 145 80% 85%;\n  --green-a1: 151 55% 42% / 0.05;\n  --green-a2: 151 55% 42% / 0.10;\n  --green-a3: 151 55% 42% / 0.15;\n  --green-a4: 151 55% 42% / 0.20;\n  --green-a5: 151 55% 42% / 0.30;\n\n  --red-1: 0 25% 9%;\n  --red-2: 0 35% 12%;\n  --red-3: 0 45% 16%;\n  --red-4: 0 55% 20%;\n  --red-5: 0 60% 25%;\n  --red-6: 0 65% 31%;\n  --red-7: 0 70% 38%;\n  --red-8: 0 75% 46%;\n  --red-9: 0 72% 51%;\n  --red-10: 0 75% 60%;\n  --red-11: 0 90% 75%;\n  --red-12: 0 100% 90%;\n\n  --orange-1: 24 20% 9%;\n  --orange-2: 24 35% 12%;\n  --orange-3: 24 50% 15%;\n  --orange-4: 24 60% 18%;\n  --orange-5: 24 70% 22%;\n  --orange-6: 24 75% 27%;\n  --orange-7: 24 80% 33%;\n  --orange-8: 24 90% 42%;\n  --orange-9: 24 95% 50%;\n  --orange-10: 24 100% 60%;\n  --orange-11: 24 100% 72%;\n  --orange-12: 24 100% 88%;\n  --orange-a1: 24 95% 50% / 0.05;\n  --orange-a2: 24 95% 50% / 0.10;\n  --orange-a3: 24 95% 50% / 0.15;\n  --orange-a4: 24 95% 50% / 0.20;\n  --orange-a5: 24 95% 50% / 0.30;\n\n  --pink-1: 330 25% 10%;\n  --pink-2: 330 35% 13%;\n  --pink-3: 330 45% 17%;\n  --pink-4: 330 55% 22%;\n  --pink-5: 330 60% 27%;\n  --pink-6: 330 65% 33%;\n  --pink-7: 330 70% 40%;\n  --pink-8: 330 75% 48%;\n  --pink-9: 330 80% 55%;\n  --pink-10: 330 85% 65%;\n  --pink-11: 330 90% 78%;\n  --pink-12: 330 100% 92%;\n  --pink-a1: 330 80% 55% / 0.05;\n  --pink-a2: 330 80% 55% / 0.10;\n  --pink-a3: 330 80% 55% / 0.15;\n  --pink-a4: 330 80% 55% / 0.20;\n  --pink-a5: 330 80% 55% / 0.30;\n\n  --cyan-1: 190 30% 9%;\n  --cyan-2: 190 40% 12%;\n  --cyan-3: 190 50% 15%;\n  --cyan-4: 190 55% 18%;\n  --cyan-5: 190 60% 22%;\n  --cyan-6: 190 65% 27%;\n  --cyan-7: 190 70% 34%;\n  --cyan-8: 190 80% 42%;\n  --cyan-9: 190 85% 50%;\n  --cyan-10: 190 90% 60%;\n  --cyan-11: 190 95% 72%;\n  --cyan-12: 190 100% 88%;\n  --cyan-a1: 190 85% 50% / 0.05;\n  --cyan-a2: 190 85% 50% / 0.10;\n  --cyan-a3: 190 85% 50% / 0.15;\n  --cyan-a4: 190 85% 50% / 0.20;\n  --cyan-a5: 190 85% 50% / 0.30;\n\n  --teal-1: 165 30% 9%;\n  --teal-2: 165 40% 12%;\n  --teal-3: 165 50% 15%;\n  --teal-4: 165 55% 18%;\n  --teal-5: 165 60% 22%;\n  --teal-6: 165 65% 27%;\n  --teal-7: 165 70% 33%;\n  --teal-8: 165 75% 40%;\n  --teal-9: 165 80% 48%;\n  --teal-10: 165 85% 58%;\n  --teal-11: 165 90% 70%;\n  --teal-12: 165 100% 88%;\n  --teal-a1: 165 80% 48% / 0.05;\n  --teal-a2: 165 80% 48% / 0.10;\n  --teal-a3: 165 80% 48% / 0.15;\n  --teal-a4: 165 80% 48% / 0.20;\n  --teal-a5: 165 80% 48% / 0.30;\n\n  --violet-1: 270 30% 10%;\n  --violet-2: 270 40% 13%;\n  --violet-3: 270 50% 17%;\n  --violet-4: 270 55% 22%;\n  --violet-5: 270 60% 27%;\n  --violet-6: 270 65% 33%;\n  --violet-7: 270 70% 40%;\n  --violet-8: 270 75% 48%;\n  --violet-9: 270 75% 55%;\n  --violet-10: 270 80% 65%;\n  --violet-11: 270 90% 78%;\n  --violet-12: 270 100% 92%;\n  --violet-a1: 270 75% 55% / 0.05;\n  --violet-a2: 270 75% 55% / 0.10;\n  --violet-a3: 270 75% 55% / 0.15;\n  --violet-a4: 270 75% 55% / 0.20;\n  --violet-a5: 270 75% 55% / 0.30;\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}\n\n@layer utilities {\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  .gradient-text {\n    background: linear-gradient(to right, hsl(var(--amber-9)), hsl(var(--amber-11)));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n\n  .bg-gold-gradient {\n    background: linear-gradient(to right, hsl(var(--amber-8)), hsl(var(--amber-10)));\n  }\n\n  .bg-violet-gradient {\n    background: linear-gradient(to right, hsl(var(--violet-8)), hsl(var(--violet-10)));\n  }\n\n  .shadow-glow {\n    box-shadow: 0 0 40px hsl(var(--amber-a4));\n  }\n\n  .glass {\n    background: hsl(var(--gray-2) / 0.8);\n    backdrop-filter: blur(20px);\n    border: 1px solid hsl(var(--gray-5) / 0.5);\n  }\n\n  .glass-hover {\n    transition: all 0.2s;\n  }\n  \n  .glass-hover:hover {\n    background: hsl(var(--gray-3) / 0.8);\n    border-color: hsl(var(--gray-6) / 0.5);\n  }\n\n  .frosted-card {\n    background: hsl(var(--gray-2) / 0.6);\n    backdrop-filter: blur(20px);\n    border: 1px solid hsl(var(--gray-5) / 0.4);\n    border-radius: 0.5rem;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.03);\n  }\n\n  .frosted-surface {\n    background: hsl(var(--gray-2) / 0.7);\n    backdrop-filter: blur(20px);\n  }\n\n  .frosted-border {\n    border: 1px solid hsl(var(--gray-5) / 0.5);\n  }\n\n  .no-default-hover-elevate {}\n  .no-default-active-elevate {}\n\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: -1;\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: 999;\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes fade-up {\n  from { opacity: 0; transform: translateY(10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n@keyframes scale-in {\n  from { opacity: 0; transform: scale(0.95); }\n  to { opacity: 1; transform: scale(1); }\n}\n\n@keyframes shimmer {\n  0% { background-position: -200% 0; }\n  100% { background-position: 200% 0; }\n}\n\n.animate-fade-in {\n  animation: fade-in 0.3s ease-out forwards;\n}\n\n.animate-fade-up {\n  animation: fade-up 0.4s ease-out forwards;\n}\n\n.animate-scale-in {\n  animation: scale-in 0.3s ease-out forwards;\n}\n\n.animate-shimmer {\n  animation: shimmer 2s linear infinite;\n  background: linear-gradient(\n    90deg,\n    hsl(var(--gray-3)) 0%,\n    hsl(var(--gray-5)) 50%,\n    hsl(var(--gray-3)) 100%\n  );\n  background-size: 200% 100%;\n}\n\n.custom-scrollbar::-webkit-scrollbar {\n  width: 8px;\n}\n\n.custom-scrollbar::-webkit-scrollbar-track {\n  background: hsl(var(--gray-3));\n  border-radius: 4px;\n}\n\n.custom-scrollbar::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, hsl(var(--amber-6)) 0%, hsl(var(--amber-8)) 100%);\n  border-radius: 4px;\n  border: 1px solid hsl(var(--gray-5));\n}\n\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, hsl(var(--amber-7)) 0%, hsl(var(--amber-9)) 100%);\n}\n\n.custom-scrollbar {\n  scrollbar-width: thin;\n  scrollbar-color: hsl(var(--amber-7)) hsl(var(--gray-3));\n}\n","path":null,"size_bytes":12570,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"shared/schema.ts":{"content":"import { z } from \"zod\";\n\nexport const userSchema = z.object({\n  id: z.string(),\n  whopUserId: z.string(),\n  name: z.string().optional(),\n  birthDate: z.string().optional(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\nexport const insertUserSchema = z.object({\n  name: z.string().optional(),\n  birthDate: z.string().optional(),\n});\n\nexport type User = z.infer<typeof userSchema>;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\n","path":null,"size_bytes":446,"size_tokens":null},"client/src/pages/cuechats.tsx":{"content":"import { useState, useRef, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { MessageCircle, Send, Bot, User, AlertCircle, RotateCcw, Sparkles, Plus, Play, Lock, Crown } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ChatMessage {\n  role: 'user' | 'assistant';\n  content: string;\n  error?: boolean;\n}\n\ninterface ChatSession {\n  systemContext: string;\n  firstName: string;\n}\n\nconst exampleMessages: ChatMessage[] = [\n  { role: 'user', content: \"What energy should I expect today?\" },\n  { role: 'assistant', content: \"Your Personal Day 7 is calling for reflection and inner work. Combined with your Life Path's need for structure, today is perfect for planning rather than action.\" },\n  { role: 'user', content: \"How compatible am I with someone born March 15?\" },\n  { role: 'assistant', content: \"A Pisces! Their water energy flows beautifully with your earth grounding. Their Life Path would complement your stability with creativity.\" },\n];\n\nfunction MarkdownContent({ content, className }: { content: string; className?: string }) {\n  const parseMarkdown = (text: string) => {\n    const lines = text.split('\\n');\n    const elements: JSX.Element[] = [];\n    \n    lines.forEach((line, lineIndex) => {\n      if (line.trim().startsWith('*') && !line.trim().startsWith('**')) {\n        const bulletMatch = line.match(/^\\s*\\*\\s+(.+)$/);\n        if (bulletMatch) {\n          const bulletContent = parseInlineMarkdown(bulletMatch[1], `bullet-${lineIndex}`);\n          elements.push(\n            <div key={lineIndex} className=\"flex gap-2 ml-2 my-1\">\n              <span className=\"text-amber-9\">â€¢</span>\n              <span>{bulletContent}</span>\n            </div>\n          );\n          return;\n        }\n      }\n      \n      const inlineContent = parseInlineMarkdown(line, `line-${lineIndex}`);\n      elements.push(\n        <span key={lineIndex}>\n          {inlineContent}\n          {lineIndex < lines.length - 1 && <br />}\n        </span>\n      );\n    });\n    \n    return elements;\n  };\n\n  const parseInlineMarkdown = (text: string, keyPrefix: string) => {\n    const parts: JSX.Element[] = [];\n    let remaining = text;\n    let partIndex = 0;\n    \n    while (remaining.length > 0) {\n      const boldMatch = remaining.match(/\\*\\*(.+?)\\*\\*/);\n      const italicMatch = remaining.match(/(?<!\\*)\\*(?!\\*)(.+?)(?<!\\*)\\*(?!\\*)/);\n      \n      let firstMatch: { index: number; length: number; content: string; type: 'bold' | 'italic' } | null = null;\n      \n      if (boldMatch && boldMatch.index !== undefined) {\n        firstMatch = { \n          index: boldMatch.index, \n          length: boldMatch[0].length, \n          content: boldMatch[1], \n          type: 'bold' \n        };\n      }\n      \n      if (italicMatch && italicMatch.index !== undefined) {\n        if (!firstMatch || italicMatch.index < firstMatch.index) {\n          firstMatch = { \n            index: italicMatch.index, \n            length: italicMatch[0].length, \n            content: italicMatch[1], \n            type: 'italic' \n          };\n        }\n      }\n      \n      if (firstMatch) {\n        if (firstMatch.index > 0) {\n          parts.push(<span key={`${keyPrefix}-${partIndex++}`}>{remaining.slice(0, firstMatch.index)}</span>);\n        }\n        \n        if (firstMatch.type === 'bold') {\n          parts.push(<strong key={`${keyPrefix}-${partIndex++}`} className=\"font-semibold\">{firstMatch.content}</strong>);\n        } else {\n          parts.push(<em key={`${keyPrefix}-${partIndex++}`} className=\"italic text-amber-11\">{firstMatch.content}</em>);\n        }\n        \n        remaining = remaining.slice(firstMatch.index + firstMatch.length);\n      } else {\n        parts.push(<span key={`${keyPrefix}-${partIndex++}`}>{remaining}</span>);\n        break;\n      }\n    }\n    \n    return parts;\n  };\n\n  return <div className={className}>{parseMarkdown(content)}</div>;\n}\n\nfunction CosmicLoadingAnimation() {\n  return (\n    <div className=\"flex gap-3 justify-start\" data-testid=\"message-loading\">\n      <div className=\"w-8 h-8 rounded-md bg-amber-a3 flex items-center justify-center flex-shrink-0\">\n        <Bot className=\"w-4 h-4 text-amber-9\" />\n      </div>\n      <div className=\"flex items-center\">\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 3, repeat: Infinity, ease: \"linear\" }}\n        >\n          <Sparkles className=\"w-5 h-5 text-amber-9\" />\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n\nfunction ChatBubble({ msg, index, isExample = false }: { msg: ChatMessage; index: number; isExample?: boolean }) {\n  return (\n    <div\n      className={`flex gap-3 ${msg.role === 'user' ? 'justify-end' : 'justify-start'} ${isExample ? 'opacity-50' : ''}`}\n      data-testid={isExample ? `example-${msg.role}-${index}` : `message-${msg.role}-${index}`}\n    >\n      {msg.role === 'assistant' && (\n        <div className={`w-8 h-8 rounded-md flex items-center justify-center flex-shrink-0 ${msg.error ? 'bg-red-500/20' : 'bg-amber-a3'}`}>\n          {msg.error ? (\n            <AlertCircle className=\"w-4 h-4 text-red-400\" />\n          ) : (\n            <Bot className=\"w-4 h-4 text-amber-9\" />\n          )}\n        </div>\n      )}\n      <div\n        className={`max-w-[80%] p-4 rounded-lg ${\n          msg.role === 'user'\n            ? 'bg-amber-9 text-gray-1 rounded-tr-sm'\n            : msg.error\n              ? 'bg-red-500/10 border border-red-500/20 rounded-tl-sm'\n              : 'bg-gray-a3 rounded-tl-sm'\n        }`}\n      >\n        <MarkdownContent content={msg.content} className={`text-2 ${msg.error ? 'text-red-400' : ''}`} />\n      </div>\n      {msg.role === 'user' && (\n        <div className=\"w-8 h-8 rounded-md bg-gray-a3 flex items-center justify-center flex-shrink-0\">\n          <User className=\"w-4 h-4\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function CueChats() {\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [chatSession, setChatSession] = useState<ChatSession | null>(null);\n  const [showPreview, setShowPreview] = useState(true);\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const savedOdisId = localStorage.getItem('gg33-odis-id');\n  const { data: profileData } = useQuery<{ isPro?: boolean }>({\n    queryKey: ['/api/profile', savedOdisId],\n    enabled: !!savedOdisId,\n  });\n  const isPro = profileData?.isPro ?? false;\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const startChat = async () => {\n    if (isInitializing) return;\n    \n    if (!isPro) {\n      setShowUpgradeModal(true);\n      return;\n    }\n    \n    const odisId = localStorage.getItem('gg33-odis-id');\n    \n    if (!odisId) {\n      setError('Please create your profile first to use CueChats');\n      return;\n    }\n\n    setIsInitializing(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/chat/init', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ odisId }),\n        credentials: 'include',\n      });\n\n      const data = await response.json();\n      \n      if (data.success && data.systemContext) {\n        setChatSession({\n          systemContext: data.systemContext,\n          firstName: data.firstName,\n        });\n        setShowPreview(false);\n        setTimeout(() => inputRef.current?.focus(), 100);\n      } else {\n        throw new Error(data.error || 'Failed to initialize chat');\n      }\n    } catch (err) {\n      console.error('Chat init error:', err);\n      setError('Failed to start chat. Please try again.');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n\n  const sendMessage = async () => {\n    if (!chatSession || !inputValue.trim()) return;\n\n    const userMessage = inputValue.trim();\n    setInputValue('');\n    setError(null);\n    \n    const newUserMessage: ChatMessage = { role: 'user', content: userMessage };\n    setMessages(prev => [...prev, newUserMessage]);\n    setIsLoading(true);\n\n    try {\n      const conversationHistory = messages\n        .filter(msg => !msg.error)\n        .map(msg => ({\n          role: msg.role,\n          content: msg.content,\n        }));\n\n      const response = await fetch('/api/chat/session', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          message: userMessage,\n          systemContext: chatSession.systemContext,\n          firstName: chatSession.firstName,\n          conversationHistory,\n        }),\n        credentials: 'include',\n      });\n\n      const data = await response.json();\n      \n      if (data.response) {\n        const assistantMessage: ChatMessage = { role: 'assistant', content: data.response };\n        setMessages(prev => [...prev, assistantMessage]);\n      } else {\n        throw new Error('No response received');\n      }\n    } catch (err) {\n      console.error('Chat error:', err);\n      setError('Failed to get response. Please try again.');\n      const errorMessage: ChatMessage = { \n        role: 'assistant', \n        content: 'I apologize, but I encountered an issue generating a response. Please try again.',\n        error: true \n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      inputRef.current?.focus();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey && !isLoading) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const startNewChat = async () => {\n    setMessages([]);\n    setInputValue('');\n    setError(null);\n    setChatSession(null);\n    await startChat();\n  };\n\n  const hasMessages = messages.length > 0;\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-cuechats\">\n        <div className=\"container mx-auto max-w-4xl space-y-8\">\n          <div className=\"text-center\">\n            <Badge variant=\"outline\" className=\"mb-4\">\n              <MessageCircle className=\"w-3 h-3 mr-1\" />\n              AI Guidance\n            </Badge>\n            <h1 className=\"text-6 md:text-7 font-semibold mb-4\">\n              <span className=\"gradient-text\">CueChats</span>\n            </h1>\n            <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n              Get personalized guidance based on your unique energy signature and current cosmic cycles.\n            </p>\n          </div>\n\n          <Card variant=\"frosted\">\n            <CardHeader className=\"border-b border-gray-5/50\">\n              <div className=\"flex items-center justify-between gap-3\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-gold-gradient flex items-center justify-center\">\n                    <Bot className=\"w-5 h-5 text-gray-1\" />\n                  </div>\n                  <div>\n                    <CardTitle className=\"text-4\">CueChat AI</CardTitle>\n                    <CardDescription className=\"text-2 text-gray-11\">\n                      {chatSession ? `Chatting with ${chatSession.firstName}` : 'Powered by your energy profile'}\n                    </CardDescription>\n                  </div>\n                </div>\n                {!showPreview && (\n                  <Button\n                    variant=\"gold\"\n                    size=\"sm\"\n                    onClick={startNewChat}\n                    disabled={isLoading || isInitializing}\n                    data-testid=\"button-new-chat\"\n                  >\n                    {isInitializing ? (\n                      <>\n                        <motion.div\n                          animate={{ rotate: 360 }}\n                          transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n                          className=\"mr-1\"\n                        >\n                          <Sparkles className=\"w-4 h-4\" />\n                        </motion.div>\n                        Loading...\n                      </>\n                    ) : (\n                      <>\n                        <Plus className=\"w-4 h-4 mr-1\" />\n                        New Chat\n                      </>\n                    )}\n                  </Button>\n                )}\n              </div>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              <div className={`${showPreview ? '' : 'h-96 overflow-y-auto custom-scrollbar'} p-6 space-y-4`}>\n                {showPreview ? (\n                  <>\n                    {exampleMessages.map((msg, i) => (\n                      <ChatBubble key={i} msg={msg} index={i} isExample />\n                    ))}\n                    \n                    <div className=\"flex justify-center pt-4\">\n                      <Button\n                        variant=\"gold\"\n                        size=\"lg\"\n                        onClick={startChat}\n                        disabled={isInitializing}\n                        data-testid=\"button-start-chat\"\n                      >\n                        {isInitializing ? (\n                          <>\n                            <motion.div\n                              animate={{ rotate: 360 }}\n                              transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n                              className=\"mr-2\"\n                            >\n                              <Sparkles className=\"w-4 h-4\" />\n                            </motion.div>\n                            Loading...\n                          </>\n                        ) : (\n                          <>\n                            <Play className=\"w-4 h-4 mr-2\" />\n                            Start Chat\n                          </>\n                        )}\n                      </Button>\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    {!hasMessages && (\n                      <div className=\"h-full flex flex-col items-center justify-center text-gray-11\">\n                        <Bot className=\"w-12 h-12 text-amber-9 mb-4\" />\n                        <p className=\"text-3\">Ask me anything</p>\n                      </div>\n                    )}\n                    \n                    {messages.map((msg, i) => (\n                      <div key={i}>\n                        <ChatBubble msg={msg} index={i} />\n                        {msg.error && (\n                          <div className=\"flex gap-3 justify-start mt-1\">\n                            <div className=\"w-8\" />\n                            <Button \n                              variant=\"ghost\" \n                              size=\"sm\" \n                              className=\"text-red-400\"\n                              onClick={() => {\n                                setMessages(prev => prev.filter((_, idx) => idx !== i));\n                                setError(null);\n                              }}\n                              data-testid={`button-retry-${i}`}\n                            >\n                              <RotateCcw className=\"w-3 h-3 mr-1\" />\n                              Dismiss\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {isLoading && <CosmicLoadingAnimation />}\n                    \n                    <div ref={messagesEndRef} />\n                  </>\n                )}\n              </div>\n\n              {error && (\n                <div className=\"px-6 py-2 bg-red-500/10 border-t border-red-500/20\">\n                  <p className=\"text-2 text-red-400\" data-testid=\"text-chat-error\">{error}</p>\n                </div>\n              )}\n\n              {!showPreview && (\n                <div className=\"p-4 border-t border-gray-5/50 bg-gray-a2\">\n                  <div className=\"flex gap-3\">\n                    <Input\n                      ref={inputRef}\n                      variant=\"frosted\"\n                      placeholder=\"Ask about your energy, compatibility, decisions...\"\n                      className=\"flex-1\"\n                      value={inputValue}\n                      onChange={(e) => setInputValue(e.target.value)}\n                      onKeyDown={handleKeyDown}\n                      disabled={isLoading}\n                      data-testid=\"input-chat-message\"\n                    />\n                    <Button \n                      variant=\"gold\" \n                      size=\"icon\" \n                      onClick={sendMessage}\n                      disabled={isLoading || !inputValue.trim()}\n                      data-testid=\"button-send-message\"\n                    >\n                      {isLoading ? (\n                        <motion.div\n                          animate={{ rotate: 360 }}\n                          transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n                        >\n                          <Sparkles className=\"w-4 h-4\" />\n                        </motion.div>\n                      ) : (\n                        <Send className=\"w-4 h-4\" />\n                      )}\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n\n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":18216,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow-sm\",\n        secondary: \"border-transparent bg-gray-3 text-gray-12\",\n        destructive: \"border-transparent bg-red-9 text-white shadow-sm\",\n        outline: \"border border-gray-6 bg-transparent text-foreground\",\n        success: \"border-transparent bg-green-9 text-white shadow-sm\",\n        warning: \"border-transparent bg-amber-9 text-gray-1 shadow-sm\",\n        info: \"border-transparent bg-blue-9 text-white shadow-sm\",\n        glass: \"glass text-foreground\",\n      },\n      color: {\n        default: \"\",\n        blue: \"bg-blue-3 text-blue-11 border-blue-6\",\n        green: \"bg-green-3 text-green-11 border-green-6\",\n        red: \"bg-red-3 text-red-11 border-red-6\",\n        amber: \"bg-amber-3 text-amber-11 border-amber-6\",\n        violet: \"bg-violet-3 text-violet-11 border-violet-6\",\n        gray: \"bg-gray-3 text-gray-11 border-gray-6\",\n      },\n      size: {\n        default: \"px-2.5 py-0.5 text-xs\",\n        sm: \"px-2 py-0.5 text-0\",\n        lg: \"px-3 py-1 text-sm\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      color: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, color, size, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant, color, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1917,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/PricingSection.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Check, Sparkles, MessageCircle, Database, Crown } from 'lucide-react';\n\nconst tiers = [\n  {\n    name: 'The Basics',\n    price: 15.99,\n    period: 'month',\n    description: 'Essential numerology tools to get started',\n    icon: Sparkles,\n    features: [\n      'Core numerology calculator',\n      'Basic astrology tools',\n      'Limited explore page access',\n      'Daily energy overview',\n    ],\n    popular: false,\n  },\n  {\n    name: 'CueChats',\n    price: 28,\n    period: 'month',\n    description: 'AI-powered personalized guidance',\n    icon: MessageCircle,\n    features: [\n      'Everything in Basics',\n      'Full AI chat access',\n      'Personalized real-time answers',\n      'Unlimited questions to AI',\n      'Based on your unique birthdate',\n    ],\n    popular: false,\n  },\n  {\n    name: 'CUE+',\n    price: 35,\n    period: 'month',\n    description: 'Complete access to all features',\n    icon: Database,\n    features: [\n      'Everything in previous tiers',\n      'Full access to 22,000+ cues database',\n      'All AI chat features',\n      'In-depth readings and reports',\n      'Study zone access',\n      'Priority feature updates',\n    ],\n    popular: true,\n  },\n  {\n    name: 'Lifetime',\n    price: null,\n    period: 'one-time',\n    description: 'All features forever',\n    icon: Crown,\n    features: [\n      'All CUE+ features forever',\n      'Exclusive Discord community',\n      'Weekly Q&A with experts',\n      'Early access to new features',\n      'Voting rights on development',\n      'Annual plans build credit toward lifetime',\n    ],\n    popular: false,\n  },\n];\n\nexport function PricingSection() {\n  return (\n    <div className=\"space-y-8\" data-testid=\"pricing-section\">\n      <div className=\"text-center\">\n        <Badge variant=\"outline\" className=\"mb-4\">Pricing</Badge>\n        <h2 className=\"text-6 md:text-7 font-semibold mb-4\">\n          Choose Your <span className=\"gradient-text\">Energy Level</span>\n        </h2>\n        <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n          From basic numerology tools to complete cosmic guidance, find the plan that aligns with your journey.\n        </p>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {tiers.map((tier) => (\n          <Card\n            key={tier.name}\n            variant={tier.popular ? 'glow' : 'frosted'}\n            className={`relative ${tier.popular ? 'lg:-translate-y-2' : ''}`}\n            data-testid={`card-pricing-${tier.name.toLowerCase().replace(/\\s/g, '-')}`}\n          >\n            {tier.popular && (\n              <div className=\"absolute -top-3 left-1/2 -translate-x-1/2\">\n                <Badge className=\"bg-gold-gradient text-gray-1 shadow-lg\">\n                  Most Popular\n                </Badge>\n              </div>\n            )}\n            \n            <CardHeader className=\"text-center pb-4\">\n              <div className={`w-14 h-14 mx-auto rounded-lg flex items-center justify-center mb-4 ${\n                tier.popular \n                  ? 'bg-gold-gradient' \n                  : 'bg-gray-a3'\n              }`}>\n                <tier.icon className={`w-7 h-7 ${tier.popular ? 'text-gray-1' : 'text-gray-12'}`} />\n              </div>\n              <CardTitle className=\"text-4\">{tier.name}</CardTitle>\n              <CardDescription className=\"text-2 text-gray-11\">{tier.description}</CardDescription>\n            </CardHeader>\n\n            <CardContent className=\"space-y-6\">\n              <div className=\"text-center\">\n                {tier.price !== null ? (\n                  <>\n                    <span className=\"text-7 font-bold\">${tier.price}</span>\n                    <span className=\"text-gray-11\">/{tier.period}</span>\n                  </>\n                ) : (\n                  <span className=\"text-5 font-bold\">Limited Spots</span>\n                )}\n              </div>\n\n              <ul className=\"space-y-3\">\n                {tier.features.map((feature, i) => (\n                  <li key={i} className=\"flex items-start gap-2 text-2\">\n                    <Check className={`w-4 h-4 mt-0.5 flex-shrink-0 ${\n                      tier.popular ? 'text-amber-9' : 'text-green-9'\n                    }`} />\n                    <span className=\"text-gray-11\">{feature}</span>\n                  </li>\n                ))}\n              </ul>\n\n              <Button\n                variant={tier.popular ? 'gold' : 'outline'}\n                className=\"w-full\"\n                data-testid={`button-pricing-${tier.name.toLowerCase().replace(/\\s/g, '-')}`}\n              >\n                {tier.price ? 'Get Started' : 'Join Waitlist'}\n              </Button>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4929,"size_tokens":null},"replit.md":{"content":"# GG33 - Cue Your Life (Whop App)\n\n## Overview\n\nGG33 is a spiritual numerology and Chinese astrology web application that helps users make informed decisions about relationships, business, and life events by combining Western numerology calculations with Chinese zodiac systems. The platform provides personalized energy profiles, compatibility analysis, daily energy readings, and access to a database of 22,000+ pre-calculated \"cues\" (brands, locations, people, and events with their energy signatures).\n\n**Whop Integration**: This app is designed to work as a Whop app with proper authentication and views for both customers (Experience View) and admins (Dashboard View).\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## Recent Changes\n\n- **Dec 2024**: Implemented Frosted UI design system with 12-step Radix color scales\n- **Dec 2024**: Added Whop SDK for server-side authentication\n- **Dec 2024**: Switched from react-router-dom to wouter for routing\n- **Dec 2024**: Updated all components with Frosted UI styling (glass morphism, amber accents)\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build System**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool and development server with HMR support\n- Client-side routing using wouter (lightweight alternative to React Router)\n- Single-page application (SPA) architecture with code splitting\n\n**UI Component System**\n- Frosted UI design system inspired by Whop's design language\n- 12-step Radix color scales for precise theming (gray, amber, green, red, violet, blue)\n- Shadcn UI component library with custom Frosted UI variants\n- Tailwind CSS with custom design tokens and glass morphism effects\n- CVA (Class Variance Authority) for variant-based component styling\n- Custom gradients and glow effects for premium feel\n\n**Design System Features**\n- Glass morphism cards and buttons\n- Gold/amber gradient CTAs\n- 12-step typography scale (text-0 to text-9)\n- Dark-first design with vibrant accents\n- Animated starfield background\n\n**State Management**\n- TanStack Query (React Query) for server state management and caching\n- Local storage for user profile persistence (name, birth date)\n- No global state management library - component-level state with React hooks\n\n**Key Frontend Features**\n- Profile setup flow capturing user name and birth date\n- Numerology calculator (Life Path numbers, Chinese zodiac)\n- Compatibility checker for people, brands, locations, and dates\n- Daily energy calculator based on universal day numbers\n- Locked/premium content sections (CueChats AI, Cues database, Study Zone)\n- Animated cosmic starfield background component\n- Responsive navigation with mobile hamburger menu\n\n### Backend Architecture\n\n**Server Framework**\n- Express.js web server with TypeScript\n- Custom HTTP server creation for potential WebSocket support\n- Middleware: JSON body parsing, URL-encoded form data, raw body capture\n- Custom request logging with timestamps and duration tracking\n\n**Whop Integration**\n- @whop/sdk for server-side SDK operations and built-in token verification\n- Whop authentication middleware for protected routes (reads x-whop-user-token header)\n- Access level checking (customer, admin, no_access) via SDK checkAccess method\n\n**API Design**\n- RESTful API structure (routes prefixed with `/api`)\n- Whop auth middleware applied globally\n- Storage abstraction layer with interface-based design\n- In-memory storage implementation (MemStorage class)\n\n**Build & Deployment**\n- ESBuild for server-side bundling with dependency allowlist\n- Vite for client-side bundling\n- Static file serving in production from `dist/public`\n- Separate development and production configurations\n\n### Data Storage\n\n**MongoDB Database**\n- Mongoose ODM for MongoDB Atlas\n- Connection via `MONGODB_URI` secret\n- Lazy connection on first database operation\n\n**Data Models**\n- User: whopUserId (unique), name, birthDate, createdAt, updatedAt\n- Numerology profiles calculated client-side\n- Compatibility results computed on-demand\n\n**Storage Interface**\n- `getUser(whopUserId)` - Get user by Whop user ID\n- `createOrUpdateUser(whopUserId, data)` - Create or update user profile\n\n### Whop Authentication\n\n**Server-Side**\n- Whop SDK initialized with WHOP_API_KEY\n- Token verification using SDK's built-in `verifyUserToken` method (reads x-whop-user-token header)\n- Custom middleware extracts user from verified token\n- Access checking via SDK checkAccess method\n\n**Environment Variables Required**\n- `WHOP_API_KEY`: API key from your Whop app's developer dashboard (found in Environment variables section)\n- `WHOP_APP_ID`: Your app ID (looks like `app_xxxxxxxxxxxxxx`, found in your app settings)\n\n### Core Numerology Logic\n\n**Calculation Engine** (client-side `lib/numerology.ts`)\n- Life Path Number calculation using date reduction algorithm\n- Chinese Zodiac animal and element determination (12-year cycle, 5 elements)\n- Energy signature generation combining numerology and astrology\n- Compatibility scoring between two birth dates\n- Daily universal energy calculation based on current date\n- Personality trait derivation from Life Path numbers\n\n**Algorithm Approach**\n- Single-digit reduction with master numbers preserved (11, 22, 33)\n- Chinese zodiac calculated from birth year modulo operations\n- Yin/Yang balance determination\n- Lucky colors, best days, and trait associations per Life Path\n\n## External Dependencies\n\n### Third-Party UI Libraries\n- **Radix UI**: Complete set of accessible component primitives\n- **Shadcn UI**: Pre-styled component system built on Radix UI\n- **Lucide React**: Icon library for UI elements\n- **Embla Carousel**: Touch-friendly carousel component\n- **Sonner**: Toast notification system\n\n### Styling & Design\n- **Tailwind CSS**: Utility-first CSS framework with Frosted UI theme\n- **PostCSS**: CSS processing with autoprefixer\n- **Class Variance Authority (CVA)**: Type-safe component variant system\n- **clsx & tailwind-merge**: Conditional className utilities\n\n### Form Management\n- **React Hook Form**: Form state and validation\n- **Zod**: Schema validation library\n- **Drizzle-Zod**: Zod schema generation from Drizzle tables\n\n### Data Fetching\n- **TanStack React Query**: Server state management and caching\n- **wouter**: Lightweight client-side routing\n\n### Whop Integration\n- **@whop/sdk**: Server-side Whop SDK with built-in token verification\n\n### Development Tools\n- **TypeScript**: Type checking across client and server\n- **Vite Plugins**: Runtime error overlay, cartographer, dev banner\n- **ESBuild**: Production bundling\n- **TSX**: TypeScript execution for development server\n\n### Database & ORM (Configured)\n- **Drizzle ORM**: Type-safe database toolkit\n- **PostgreSQL (pg)**: Database driver\n","path":null,"size_bytes":6787,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".625rem\",\n        md: \".5rem\",\n        sm: \".375rem\",\n      },\n      colors: {\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        success: {\n          DEFAULT: \"hsl(var(--success) / <alpha-value>)\",\n          foreground: \"hsl(var(--success-foreground) / <alpha-value>)\",\n        },\n        warning: {\n          DEFAULT: \"hsl(var(--warning) / <alpha-value>)\",\n          foreground: \"hsl(var(--warning-foreground) / <alpha-value>)\",\n        },\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\",\n        },\n        blue: {\n          \"1\": \"hsl(var(--blue-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--blue-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--blue-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--blue-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--blue-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--blue-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--blue-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--blue-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--blue-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--blue-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--blue-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--blue-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--blue-a1))\",\n          \"a2\": \"hsl(var(--blue-a2))\",\n          \"a3\": \"hsl(var(--blue-a3))\",\n          \"a4\": \"hsl(var(--blue-a4))\",\n          \"a5\": \"hsl(var(--blue-a5))\",\n        },\n        amber: {\n          \"1\": \"hsl(var(--amber-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--amber-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--amber-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--amber-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--amber-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--amber-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--amber-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--amber-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--amber-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--amber-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--amber-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--amber-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--amber-a1))\",\n          \"a2\": \"hsl(var(--amber-a2))\",\n          \"a3\": \"hsl(var(--amber-a3))\",\n          \"a4\": \"hsl(var(--amber-a4))\",\n          \"a5\": \"hsl(var(--amber-a5))\",\n        },\n        gray: {\n          \"1\": \"hsl(var(--gray-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--gray-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--gray-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--gray-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--gray-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--gray-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--gray-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--gray-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--gray-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--gray-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--gray-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--gray-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--gray-a1))\",\n          \"a2\": \"hsl(var(--gray-a2))\",\n          \"a3\": \"hsl(var(--gray-a3))\",\n          \"a4\": \"hsl(var(--gray-a4))\",\n          \"a5\": \"hsl(var(--gray-a5))\",\n        },\n        green: {\n          \"1\": \"hsl(var(--green-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--green-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--green-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--green-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--green-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--green-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--green-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--green-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--green-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--green-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--green-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--green-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--green-a1))\",\n          \"a2\": \"hsl(var(--green-a2))\",\n          \"a3\": \"hsl(var(--green-a3))\",\n          \"a4\": \"hsl(var(--green-a4))\",\n          \"a5\": \"hsl(var(--green-a5))\",\n        },\n        red: {\n          \"1\": \"hsl(var(--red-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--red-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--red-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--red-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--red-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--red-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--red-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--red-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--red-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--red-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--red-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--red-12) / <alpha-value>)\",\n        },\n        orange: {\n          \"1\": \"hsl(var(--orange-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--orange-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--orange-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--orange-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--orange-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--orange-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--orange-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--orange-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--orange-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--orange-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--orange-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--orange-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--orange-a1))\",\n          \"a2\": \"hsl(var(--orange-a2))\",\n          \"a3\": \"hsl(var(--orange-a3))\",\n          \"a4\": \"hsl(var(--orange-a4))\",\n          \"a5\": \"hsl(var(--orange-a5))\",\n        },\n        pink: {\n          \"1\": \"hsl(var(--pink-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--pink-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--pink-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--pink-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--pink-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--pink-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--pink-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--pink-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--pink-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--pink-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--pink-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--pink-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--pink-a1))\",\n          \"a2\": \"hsl(var(--pink-a2))\",\n          \"a3\": \"hsl(var(--pink-a3))\",\n          \"a4\": \"hsl(var(--pink-a4))\",\n          \"a5\": \"hsl(var(--pink-a5))\",\n        },\n        cyan: {\n          \"1\": \"hsl(var(--cyan-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--cyan-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--cyan-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--cyan-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--cyan-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--cyan-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--cyan-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--cyan-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--cyan-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--cyan-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--cyan-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--cyan-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--cyan-a1))\",\n          \"a2\": \"hsl(var(--cyan-a2))\",\n          \"a3\": \"hsl(var(--cyan-a3))\",\n          \"a4\": \"hsl(var(--cyan-a4))\",\n          \"a5\": \"hsl(var(--cyan-a5))\",\n        },\n        teal: {\n          \"1\": \"hsl(var(--teal-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--teal-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--teal-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--teal-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--teal-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--teal-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--teal-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--teal-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--teal-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--teal-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--teal-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--teal-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--teal-a1))\",\n          \"a2\": \"hsl(var(--teal-a2))\",\n          \"a3\": \"hsl(var(--teal-a3))\",\n          \"a4\": \"hsl(var(--teal-a4))\",\n          \"a5\": \"hsl(var(--teal-a5))\",\n        },\n        violet: {\n          \"1\": \"hsl(var(--violet-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--violet-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--violet-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--violet-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--violet-5) / <alpha-value>)\",\n          \"6\": \"hsl(var(--violet-6) / <alpha-value>)\",\n          \"7\": \"hsl(var(--violet-7) / <alpha-value>)\",\n          \"8\": \"hsl(var(--violet-8) / <alpha-value>)\",\n          \"9\": \"hsl(var(--violet-9) / <alpha-value>)\",\n          \"10\": \"hsl(var(--violet-10) / <alpha-value>)\",\n          \"11\": \"hsl(var(--violet-11) / <alpha-value>)\",\n          \"12\": \"hsl(var(--violet-12) / <alpha-value>)\",\n          \"a1\": \"hsl(var(--violet-a1))\",\n          \"a2\": \"hsl(var(--violet-a2))\",\n          \"a3\": \"hsl(var(--violet-a3))\",\n          \"a4\": \"hsl(var(--violet-a4))\",\n          \"a5\": \"hsl(var(--violet-a5))\",\n        },\n      },\n      fontFamily: {\n        sans: [\"Inter\", \"system-ui\", \"sans-serif\"],\n        serif: [\"Georgia\", \"serif\"],\n        mono: [\"JetBrains Mono\", \"monospace\"],\n        display: [\"Inter\", \"system-ui\", \"sans-serif\"],\n        body: [\"Inter\", \"system-ui\", \"sans-serif\"],\n      },\n      fontSize: {\n        \"0\": [\"10px\", { lineHeight: \"14px\" }],\n        \"1\": [\"12px\", { lineHeight: \"16px\" }],\n        \"2\": [\"14px\", { lineHeight: \"20px\" }],\n        \"3\": [\"16px\", { lineHeight: \"24px\" }],\n        \"4\": [\"18px\", { lineHeight: \"26px\" }],\n        \"5\": [\"20px\", { lineHeight: \"28px\" }],\n        \"6\": [\"24px\", { lineHeight: \"30px\" }],\n        \"7\": [\"28px\", { lineHeight: \"36px\" }],\n        \"8\": [\"32px\", { lineHeight: \"40px\" }],\n        \"9\": [\"40px\", { lineHeight: \"48px\" }],\n      },\n      backdropBlur: {\n        frosted: \"20px\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n        \"fade-in\": {\n          from: { opacity: \"0\" },\n          to: { opacity: \"1\" },\n        },\n        \"fade-up\": {\n          from: { opacity: \"0\", transform: \"translateY(10px)\" },\n          to: { opacity: \"1\", transform: \"translateY(0)\" },\n        },\n        \"scale-in\": {\n          from: { opacity: \"0\", transform: \"scale(0.95)\" },\n          to: { opacity: \"1\", transform: \"scale(1)\" },\n        },\n        shimmer: {\n          \"0%\": { backgroundPosition: \"-200% 0\" },\n          \"100%\": { backgroundPosition: \"200% 0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"fade-in\": \"fade-in 0.3s ease-out forwards\",\n        \"fade-up\": \"fade-up 0.4s ease-out forwards\",\n        \"scale-in\": \"scale-in 0.3s ease-out forwards\",\n        shimmer: \"shimmer 2s linear infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":14086,"size_tokens":null},"client/src/components/CompatibilityChecker.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport { calculateComprehensiveCompatibility, type ComprehensiveCompatibility } from '@/lib/numerology';\nimport { apiRequest } from '@/lib/queryClient';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { DatePicker } from '@/components/ui/date-picker';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Users, Heart, Sparkles, ArrowRight, Star, Zap, Brain, \n  MessageCircle, TrendingUp, Sun, Target, Loader2,\n  CheckCircle, AlertTriangle, Lightbulb, HeartHandshake, Info\n} from 'lucide-react';\n\ninterface CompatibilityCheckerProps {\n  userBirthDate: Date;\n  userName: string;\n  userFullName?: string;\n}\n\ninterface AIInsights {\n  overviewNarrative: string;\n  emotionalConnection: string;\n  communicationDynamic: string;\n  growthPotential: string;\n  dailyLifeTogether: string;\n  advice: string;\n}\n\ntype AnalysisPhase = 'idle' | 'calculating' | 'analyzing' | 'generating' | 'complete';\n\nconst analysisMessages: Record<AnalysisPhase, string> = {\n  idle: '',\n  calculating: 'Calculating numerology profiles...',\n  analyzing: 'Analyzing dimensional compatibility...',\n  generating: 'Generating personalized insights...',\n  complete: 'Analysis complete!',\n};\n\nexport function CompatibilityChecker({ userBirthDate, userName, userFullName }: CompatibilityCheckerProps) {\n  const [targetName, setTargetName] = useState('');\n  const [targetDate, setTargetDate] = useState<Date | undefined>(undefined);\n  const [result, setResult] = useState<ComprehensiveCompatibility | null>(null);\n  const [aiInsights, setAiInsights] = useState<AIInsights | null>(null);\n  const [phase, setPhase] = useState<AnalysisPhase>('idle');\n  const [progress, setProgress] = useState(0);\n\n  const aiMutation = useMutation({\n    mutationFn: async (data: { person1: any; person2: any; overallScore: number; level: string }) => {\n      const response = await apiRequest('POST', '/api/compatibility', data);\n      const json = await response.json();\n      return json.insights as AIInsights;\n    },\n    onSuccess: (insights) => {\n      setAiInsights(insights);\n      setPhase('complete');\n      setProgress(100);\n    },\n    onError: () => {\n      setPhase('complete');\n      setProgress(100);\n    },\n  });\n\n  useEffect(() => {\n    if (phase === 'idle' || phase === 'complete') return;\n    \n    const interval = setInterval(() => {\n      setProgress(prev => {\n        if (phase === 'calculating' && prev < 30) return prev + 2;\n        if (phase === 'analyzing' && prev < 60) return prev + 1.5;\n        if (phase === 'generating' && prev < 95) return prev + 0.5;\n        return prev;\n      });\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, [phase]);\n\n  const handleCheck = async () => {\n    if (!targetDate || !targetName) return;\n    \n    setPhase('calculating');\n    setProgress(0);\n    setResult(null);\n    setAiInsights(null);\n\n    await new Promise(resolve => setTimeout(resolve, 800));\n    \n    const person1Name = userFullName || userName;\n    \n    const compatibility = calculateComprehensiveCompatibility(\n      person1Name,\n      userBirthDate,\n      targetName,\n      targetDate\n    );\n    \n    setResult(compatibility);\n    setPhase('analyzing');\n    setProgress(30);\n\n    await new Promise(resolve => setTimeout(resolve, 600));\n    \n    setPhase('generating');\n    setProgress(60);\n\n    aiMutation.mutate({\n      person1: {\n        name: person1Name,\n        birthDate: userBirthDate.toISOString(),\n        lifePathNumber: compatibility.person1Profile.lifePathNumber,\n        expressionNumber: compatibility.person1Profile.expressionNumber,\n        soulUrgeNumber: compatibility.person1Profile.soulUrgeNumber,\n        personalityNumber: compatibility.person1Profile.personalityNumber,\n        attitudeNumber: compatibility.person1Profile.attitudeNumber,\n        dayOfBirthNumber: compatibility.person1Profile.dayOfBirthNumber,\n        westernZodiac: compatibility.person1Profile.westernZodiac.sign,\n        westernElement: compatibility.person1Profile.westernZodiac.element,\n        chineseZodiac: compatibility.person1Profile.chineseZodiac.animal,\n        chineseElement: compatibility.person1Profile.chineseZodiac.element,\n        energySignature: compatibility.person1Profile.energySignature,\n      },\n      person2: {\n        name: targetName,\n        birthDate: date.toISOString(),\n        lifePathNumber: compatibility.person2Profile.lifePathNumber,\n        expressionNumber: compatibility.person2Profile.expressionNumber,\n        soulUrgeNumber: compatibility.person2Profile.soulUrgeNumber,\n        personalityNumber: compatibility.person2Profile.personalityNumber,\n        attitudeNumber: compatibility.person2Profile.attitudeNumber,\n        dayOfBirthNumber: compatibility.person2Profile.dayOfBirthNumber,\n        westernZodiac: compatibility.person2Profile.westernZodiac.sign,\n        westernElement: compatibility.person2Profile.westernZodiac.element,\n        chineseZodiac: compatibility.person2Profile.chineseZodiac.animal,\n        chineseElement: compatibility.person2Profile.chineseZodiac.element,\n        energySignature: compatibility.person2Profile.energySignature,\n      },\n      overallScore: compatibility.overallScore,\n      level: compatibility.level,\n    });\n  };\n\n  const isAnalyzing = phase !== 'idle' && phase !== 'complete';\n\n  const getLevelColor = (level: string) => {\n    switch (level) {\n      case 'Ideal': case 'Excellent': return 'bg-green-9 text-white';\n      case 'Harmonious': case 'Good': return 'bg-green-7 text-white';\n      case 'Neutral': case 'Moderate': return 'bg-amber-7 text-white';\n      case 'Challenging': case 'Low': return 'bg-red-7 text-white';\n      case 'Avoid': return 'bg-red-9 text-white';\n      default: return 'bg-gray-7 text-white';\n    }\n  };\n\n  const getScoreColor = (score: number) => {\n    if (score >= 80) return 'bg-green-9';\n    if (score >= 60) return 'bg-green-7';\n    if (score >= 45) return 'bg-amber-7';\n    return 'bg-red-7';\n  };\n\n  const getDimensionIcon = (dimension: string) => {\n    switch (dimension) {\n      case 'lifePath': return Star;\n      case 'expression': return MessageCircle;\n      case 'soulUrge': return Heart;\n      case 'personality': return Brain;\n      case 'attitude': return Zap;\n      case 'dayOfBirth': return Sun;\n      default: return Star;\n    }\n  };\n\n  const getDimensionLabel = (dimension: string) => {\n    switch (dimension) {\n      case 'lifePath': return 'Life Path';\n      case 'expression': return 'Expression';\n      case 'soulUrge': return 'Soul Urge';\n      case 'personality': return 'Personality';\n      case 'attitude': return 'Attitude';\n      case 'dayOfBirth': return 'Day of Birth';\n      default: return dimension;\n    }\n  };\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-compatibility\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 to-transparent pointer-events-none\" />\n      \n      <CardHeader className=\"relative\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-12 h-12 rounded-lg bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center\">\n            <Users className=\"w-6 h-6 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-4\">Compatibility Analysis</CardTitle>\n            <CardDescription className=\"text-2 text-gray-11\">\n              Deep multi-dimensional energy analysis\n            </CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6 relative\">\n        {/* Input Form */}\n        <div className=\"space-y-4 p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"targetName\" className=\"text-2\">Their Full Name</Label>\n              <Input\n                id=\"targetName\"\n                variant=\"frosted\"\n                placeholder=\"Enter their full name\"\n                value={targetName}\n                onChange={(e) => setTargetName(e.target.value)}\n                disabled={isAnalyzing}\n                data-testid=\"input-target-name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label className=\"text-2\">Their Birth Date</Label>\n              <DatePicker\n                value={targetDate}\n                onChange={setTargetDate}\n                disabled={isAnalyzing}\n                fromYear={1920}\n                toYear={new Date().getFullYear()}\n                data-testid=\"input-target-date\"\n              />\n            </div>\n          </div>\n          <Button\n            variant=\"gold\"\n            className=\"w-full\"\n            onClick={handleCheck}\n            disabled={!targetName || !targetDate || isAnalyzing}\n            data-testid=\"button-check-compatibility\"\n          >\n            {isAnalyzing ? (\n              <>\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Analyzing...\n              </>\n            ) : (\n              <>\n                Analyze Compatibility\n                <ArrowRight className=\"w-4 h-4\" />\n              </>\n            )}\n          </Button>\n        </div>\n\n        {/* Analyzing State */}\n        {isAnalyzing && (\n          <div className=\"p-8 rounded-xl bg-gradient-to-br from-violet-a3 to-amber-a2 border border-violet-a4 text-center\" data-testid=\"analyzing-state\">\n            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-violet-8 to-amber-8 flex items-center justify-center\">\n              <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\n            </div>\n            <h3 className=\"text-4 font-semibold text-gray-12 mb-2\">\n              {analysisMessages[phase]}\n            </h3>\n            <p className=\"text-2 text-gray-11 mb-4\">\n              Analyzing numerology, zodiac patterns, and energy signatures...\n            </p>\n            <div className=\"max-w-xs mx-auto\">\n              <Progress value={progress} className=\"h-2\" />\n              <p className=\"text-1 text-gray-10 mt-2\">{Math.round(progress)}% complete</p>\n            </div>\n          </div>\n        )}\n\n        {/* Results */}\n        {phase === 'complete' && result && (\n          <div className=\"space-y-6 animate-fade-in\" data-testid=\"compatibility-result\">\n            \n            {/* Overall Score Header */}\n            <div className=\"text-center p-6 rounded-xl bg-gradient-to-br from-gray-a3 to-gray-a2 border border-gray-a4\">\n              <div className=\"flex items-center justify-center gap-6 mb-4\">\n                <div className=\"text-center\">\n                  <p className=\"text-2 font-medium text-gray-12 mb-1\">{userName}</p>\n                  <Badge variant=\"outline\" size=\"sm\">LP {result.person1Profile.lifePathNumber}</Badge>\n                </div>\n                \n                <div className=\"relative\">\n                  <div className={`w-24 h-24 rounded-full flex items-center justify-center text-6 font-bold ${getScoreColor(result.overallScore)} text-white shadow-lg`}>\n                    {result.overallScore}%\n                  </div>\n                  <Sparkles className=\"absolute -top-1 -right-1 w-6 h-6 text-amber-9\" />\n                </div>\n                \n                <div className=\"text-center\">\n                  <p className=\"text-2 font-medium text-gray-12 mb-1\">{targetName.split(' ')[0]}</p>\n                  <Badge variant=\"outline\" size=\"sm\">LP {result.person2Profile.lifePathNumber}</Badge>\n                </div>\n              </div>\n              \n              <Badge className={`text-3 px-4 py-2 ${getLevelColor(result.level)}`} size=\"lg\">\n                {result.level} Match\n              </Badge>\n              \n              {aiInsights && (\n                <p className=\"text-2 text-gray-11 mt-4 max-w-xl mx-auto leading-relaxed\">\n                  {aiInsights.overviewNarrative}\n                </p>\n              )}\n            </div>\n\n            {/* Tabbed Content */}\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-3 mb-4\">\n                <TabsTrigger value=\"overview\" data-testid=\"tab-overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"dimensions\" data-testid=\"tab-dimensions\">Dimensions</TabsTrigger>\n                <TabsTrigger value=\"zodiac\" data-testid=\"tab-zodiac\">Zodiac</TabsTrigger>\n              </TabsList>\n\n              {/* Overview Tab */}\n              <TabsContent value=\"overview\" className=\"space-y-4\">\n                {/* AI Insights */}\n                {aiInsights && (\n                  <div className=\"space-y-4\">\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div className=\"p-4 rounded-lg bg-pink-a2 border border-pink-a4\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Heart className=\"w-4 h-4 text-pink-9\" />\n                          <p className=\"text-2 font-medium text-gray-12\">Emotional Connection</p>\n                        </div>\n                        <p className=\"text-2 text-gray-11\">{aiInsights.emotionalConnection}</p>\n                      </div>\n                      <div className=\"p-4 rounded-lg bg-blue-a2 border border-blue-a4\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <MessageCircle className=\"w-4 h-4 text-blue-9\" />\n                          <p className=\"text-2 font-medium text-gray-12\">Communication</p>\n                        </div>\n                        <p className=\"text-2 text-gray-11\">{aiInsights.communicationDynamic}</p>\n                      </div>\n                    </div>\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div className=\"p-4 rounded-lg bg-violet-a2 border border-violet-a4\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <TrendingUp className=\"w-4 h-4 text-violet-9\" />\n                          <p className=\"text-2 font-medium text-gray-12\">Growth Potential</p>\n                        </div>\n                        <p className=\"text-2 text-gray-11\">{aiInsights.growthPotential}</p>\n                      </div>\n                      <div className=\"p-4 rounded-lg bg-green-a2 border border-green-a4\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Users className=\"w-4 h-4 text-green-9\" />\n                          <p className=\"text-2 font-medium text-gray-12\">Daily Life Together</p>\n                        </div>\n                        <p className=\"text-2 text-gray-11\">{aiInsights.dailyLifeTogether}</p>\n                      </div>\n                    </div>\n                    <div className=\"p-4 rounded-lg bg-amber-a2 border border-amber-a4\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <Lightbulb className=\"w-4 h-4 text-amber-9\" />\n                        <p className=\"text-2 font-medium text-gray-12\">Key Advice</p>\n                      </div>\n                      <p className=\"text-2 text-gray-11\">{aiInsights.advice}</p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Strengths & Challenges */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <div className=\"p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <CheckCircle className=\"w-5 h-5 text-green-9\" />\n                      <h4 className=\"text-3 font-medium text-gray-12\">Strengths</h4>\n                    </div>\n                    <ul className=\"space-y-2\">\n                      {result.strengths.map((strength, i) => (\n                        <li key={i} className=\"text-2 text-gray-11 flex items-start gap-2\">\n                          <span className=\"text-green-9 mt-0.5\">+</span>\n                          {strength}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n\n                  <div className=\"p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <AlertTriangle className=\"w-5 h-5 text-amber-9\" />\n                      <h4 className=\"text-3 font-medium text-gray-12\">Challenges</h4>\n                    </div>\n                    <ul className=\"space-y-2\">\n                      {result.challenges.length > 0 ? result.challenges.map((challenge, i) => (\n                        <li key={i} className=\"text-2 text-gray-11 flex items-start gap-2\">\n                          <span className=\"text-amber-9 mt-0.5\">!</span>\n                          {challenge}\n                        </li>\n                      )) : (\n                        <li className=\"text-2 text-gray-10\">No major challenges identified</li>\n                      )}\n                    </ul>\n                  </div>\n                </div>\n              </TabsContent>\n\n              {/* Dimensions Tab */}\n              <TabsContent value=\"dimensions\" className=\"space-y-3\">\n                {Object.entries(result.dimensions).map(([key, dim]) => {\n                  const Icon = getDimensionIcon(key);\n                  return (\n                    <div key={key} className=\"p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n                      <div className=\"flex items-center justify-between gap-3 mb-2\">\n                        <div className=\"flex items-center gap-3\">\n                          <Icon className=\"w-5 h-5 text-gray-10\" />\n                          <span className=\"text-2 font-medium text-gray-12\">{getDimensionLabel(key)}</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Badge variant=\"outline\" size=\"sm\">{dim.person1Value}</Badge>\n                          <span className=\"text-1 text-gray-9\">vs</span>\n                          <Badge variant=\"outline\" size=\"sm\">{dim.person2Value}</Badge>\n                          <Badge className={getLevelColor(dim.level)} size=\"sm\">{dim.score}%</Badge>\n                        </div>\n                      </div>\n                      <Progress value={dim.score} className=\"h-1.5 mb-2\" />\n                      <p className=\"text-1 text-gray-10\">{dim.insight}</p>\n                    </div>\n                  );\n                })}\n              </TabsContent>\n\n              {/* Zodiac Tab */}\n              <TabsContent value=\"zodiac\" className=\"space-y-4\">\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  {/* Chinese Zodiac */}\n                  <div className=\"p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <Target className=\"w-5 h-5 text-red-9\" />\n                        <h4 className=\"text-3 font-medium text-gray-12\">Chinese Zodiac</h4>\n                      </div>\n                      <Badge className={getLevelColor(result.zodiac.chineseLevel)} size=\"sm\">\n                        {result.zodiac.chineseScore}%\n                      </Badge>\n                    </div>\n                    <div className=\"flex items-center justify-center gap-4 mb-3 py-2\">\n                      <div className=\"text-center\">\n                        <p className=\"text-3 font-medium text-gray-12\">{result.person1Profile.chineseZodiac.animal}</p>\n                        <p className=\"text-1 text-gray-10\">{result.person1Profile.chineseZodiac.element}</p>\n                      </div>\n                      <HeartHandshake className=\"w-5 h-5 text-gray-9\" />\n                      <div className=\"text-center\">\n                        <p className=\"text-3 font-medium text-gray-12\">{result.person2Profile.chineseZodiac.animal}</p>\n                        <p className=\"text-1 text-gray-10\">{result.person2Profile.chineseZodiac.element}</p>\n                      </div>\n                    </div>\n                    <p className=\"text-1 text-gray-11\">{result.zodiac.chineseInsight}</p>\n                  </div>\n\n                  {/* Western Zodiac */}\n                  <div className=\"p-4 rounded-lg bg-gray-a2 border border-gray-a4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <Star className=\"w-5 h-5 text-amber-9\" />\n                        <h4 className=\"text-3 font-medium text-gray-12\">Western Zodiac</h4>\n                      </div>\n                      <Badge className={getLevelColor(result.zodiac.westernLevel)} size=\"sm\">\n                        {result.zodiac.westernScore}%\n                      </Badge>\n                    </div>\n                    <div className=\"flex items-center justify-center gap-4 mb-3 py-2\">\n                      <div className=\"text-center\">\n                        <p className=\"text-3 font-medium text-gray-12\">{result.person1Profile.westernZodiac.sign}</p>\n                        <p className=\"text-1 text-gray-10\">{result.person1Profile.westernZodiac.element}</p>\n                      </div>\n                      <HeartHandshake className=\"w-5 h-5 text-gray-9\" />\n                      <div className=\"text-center\">\n                        <p className=\"text-3 font-medium text-gray-12\">{result.person2Profile.westernZodiac.sign}</p>\n                        <p className=\"text-1 text-gray-10\">{result.person2Profile.westernZodiac.element}</p>\n                      </div>\n                    </div>\n                    <p className=\"text-1 text-gray-11\">{result.zodiac.westernInsight}</p>\n                  </div>\n                </div>\n\n                {/* Element Harmony */}\n                <div className=\"p-4 rounded-lg bg-gradient-to-r from-violet-a2 to-amber-a2 border border-gray-a4 text-center\">\n                  <p className=\"text-2 font-medium text-gray-12 mb-1\">Element Harmony</p>\n                  <p className=\"text-2 text-gray-11\">{result.zodiac.elementHarmony}</p>\n                </div>\n              </TabsContent>\n            </Tabs>\n          </div>\n        )}\n\n        {/* Relationship Insights Section */}\n        <div className=\"mt-8 p-6 rounded-xl bg-gray-a2 border border-gray-a4 space-y-6\">\n          <div className=\"flex items-start gap-3\">\n            <Info className=\"w-5 h-5 text-amber-9 mt-0.5 shrink-0\" />\n            <div>\n              <h3 className=\"text-3 font-semibold text-gray-12 mb-2\">Relationship Insights</h3>\n              <p className=\"text-2 text-gray-11 leading-relaxed\">\n                Understanding energy compatibility helps you navigate relationships more consciously. High compatibility doesn't guarantee success, and challenges can lead to growth.\n              </p>\n              <p className=\"text-2 text-gray-11 leading-relaxed mt-2\">\n                Use these insights as guidance, not absolute predictions. Every relationship requires effort and understanding.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"border-t border-gray-a4 pt-4\">\n            <h4 className=\"text-2 font-medium text-gray-12 mb-3\">Compatibility Levels</h4>\n            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-2\">\n              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-green-a2\">\n                <div className=\"w-2 h-2 rounded-full bg-green-9\" />\n                <div>\n                  <p className=\"text-1 font-medium text-gray-12\">Ideal</p>\n                  <p className=\"text-0 text-gray-10\">Exceptional alignment</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-green-a2/50\">\n                <div className=\"w-2 h-2 rounded-full bg-green-7\" />\n                <div>\n                  <p className=\"text-1 font-medium text-gray-12\">Harmonious</p>\n                  <p className=\"text-0 text-gray-10\">Natural flow</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-amber-a2\">\n                <div className=\"w-2 h-2 rounded-full bg-amber-7\" />\n                <div>\n                  <p className=\"text-1 font-medium text-gray-12\">Neutral</p>\n                  <p className=\"text-0 text-gray-10\">Balanced connection</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-red-a2/50\">\n                <div className=\"w-2 h-2 rounded-full bg-red-7\" />\n                <div>\n                  <p className=\"text-1 font-medium text-gray-12\">Challenging</p>\n                  <p className=\"text-0 text-gray-10\">Growth opportunities</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2 p-2 rounded-lg bg-red-a2\">\n                <div className=\"w-2 h-2 rounded-full bg-red-9\" />\n                <div>\n                  <p className=\"text-1 font-medium text-gray-12\">Avoid</p>\n                  <p className=\"text-0 text-gray-10\">Exercise caution</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":25776,"size_tokens":null},"client/src/pages/learn.tsx":{"content":"import { useState } from 'react';\nimport { Link } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { BookOpen, Play, Clock, Star, Lock, Sparkles } from 'lucide-react';\nimport { courses } from '@/lib/courses-data';\nimport { useWhopContext } from '@/context/WhopContext';\n\nconst ODIS_ID_KEY = 'gg33-odis-id';\n\nexport default function Learn() {\n  const { basePath } = useWhopContext();\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n  \n  const savedOdisId = localStorage.getItem(ODIS_ID_KEY);\n  const { data: profileData } = useQuery<{ isPro?: boolean }>({\n    queryKey: ['/api/profile', savedOdisId],\n    enabled: !!savedOdisId,\n  });\n  const isPro = profileData?.isPro ?? false;\n  \n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-learn\">\n        <div className=\"container mx-auto max-w-6xl space-y-8\">\n          <div className=\"text-center\">\n            <Badge variant=\"outline\" className=\"mb-4\">\n              <BookOpen className=\"w-3 h-3 mr-1\" />\n              Study Zone\n            </Badge>\n            <h1 className=\"text-6 md:text-7 font-semibold mb-4\">\n              <span className=\"gradient-text\">Learn</span> the GG33 System\n            </h1>\n            <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n              Master the art of using numerology and astrology for life decisions through our structured courses.\n            </p>\n          </div>\n\n          <div className=\"flex flex-wrap gap-4 justify-center\">\n            <Badge variant=\"secondary\" className=\"py-1.5\">\n              <Star className=\"w-3 h-3 mr-1 text-amber-9\" />\n              2 Free Courses\n            </Badge>\n            <Badge variant=\"secondary\" className=\"py-1.5\">\n              <Clock className=\"w-3 h-3 mr-1\" />\n              3+ Hours Content\n            </Badge>\n            <Badge variant=\"secondary\" className=\"py-1.5\">\n              <BookOpen className=\"w-3 h-3 mr-1\" />\n              59 Lessons\n            </Badge>\n          </div>\n\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {courses.map((course) => (\n              <Card \n                key={course.id} \n                variant={course.free ? 'frosted' : 'glass'}\n                className=\"relative overflow-hidden flex flex-col\"\n                data-testid={`card-course-${course.id}`}\n              >\n                {!course.free && !isPro && (\n                  <div className=\"absolute top-4 right-4\">\n                    <Lock className=\"w-4 h-4 text-gray-10\" />\n                  </div>\n                )}\n                <CardHeader>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    {course.free ? (\n                      <Badge color=\"green\" variant=\"outline\" size=\"sm\">\n                        Free\n                      </Badge>\n                    ) : (\n                      <Badge variant=\"secondary\" size=\"sm\">\n                        Premium\n                      </Badge>\n                    )}\n                  </div>\n                  <CardTitle className=\"text-4\">{course.title}</CardTitle>\n                  <CardDescription className=\"text-2 text-gray-11\">{course.description}</CardDescription>\n                </CardHeader>\n                <CardContent className=\"flex flex-col flex-1\">\n                  <div className=\"flex items-center gap-4 text-2 text-gray-11 mb-4\">\n                    <span className=\"flex items-center gap-1\">\n                      <Clock className=\"w-4 h-4\" />\n                      {course.duration}\n                    </span>\n                    <span className=\"flex items-center gap-1\">\n                      <BookOpen className=\"w-4 h-4\" />\n                      {course.lessons.length} lessons\n                    </span>\n                  </div>\n                  <div className=\"mt-auto\">\n                    {course.free || isPro ? (\n                      <Link href={`${basePath}/course/${course.id}`}>\n                        <Button \n                          variant=\"gold\" \n                          className=\"w-full\"\n                          data-testid={`button-start-course-${course.id}`}\n                        >\n                          <Play className=\"w-4 h-4 mr-2\" />\n                          Start Learning\n                        </Button>\n                      </Link>\n                    ) : (\n                      <Button \n                        variant=\"outline\" \n                        className=\"w-full\"\n                        onClick={() => setShowUpgradeModal(true)}\n                        data-testid={`button-locked-course-${course.id}`}\n                      >\n                        <Lock className=\"w-4 h-4 mr-2\" />\n                        Unlock Course\n                      </Button>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {!isPro && (\n            <Card variant=\"glow\" className=\"text-center\">\n              <CardContent className=\"py-12\">\n                <BookOpen className=\"w-12 h-12 mx-auto text-amber-9 mb-4\" />\n                <h3 className=\"text-4 font-semibold mb-2\">\n                  Unlock All Courses\n                </h3>\n                <p className=\"text-gray-11 text-2 mb-6 max-w-md mx-auto\">\n                  Upgrade to Pro to access all premium courses and become a GG33 master.\n                </p>\n                <Button \n                  variant=\"gold\" \n                  onClick={() => setShowUpgradeModal(true)}\n                  data-testid=\"button-unlock-courses\"\n                >\n                  <Sparkles className=\"w-4 h-4 mr-2\" />\n                  Upgrade to Pro\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </main>\n      \n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":6349,"size_tokens":null},"client/src/pages/cues.tsx":{"content":"import { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { \n  Database, \n  Search, \n  Building2, \n  MapPin, \n  User, \n  ChevronLeft, \n  ChevronRight,\n  Sparkles,\n  Calendar,\n  Globe,\n  Loader2,\n  Crown,\n  Lock\n} from 'lucide-react';\n\n// Western Zodiac Images\nimport ariesImg from '@assets/generated_images/aries_zodiac_symbol_icon.png';\nimport taurusImg from '@assets/generated_images/taurus_zodiac_symbol_icon.png';\nimport geminiImg from '@assets/generated_images/gemini_zodiac_symbol_icon.png';\nimport cancerImg from '@assets/generated_images/cancer_zodiac_symbol_icon.png';\nimport leoImg from '@assets/generated_images/leo_zodiac_symbol_icon.png';\nimport virgoImg from '@assets/generated_images/virgo_zodiac_symbol_icon.png';\nimport libraImg from '@assets/generated_images/libra_zodiac_symbol_icon.png';\nimport scorpioImg from '@assets/generated_images/scorpio_zodiac_symbol_icon.png';\nimport sagittariusImg from '@assets/generated_images/sagittarius_zodiac_symbol_icon.png';\nimport capricornImg from '@assets/generated_images/capricorn_zodiac_symbol_icon.png';\nimport aquariusImg from '@assets/generated_images/aquarius_zodiac_symbol_icon.png';\nimport piscesImg from '@assets/generated_images/pisces_zodiac_symbol_icon.png';\n\n// Chinese Zodiac Images\nimport ratImg from '@assets/generated_images/chinese_zodiac_rat_icon.png';\nimport oxImg from '@assets/generated_images/chinese_zodiac_ox_icon.png';\nimport tigerImg from '@assets/generated_images/chinese_zodiac_tiger_icon.png';\nimport rabbitImg from '@assets/generated_images/chinese_zodiac_rabbit_icon.png';\nimport dragonImg from '@assets/generated_images/chinese_zodiac_dragon_icon.png';\nimport snakeImg from '@assets/generated_images/chinese_zodiac_snake_icon.png';\nimport horseImg from '@assets/generated_images/chinese_zodiac_horse_icon.png';\nimport goatImg from '@assets/generated_images/chinese_zodiac_goat_icon.png';\nimport monkeyImg from '@assets/generated_images/chinese_zodiac_monkey_icon.png';\nimport roosterImg from '@assets/generated_images/chinese_zodiac_rooster_icon.png';\nimport dogImg from '@assets/generated_images/chinese_zodiac_dog_icon.png';\nimport pigImg from '@assets/generated_images/chinese_zodiac_pig_icon.png';\n\nconst westernZodiacImages: Record<string, string> = {\n  'Aries': ariesImg,\n  'Taurus': taurusImg,\n  'Gemini': geminiImg,\n  'Cancer': cancerImg,\n  'Leo': leoImg,\n  'Virgo': virgoImg,\n  'Libra': libraImg,\n  'Scorpio': scorpioImg,\n  'Sagittarius': sagittariusImg,\n  'Capricorn': capricornImg,\n  'Aquarius': aquariusImg,\n  'Pisces': piscesImg,\n};\n\nconst chineseZodiacImages: Record<string, string> = {\n  'Rat': ratImg,\n  'Ox': oxImg,\n  'Tiger': tigerImg,\n  'Rabbit': rabbitImg,\n  'Dragon': dragonImg,\n  'Snake': snakeImg,\n  'Horse': horseImg,\n  'Goat': goatImg,\n  'Monkey': monkeyImg,\n  'Rooster': roosterImg,\n  'Dog': dogImg,\n  'Pig': pigImg,\n};\n\ninterface Cue {\n  id: number;\n  name: string;\n  type: 'Brand' | 'Location' | 'Person';\n  foundedOrBirth: string;\n  category?: string;\n  country?: string;\n  description?: string;\n  lifePathNumber: number;\n  energySignature: string;\n}\n\ninterface EnhancedCue extends Cue {\n  chineseZodiac: {\n    animal: string;\n    element: string;\n    yinYang: string;\n  };\n  westernZodiac: {\n    sign: string;\n    element: string;\n    rulingPlanet: string;\n  };\n  aboutDescription: string;\n}\n\ninterface CuesResponse {\n  items: Cue[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n  hasMore: boolean;\n}\n\ninterface CuesStats {\n  total: number;\n  byType: {\n    Brand: number;\n    Location: number;\n    Person: number;\n  };\n  byLifePath: Record<number, number>;\n}\n\nfunction useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay);\n    return () => clearTimeout(timer);\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nfunction getTypeIcon(type: string) {\n  switch (type) {\n    case 'Brand': return Building2;\n    case 'Location': return MapPin;\n    case 'Person': return User;\n    default: return Database;\n  }\n}\n\nfunction formatDate(dateStr: string): string {\n  try {\n    const date = new Date(dateStr);\n    if (isNaN(date.getTime())) return dateStr;\n    return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  } catch {\n    return dateStr;\n  }\n}\n\nfunction CueCardSkeleton() {\n  return (\n    <Card variant=\"glass\">\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <Skeleton className=\"h-5 w-32\" />\n          <Skeleton className=\"h-5 w-12\" />\n        </div>\n        <Skeleton className=\"h-3 w-40 mt-2\" />\n      </CardHeader>\n      <CardContent>\n        <Skeleton className=\"h-4 w-28\" />\n      </CardContent>\n    </Card>\n  );\n}\n\nconst FEATURED_CUE_NAMES = ['Apple Inc.', 'Microsoft', 'Google', 'Amazon', 'Meta', 'Netflix'];\n\nexport default function Cues() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [typeFilter, setTypeFilter] = useState<string>('');\n  const [lifePathFilter, setLifePathFilter] = useState<string>('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [selectedCueId, setSelectedCueId] = useState<number | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n  const pageSize = 24;\n\n  const savedOdisId = localStorage.getItem('gg33-odis-id');\n  const { data: profileData } = useQuery<{ isPro?: boolean }>({\n    queryKey: ['/api/profile', savedOdisId],\n    enabled: !!savedOdisId,\n  });\n  const isPro = profileData?.isPro ?? false;\n\n  const debouncedSearch = useDebounce(searchQuery, 300);\n\n  const { data: selectedCueData, isLoading: isLoadingCue } = useQuery<{ cue: EnhancedCue }>({\n    queryKey: [`/api/cues/${selectedCueId}`],\n    enabled: selectedCueId !== null,\n  });\n\n  const handleCueClick = useCallback((cueId: number) => {\n    setSelectedCueId(cueId);\n    setIsModalOpen(true);\n  }, []);\n\n  const handleCloseModal = useCallback(() => {\n    setIsModalOpen(false);\n    setSelectedCueId(null);\n  }, []);\n\n  // Reset to page 1 when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [debouncedSearch, typeFilter, lifePathFilter]);\n\n  // Build query URL\n  const cuesUrl = useMemo(() => {\n    const params = new URLSearchParams();\n    if (debouncedSearch) params.set('q', debouncedSearch);\n    if (typeFilter) params.set('type', typeFilter);\n    if (lifePathFilter) params.set('lifePath', lifePathFilter);\n    params.set('page', currentPage.toString());\n    params.set('pageSize', pageSize.toString());\n    return `/api/cues?${params.toString()}`;\n  }, [debouncedSearch, typeFilter, lifePathFilter, currentPage]);\n\n  // Fetch cues\n  const { data: cuesData, isLoading, isError, isFetching } = useQuery<CuesResponse>({\n    queryKey: [cuesUrl],\n  });\n\n  // Fetch stats\n  const { data: statsData } = useQuery<CuesStats>({\n    queryKey: ['/api/cues-stats'],\n  });\n\n  const handleTypeFilter = useCallback((type: string) => {\n    setTypeFilter(prev => prev === type ? '' : type);\n  }, []);\n\n  const handleLifePathChange = useCallback((value: string) => {\n    setLifePathFilter(value === 'all' ? '' : value);\n  }, []);\n\n  const goToPage = useCallback((page: number) => {\n    setCurrentPage(page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  const lifePathNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 22, 33];\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-cues\">\n        <div className=\"container mx-auto max-w-6xl space-y-8\">\n          {/* Header */}\n          <div className=\"text-center\">\n            <Badge variant=\"outline\" className=\"mb-4\">\n              <Database className=\"w-3 h-3 mr-1\" />\n              Energy Database\n            </Badge>\n            <h1 className=\"text-6 md:text-7 font-semibold mb-4\">\n              {statsData?.total.toLocaleString() || '22,000'}+ <span className=\"gradient-text\">Cues</span>\n            </h1>\n            <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n              Explore our database of brands, cities, and notable people with their calculated energy signatures.\n            </p>\n            \n            {/* Stats badges */}\n            {statsData && (\n              <div className=\"flex flex-wrap justify-center gap-3 mt-6\">\n                <Badge variant=\"outline\" className=\"text-2\">\n                  <Building2 className=\"w-3 h-3 mr-1\" />\n                  {statsData.byType.Brand.toLocaleString()} Brands\n                </Badge>\n                <Badge variant=\"outline\" className=\"text-2\">\n                  <MapPin className=\"w-3 h-3 mr-1\" />\n                  {statsData.byType.Location.toLocaleString()} Locations\n                </Badge>\n                <Badge variant=\"outline\" className=\"text-2\">\n                  <User className=\"w-3 h-3 mr-1\" />\n                  {statsData.byType.Person.toLocaleString()} People\n                </Badge>\n              </div>\n            )}\n          </div>\n\n          {/* Search and Filters */}\n          <Card variant=\"frosted\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex flex-col gap-4\">\n                <div className=\"flex flex-col md:flex-row gap-4\">\n                  <div className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-10\" />\n                    <Input\n                      variant=\"frosted\"\n                      placeholder={isPro ? \"Search brands, cities, people...\" : \"Upgrade to Pro to search\"}\n                      className=\"pl-10\"\n                      value={searchQuery}\n                      onChange={(e) => isPro && setSearchQuery(e.target.value)}\n                      disabled={!isPro}\n                      data-testid=\"input-search-cues\"\n                    />\n                  </div>\n                  <Select value={lifePathFilter || 'all'} onValueChange={handleLifePathChange} disabled={!isPro}>\n                    <SelectTrigger className=\"w-full md:w-[180px]\" data-testid=\"select-life-path\" disabled={!isPro}>\n                      <SelectValue placeholder=\"Life Path #\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All Life Paths</SelectItem>\n                      {lifePathNumbers.map(num => (\n                        <SelectItem key={num} value={num.toString()}>\n                          Life Path {num}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"flex gap-2 flex-wrap\">\n                  <Button \n                    variant={typeFilter === 'Brand' ? 'gold' : 'outline'} \n                    size=\"sm\"\n                    onClick={() => isPro && handleTypeFilter('Brand')}\n                    disabled={!isPro}\n                    data-testid=\"button-filter-brands\"\n                  >\n                    <Building2 className=\"w-4 h-4 mr-1\" />\n                    Brands\n                    {statsData && <span className=\"ml-1 opacity-60\">({statsData.byType.Brand})</span>}\n                  </Button>\n                  <Button \n                    variant={typeFilter === 'Location' ? 'gold' : 'outline'} \n                    size=\"sm\"\n                    onClick={() => isPro && handleTypeFilter('Location')}\n                    disabled={!isPro}\n                    data-testid=\"button-filter-locations\"\n                  >\n                    <MapPin className=\"w-4 h-4 mr-1\" />\n                    Locations\n                    {statsData && <span className=\"ml-1 opacity-60\">({statsData.byType.Location})</span>}\n                  </Button>\n                  <Button \n                    variant={typeFilter === 'Person' ? 'gold' : 'outline'} \n                    size=\"sm\"\n                    onClick={() => isPro && handleTypeFilter('Person')}\n                    disabled={!isPro}\n                    data-testid=\"button-filter-people\"\n                  >\n                    <User className=\"w-4 h-4 mr-1\" />\n                    People\n                    {statsData && <span className=\"ml-1 opacity-60\">({statsData.byType.Person})</span>}\n                  </Button>\n                  {(typeFilter || lifePathFilter || searchQuery) && (\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\"\n                      onClick={() => {\n                        setTypeFilter('');\n                        setLifePathFilter('');\n                        setSearchQuery('');\n                      }}\n                      data-testid=\"button-clear-filters\"\n                    >\n                      Clear Filters\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Results Info */}\n          {cuesData && (\n            <div className=\"flex items-center justify-between text-2 text-gray-11\">\n              <span data-testid=\"text-results-count\">\n                Showing {((cuesData.page - 1) * cuesData.pageSize) + 1}-\n                {Math.min(cuesData.page * cuesData.pageSize, cuesData.total)} of {cuesData.total.toLocaleString()} results\n              </span>\n              {isFetching && !isLoading && (\n                <Loader2 className=\"w-4 h-4 animate-spin text-amber-9\" />\n              )}\n            </div>\n          )}\n\n          {/* Loading State */}\n          {isLoading && (\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {Array.from({ length: 12 }).map((_, i) => (\n                <CueCardSkeleton key={i} />\n              ))}\n            </div>\n          )}\n\n          {/* Error State */}\n          {isError && (\n            <Card variant=\"glass\" className=\"text-center py-12\">\n              <CardContent>\n                <p className=\"text-red-400\">Failed to load cues. Please try again.</p>\n                <Button \n                  variant=\"outline\" \n                  className=\"mt-4\"\n                  onClick={() => window.location.reload()}\n                >\n                  Retry\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Empty State */}\n          {!isLoading && cuesData?.items.length === 0 && (\n            <Card variant=\"glass\" className=\"text-center py-12\">\n              <CardContent>\n                <Search className=\"w-12 h-12 mx-auto text-gray-10 mb-4\" />\n                <h3 className=\"text-4 font-semibold mb-2\">No Results Found</h3>\n                <p className=\"text-gray-11 text-2\">\n                  Try adjusting your search or filters.\n                </p>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Results Grid */}\n          {!isLoading && cuesData && cuesData.items.length > 0 && (\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {(isPro ? cuesData.items : cuesData.items.filter(cue => FEATURED_CUE_NAMES.includes(cue.name)).slice(0, 6)).map((cue) => {\n                const TypeIcon = getTypeIcon(cue.type);\n                return (\n                  <Card \n                    key={cue.id} \n                    variant=\"glass\" \n                    className=\"hover:border-amber-6/30 transition-colors cursor-pointer\"\n                    onClick={() => handleCueClick(cue.id)}\n                    data-testid={`card-cue-${cue.id}`}\n                  >\n                    <CardHeader className=\"pb-2\">\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div className=\"flex items-center gap-2 min-w-0\">\n                          <TypeIcon className=\"w-4 h-4 text-gray-10 shrink-0\" />\n                          <CardTitle className=\"text-4 truncate\">{cue.name}</CardTitle>\n                        </div>\n                        <Badge variant=\"secondary\" size=\"sm\" className=\"shrink-0\">\n                          LP {cue.lifePathNumber}\n                        </Badge>\n                      </div>\n                      <div className=\"flex flex-wrap items-center gap-2 mt-1\">\n                        <Badge variant=\"outline\" size=\"sm\" className=\"text-1\">\n                          {cue.type}\n                        </Badge>\n                        {cue.category && (\n                          <Badge variant=\"outline\" size=\"sm\" className=\"text-1\">\n                            {cue.category}\n                          </Badge>\n                        )}\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      <div className=\"flex items-center gap-2 text-2 text-amber-11 font-medium\">\n                        <Sparkles className=\"w-3 h-3\" />\n                        <span>{cue.energySignature}</span>\n                      </div>\n                      <div className=\"flex flex-wrap items-center gap-3 text-1 text-gray-11\">\n                        <div className=\"flex items-center gap-1\">\n                          <Calendar className=\"w-3 h-3\" />\n                          <span>{formatDate(cue.foundedOrBirth)}</span>\n                        </div>\n                        {cue.country && (\n                          <div className=\"flex items-center gap-1\">\n                            <Globe className=\"w-3 h-3\" />\n                            <span>{cue.country}</span>\n                          </div>\n                        )}\n                      </div>\n                      {cue.description && (\n                        <p className=\"text-1 text-gray-11 line-clamp-2\">{cue.description}</p>\n                      )}\n                    </CardContent>\n                  </Card>\n                );\n              })}\n            </div>\n          )}\n\n          {/* Upgrade CTA for non-Pro users */}\n          {!isPro && cuesData && cuesData.items.length > 0 && (\n            <Card variant=\"frosted\" className=\"text-center py-8\">\n              <CardContent className=\"space-y-4\">\n                <div className=\"w-16 h-16 mx-auto rounded-xl bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center mb-4 shadow-lg shadow-amber-9/30\">\n                  <Lock className=\"w-8 h-8 text-white\" />\n                </div>\n                <div className=\"flex items-center justify-center gap-2 mb-2\">\n                  <Crown className=\"w-5 h-5 text-amber-9\" />\n                  <Badge variant=\"secondary\" size=\"sm\">Pro Feature</Badge>\n                </div>\n                <h3 className=\"text-5 font-semibold text-gray-12\">\n                  Unlock All 22,000+ Cues\n                </h3>\n                <p className=\"text-3 text-gray-11 max-w-md mx-auto\">\n                  Upgrade to Pro to search, filter, and explore the complete database of brands, locations, and notable people.\n                </p>\n                <Button \n                  variant=\"gold\" \n                  size=\"lg\"\n                  onClick={() => setShowUpgradeModal(true)}\n                  data-testid=\"button-upgrade-cues\"\n                >\n                  <Sparkles className=\"w-4 h-4 mr-2\" />\n                  Upgrade to Pro\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Pagination */}\n          {isPro && cuesData && cuesData.totalPages > 1 && (\n            <div className=\"flex items-center justify-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage === 1}\n                data-testid=\"button-prev-page\"\n              >\n                <ChevronLeft className=\"w-4 h-4\" />\n                Previous\n              </Button>\n              \n              <div className=\"flex items-center gap-1\">\n                {/* First page */}\n                {currentPage > 3 && (\n                  <>\n                    <Button\n                      variant={currentPage === 1 ? 'gold' : 'ghost'}\n                      size=\"sm\"\n                      onClick={() => goToPage(1)}\n                    >\n                      1\n                    </Button>\n                    {currentPage > 4 && <span className=\"text-gray-10 px-2\">...</span>}\n                  </>\n                )}\n                \n                {/* Page numbers around current */}\n                {Array.from({ length: Math.min(5, cuesData.totalPages) }, (_, i) => {\n                  let pageNum: number;\n                  if (cuesData.totalPages <= 5) {\n                    pageNum = i + 1;\n                  } else if (currentPage <= 3) {\n                    pageNum = i + 1;\n                  } else if (currentPage >= cuesData.totalPages - 2) {\n                    pageNum = cuesData.totalPages - 4 + i;\n                  } else {\n                    pageNum = currentPage - 2 + i;\n                  }\n                  \n                  if (pageNum < 1 || pageNum > cuesData.totalPages) return null;\n                  if (currentPage > 3 && pageNum === 1) return null;\n                  if (currentPage < cuesData.totalPages - 2 && pageNum === cuesData.totalPages) return null;\n                  \n                  return (\n                    <Button\n                      key={pageNum}\n                      variant={currentPage === pageNum ? 'gold' : 'ghost'}\n                      size=\"sm\"\n                      onClick={() => goToPage(pageNum)}\n                      data-testid={`button-page-${pageNum}`}\n                    >\n                      {pageNum}\n                    </Button>\n                  );\n                })}\n                \n                {/* Last page */}\n                {currentPage < cuesData.totalPages - 2 && (\n                  <>\n                    {currentPage < cuesData.totalPages - 3 && <span className=\"text-gray-10 px-2\">...</span>}\n                    <Button\n                      variant={currentPage === cuesData.totalPages ? 'gold' : 'ghost'}\n                      size=\"sm\"\n                      onClick={() => goToPage(cuesData.totalPages)}\n                    >\n                      {cuesData.totalPages}\n                    </Button>\n                  </>\n                )}\n              </div>\n              \n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={!cuesData.hasMore}\n                data-testid=\"button-next-page\"\n              >\n                Next\n                <ChevronRight className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          )}\n\n          {/* Page info */}\n          {cuesData && cuesData.totalPages > 1 && (\n            <div className=\"text-center text-2 text-gray-11\">\n              Page {cuesData.page} of {cuesData.totalPages}\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Cue Detail Modal */}\n      <Dialog open={isModalOpen} onOpenChange={(open) => !open && handleCloseModal()}>\n        <DialogContent className=\"max-w-md bg-gray-2 border-gray-6\" data-testid=\"modal-cue-detail\">\n          {isLoadingCue ? (\n            <div className=\"space-y-4 py-4\">\n              <Skeleton className=\"h-6 w-3/4\" />\n              <Skeleton className=\"h-4 w-1/2\" />\n              <div className=\"flex gap-4 justify-center\">\n                <Skeleton className=\"h-16 w-16 rounded-md\" />\n                <Skeleton className=\"h-16 w-16 rounded-md\" />\n                <Skeleton className=\"h-16 w-16 rounded-md\" />\n              </div>\n              <Skeleton className=\"h-20 w-full\" />\n            </div>\n          ) : selectedCueData?.cue ? (\n            <>\n              <DialogHeader className=\"pr-8\">\n                <div className=\"flex items-center justify-between gap-2\">\n                  <DialogTitle className=\"text-5 font-semibold\" data-testid=\"text-cue-name\">\n                    {selectedCueData.cue.name}\n                  </DialogTitle>\n                  <span className=\"text-2 text-gray-11 shrink-0\" data-testid=\"text-cue-date\">\n                    {formatDate(selectedCueData.cue.foundedOrBirth)}\n                  </span>\n                </div>\n                <DialogDescription className=\"sr-only\">\n                  Detailed information about {selectedCueData.cue.name}\n                </DialogDescription>\n              </DialogHeader>\n\n              {/* Energy Numbers Display */}\n              <div className=\"flex justify-center gap-6 py-4\">\n                <div className=\"flex flex-col items-center\" data-testid=\"badge-life-path\">\n                  <div className=\"w-14 h-14 rounded-md bg-amber-9/20 border border-amber-6/40 flex items-center justify-center text-amber-11 text-5 font-bold\">\n                    {selectedCueData.cue.lifePathNumber}\n                  </div>\n                  <span className=\"text-1 text-gray-11 mt-1\">Numerology</span>\n                </div>\n                <div className=\"flex flex-col items-center\" data-testid=\"badge-chinese-zodiac\">\n                  <div className=\"w-14 h-14 rounded-md border border-amber-6/40 overflow-hidden\">\n                    <img \n                      src={chineseZodiacImages[selectedCueData.cue.chineseZodiac.animal]} \n                      alt={selectedCueData.cue.chineseZodiac.animal}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  <span className=\"text-1 text-gray-11 mt-1\">{selectedCueData.cue.chineseZodiac.animal}</span>\n                </div>\n                <div className=\"flex flex-col items-center\" data-testid=\"badge-western-zodiac\">\n                  <div className=\"w-14 h-14 rounded-md border border-amber-6/40 overflow-hidden\">\n                    <img \n                      src={westernZodiacImages[selectedCueData.cue.westernZodiac.sign]} \n                      alt={selectedCueData.cue.westernZodiac.sign}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  <span className=\"text-1 text-gray-11 mt-1\">{selectedCueData.cue.westernZodiac.sign}</span>\n                </div>\n              </div>\n\n              {/* Energy Signature */}\n              <div className=\"flex items-center justify-center gap-2 text-amber-11 font-medium pb-2\">\n                <Sparkles className=\"w-4 h-4\" />\n                <span data-testid=\"text-energy-signature\">{selectedCueData.cue.energySignature}</span>\n              </div>\n\n              {/* About Section */}\n              <div className=\"border-t border-gray-6 pt-4\">\n                <h4 className=\"text-2 font-semibold text-gray-11 mb-2\">About the Cue</h4>\n                <p className=\"text-2 text-gray-11 leading-relaxed\" data-testid=\"text-about-description\">\n                  {selectedCueData.cue.aboutDescription}\n                </p>\n              </div>\n\n              {/* Additional Info */}\n              <div className=\"flex flex-wrap gap-2 pt-2\">\n                <Badge variant=\"outline\" size=\"sm\">\n                  {selectedCueData.cue.type}\n                </Badge>\n                {selectedCueData.cue.category && (\n                  <Badge variant=\"outline\" size=\"sm\">\n                    {selectedCueData.cue.category}\n                  </Badge>\n                )}\n                {selectedCueData.cue.country && (\n                  <Badge variant=\"outline\" size=\"sm\">\n                    <Globe className=\"w-3 h-3 mr-1\" />\n                    {selectedCueData.cue.country}\n                  </Badge>\n                )}\n                <Badge variant=\"secondary\" size=\"sm\">\n                  {selectedCueData.cue.chineseZodiac.element} {selectedCueData.cue.chineseZodiac.yinYang}\n                </Badge>\n              </div>\n            </>\n          ) : null}\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","path":null,"size_bytes":28814,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile } from \"fs/promises\";\n\n// server deps to bundle to reduce openat(2) syscalls\n// which helps cold start times\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"pg\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildAll() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1417,"size_tokens":null},"client/src/pages/explore.tsx":{"content":"import { useState, useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { Compass, TrendingUp, Calendar, Star, Globe, Heart, Loader2, MapPin, Briefcase, Users, Check, AlertCircle, X, Lock, Crown } from 'lucide-react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Link } from 'wouter';\nimport { calculateComprehensiveProfile } from '@/lib/numerology';\n\nconst ODIS_ID_KEY = 'gg33-odis-id';\n\ntype FeatureType = 'trending' | 'best-days' | 'celebrity' | 'travel' | 'relationship' | 'career' | null;\n\ninterface ProfileData {\n  odisId: string;\n  fullName: string;\n  birthDate: string;\n  birthTime?: string;\n  birthLocation?: string;\n}\n\nconst explorations = [\n  {\n    id: 'trending' as FeatureType,\n    title: 'Trending Energies',\n    description: 'See what energy patterns are most active today',\n    icon: TrendingUp,\n    tag: 'Popular',\n    requiresProfile: false,\n  },\n  {\n    id: 'best-days' as FeatureType,\n    title: 'Best Days This Month',\n    description: 'Find your optimal days for key activities',\n    icon: Calendar,\n    tag: 'Planning',\n    requiresProfile: true,\n  },\n  {\n    id: 'celebrity' as FeatureType,\n    title: 'Celebrity Matches',\n    description: 'Discover which celebrities share your energy',\n    icon: Star,\n    tag: 'Fun',\n    requiresProfile: true,\n  },\n  {\n    id: 'travel' as FeatureType,\n    title: 'Travel Destinations',\n    description: 'Cities that align with your energy signature',\n    icon: Globe,\n    tag: 'Travel',\n    requiresProfile: true,\n  },\n  {\n    id: 'relationship' as FeatureType,\n    title: 'Relationship Patterns',\n    description: 'Understanding your compatibility tendencies',\n    icon: Heart,\n    tag: 'Insights',\n    requiresProfile: true,\n  },\n  {\n    id: 'career' as FeatureType,\n    title: 'Career Alignment',\n    description: 'Industries and roles that match your energy',\n    icon: Compass,\n    tag: 'Career',\n    requiresProfile: true,\n  },\n];\n\nfunction LoadingSkeleton() {\n  return (\n    <div className=\"space-y-4 animate-pulse\" data-testid=\"loading-skeleton\">\n      <div className=\"h-6 bg-gray-a3 rounded w-3/4\" />\n      <div className=\"h-4 bg-gray-a3 rounded w-1/2\" />\n      <div className=\"space-y-2 mt-4\">\n        <div className=\"h-20 bg-gray-a3 rounded\" />\n        <div className=\"h-20 bg-gray-a3 rounded\" />\n        <div className=\"h-20 bg-gray-a3 rounded\" />\n      </div>\n    </div>\n  );\n}\n\nfunction TrendingEnergiesDialog({ open, onClose }: { open: boolean; onClose: () => void }) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/trending-energies'],\n    enabled: open,\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh]\" data-testid=\"dialog-trending-energies\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <TrendingUp className=\"w-5 h-5 text-amber-9\" />\n            Trending Energies\n          </DialogTitle>\n          <DialogDescription>What energy patterns are most active today</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-trending\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load trending energies\n            </div>\n          ) : data ? (\n            <div className=\"space-y-6\" data-testid=\"content-trending\">\n              <div className=\"text-center p-4 bg-amber-a2 rounded-lg border border-amber-a4\">\n                <div className=\"text-sm text-gray-11 mb-1\">Universal Day Number</div>\n                <div className=\"text-4xl font-bold text-amber-9\" data-testid=\"text-universal-day\">{data.universalDay}</div>\n                <div className=\"text-lg font-medium mt-1\" data-testid=\"text-day-title\">{data.todayTitle}</div>\n                <div className=\"text-sm text-gray-11\" data-testid=\"text-day-theme\">{data.todayTheme}</div>\n                <div className=\"text-xs text-gray-10 mt-2\">{data.date}</div>\n              </div>\n\n              <div>\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Users className=\"w-4 h-4 text-amber-9\" />\n                  Top Life Paths in Database\n                </h3>\n                <div className=\"grid gap-2\">\n                  {data.topLifePaths?.map((lp: { number: number; count: number; title: string; theme: string }, i: number) => (\n                    <div key={lp.number} className=\"flex items-center justify-between p-3 bg-gray-a2 rounded-lg\" data-testid={`card-lifepath-${lp.number}`}>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 rounded-full bg-amber-a3 flex items-center justify-center font-bold text-amber-9\">\n                          {lp.number}\n                        </div>\n                        <div>\n                          <div className=\"font-medium\">{lp.title}</div>\n                          <div className=\"text-xs text-gray-11\">{lp.theme}</div>\n                        </div>\n                      </div>\n                      <Badge variant=\"secondary\" size=\"sm\">{lp.count.toLocaleString()} entities</Badge>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Compass className=\"w-4 h-4 text-amber-9\" />\n                  Top Elements\n                </h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {data.topElements?.map((el: { element: string; count: number }) => (\n                    <Badge key={el.element} variant=\"outline\" data-testid={`badge-element-${el.element}`}>\n                      {el.element}: {el.count.toLocaleString()}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n\n              {data.representativeCues?.length > 0 && (\n                <div>\n                  <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                    <Star className=\"w-4 h-4 text-amber-9\" />\n                    Today's Energy Representatives\n                  </h3>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    {data.representativeCues?.map((cue: { id: number; name: string; type: string; energySignature: string }) => (\n                      <div key={cue.id} className=\"p-2 bg-gray-a2 rounded-lg\" data-testid={`card-cue-${cue.id}`}>\n                        <div className=\"font-medium text-sm truncate\">{cue.name}</div>\n                        <div className=\"text-xs text-gray-11\">{cue.type}</div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction BestDaysDialog({ open, onClose, birthDate }: { open: boolean; onClose: () => void; birthDate: string | null }) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/best-days', birthDate],\n    queryFn: async () => {\n      if (!birthDate) return null;\n      const response = await fetch(`/api/explore/best-days/${birthDate}`);\n      if (!response.ok) throw new Error('Failed to fetch best days');\n      return response.json();\n    },\n    enabled: open && !!birthDate,\n  });\n\n  const getRatingColor = (rating: string) => {\n    switch (rating) {\n      case 'excellent': return 'bg-green-a3 border-green-a6 text-green-11';\n      case 'good': return 'bg-amber-a3 border-amber-a6 text-amber-11';\n      case 'challenging': return 'bg-red-a3 border-red-a6 text-red-11';\n      default: return 'bg-gray-a3 border-gray-a6 text-gray-11';\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-3xl max-h-[85vh]\" data-testid=\"dialog-best-days\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Calendar className=\"w-5 h-5 text-amber-9\" />\n            Best Days This Month\n          </DialogTitle>\n          <DialogDescription>Your personalized calendar based on numerology</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-best-days\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load calendar\n            </div>\n          ) : data ? (\n            <div className=\"space-y-6\" data-testid=\"content-best-days\">\n              <div className=\"flex items-center justify-between p-4 bg-amber-a2 rounded-lg border border-amber-a4\">\n                <div>\n                  <div className=\"text-xl font-bold\" data-testid=\"text-month-name\">{data.monthName} {data.year}</div>\n                  <div className=\"text-sm text-gray-11\">Life Path {data.lifePathNumber} | Personal Year {data.personalYear}</div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Badge variant=\"outline\" className=\"bg-green-a3 text-green-11\">Excellent</Badge>\n                  <Badge variant=\"outline\" className=\"bg-amber-a3 text-amber-11\">Good</Badge>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-medium mb-3\">Your Best Days</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                  {data.bestDays?.map((day: { date: string; day: number; personalDay: number; rating: string; theme: string; activities: string[] }) => (\n                    <div key={day.date} className={`p-3 rounded-lg border ${getRatingColor(day.rating)}`} data-testid={`card-day-${day.day}`}>\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"font-bold text-lg\">{day.day}</span>\n                        <Badge variant=\"secondary\" size=\"sm\">{day.personalDay}</Badge>\n                      </div>\n                      <div className=\"text-sm font-medium\">{day.theme}</div>\n                      <div className=\"text-xs mt-1 opacity-80\">{day.activities[0]}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  Full Month Overview\n                  <Badge variant=\"outline\" size=\"sm\" className=\"ring-2 ring-amber-9 text-xs\" data-testid=\"badge-today-legend\">Today</Badge>\n                </h3>\n                <div className=\"grid grid-cols-7 gap-1 text-center\">\n                  {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((d, i) => (\n                    <div key={i} className=\"text-xs text-gray-11 font-medium py-1\">{d}</div>\n                  ))}\n                  {(() => {\n                    const now = new Date();\n                    const isCurrentMonth = data.month === now.getMonth() + 1 && data.year === now.getFullYear();\n                    const todayDate = now.getDate();\n                    const firstDayOfMonth = new Date(data.year, data.month - 1, 1).getDay();\n                    \n                    const emptyCells = Array(firstDayOfMonth).fill(null).map((_, j) => (\n                      <div key={`empty-${j}`} className=\"p-2\" />\n                    ));\n                    \n                    const dayCells = data.days?.map((day: { day: number; rating: string; personalDay: number; theme: string }) => {\n                      const isToday = isCurrentMonth && day.day === todayDate;\n                      return (\n                        <div \n                          key={day.day} \n                          className={`p-2 rounded text-sm ${\n                            day.rating === 'excellent' ? 'bg-green-a3 text-green-11 font-bold' :\n                            day.rating === 'good' ? 'bg-amber-a3 text-amber-11' :\n                            'bg-gray-a2 text-gray-11'\n                          } ${isToday ? 'ring-2 ring-amber-9' : ''}`}\n                          title={`${day.theme} (Personal Day ${day.personalDay})${isToday ? ' - Today' : ''}`}\n                          data-testid={`calendar-day-${day.day}`}\n                        >\n                          {day.day}\n                        </div>\n                      );\n                    }) || [];\n                    \n                    return [...emptyCells, ...dayCells];\n                  })()}\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction CelebrityMatchesDialog({ open, onClose, lifePathNumber, energySignature }: { \n  open: boolean; \n  onClose: () => void; \n  lifePathNumber: number | null;\n  energySignature: string | null;\n}) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/celebrity-matches', lifePathNumber, energySignature],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (lifePathNumber) params.append('lifePathNumber', lifePathNumber.toString());\n      if (energySignature) params.append('energySignature', energySignature);\n      params.append('limit', '12');\n      const response = await fetch(`/api/explore/celebrity-matches?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch celebrity matches');\n      return response.json();\n    },\n    enabled: open && (!!lifePathNumber || !!energySignature),\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh]\" data-testid=\"dialog-celebrity-matches\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Star className=\"w-5 h-5 text-amber-9\" />\n            Celebrity Matches\n          </DialogTitle>\n          <DialogDescription>Famous people who share your energy signature</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-celebrity\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load celebrity matches\n            </div>\n          ) : data ? (\n            <div className=\"space-y-4\" data-testid=\"content-celebrity\">\n              <div className=\"text-sm text-gray-11\">\n                Found matches from {data.totalCelebrities?.toLocaleString()} celebrities in database\n              </div>\n              \n              <div className=\"grid gap-3\">\n                {data.matches?.map((celeb: { \n                  id: number; \n                  name: string; \n                  category: string;\n                  country: string;\n                  lifePathNumber: number; \n                  energySignature: string;\n                  foundedOrBirth: string;\n                  score: number;\n                  matchReasons: string[];\n                }) => (\n                  <div key={celeb.id} className=\"flex items-start gap-4 p-4 bg-gray-a2 rounded-lg\" data-testid={`card-celebrity-${celeb.id}`}>\n                    <div className=\"w-12 h-12 rounded-full bg-amber-a3 flex items-center justify-center text-amber-9 font-bold text-lg shrink-0\">\n                      {celeb.lifePathNumber}\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-start justify-between gap-2 flex-wrap\">\n                        <div>\n                          <div className=\"font-medium\" data-testid={`text-celebrity-name-${celeb.id}`}>{celeb.name}</div>\n                          <div className=\"text-sm text-gray-11\">{celeb.category}{celeb.country ? ` | ${celeb.country}` : ''}</div>\n                        </div>\n                        <Badge variant=\"secondary\" size=\"sm\">{celeb.score}% match</Badge>\n                      </div>\n                      <div className=\"text-xs text-gray-11 mt-1\">{celeb.energySignature}</div>\n                      <div className=\"flex flex-wrap gap-1 mt-2\">\n                        {celeb.matchReasons.map((reason: string, i: number) => (\n                          <Badge key={i} variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                            <Check className=\"w-3 h-3 mr-1\" />\n                            {reason}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {(!data.matches || data.matches.length === 0) && (\n                <div className=\"text-center py-8 text-gray-11\">\n                  No celebrity matches found with your energy signature\n                </div>\n              )}\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction TravelDestinationsDialog({ open, onClose, lifePathNumber, element, birthYear }: { \n  open: boolean; \n  onClose: () => void; \n  lifePathNumber: number | null;\n  element: string | null;\n  birthYear: number | null;\n}) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/travel-destinations', lifePathNumber, element, birthYear],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (lifePathNumber) params.append('lifePathNumber', lifePathNumber.toString());\n      if (element) params.append('element', element);\n      if (birthYear) params.append('birthYear', birthYear.toString());\n      params.append('limit', '12');\n      const response = await fetch(`/api/explore/travel-destinations?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch travel destinations');\n      return response.json();\n    },\n    enabled: open && (!!lifePathNumber || !!element),\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh]\" data-testid=\"dialog-travel-destinations\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Globe className=\"w-5 h-5 text-amber-9\" />\n            Travel Destinations\n          </DialogTitle>\n          <DialogDescription>Countries that align with your zodiac energy</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-travel\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load destinations\n            </div>\n          ) : data ? (\n            <div className=\"space-y-4\" data-testid=\"content-travel\">\n              {data.userZodiac && (\n                <div className=\"text-sm text-gray-11 flex items-center gap-2\">\n                  <span>Your zodiac:</span>\n                  <Badge variant=\"secondary\" size=\"sm\">{data.userZodiac}</Badge>\n                </div>\n              )}\n              \n              <div className=\"grid gap-4\">\n                {data.destinations?.map((dest: { \n                  id: number; \n                  name: string; \n                  foundingYear: number;\n                  zodiacAnimal: string;\n                  compatibleSigns: string[];\n                  description: string;\n                  vibe: string;\n                  bestFor: string;\n                  score: number;\n                  isUserMatch: boolean;\n                }) => (\n                  <div \n                    key={dest.id} \n                    className={`p-4 rounded-lg ${dest.isUserMatch ? 'bg-amber-a2 border border-amber-a4' : 'bg-gray-a2'}`}\n                    data-testid={`card-destination-${dest.id}`}\n                  >\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"w-4 h-4 text-amber-9 shrink-0\" />\n                        <div>\n                          <div className=\"font-medium\" data-testid={`text-destination-name-${dest.id}`}>\n                            {dest.name}\n                            {dest.isUserMatch && (\n                              <Check className=\"w-4 h-4 text-green-9 inline ml-2\" />\n                            )}\n                          </div>\n                          <div className=\"text-xs text-gray-11\">\n                            Est. {dest.foundingYear} - Year of the {dest.zodiacAnimal}\n                          </div>\n                        </div>\n                      </div>\n                      <Badge variant={dest.isUserMatch ? 'default' : 'secondary'} size=\"sm\">\n                        {dest.score}% match\n                      </Badge>\n                    </div>\n                    \n                    <p className=\"text-sm text-gray-11 mt-3\" data-testid={`text-destination-description-${dest.id}`}>\n                      {dest.description}\n                    </p>\n                    \n                    <div className=\"flex flex-wrap gap-2 mt-3\">\n                      <Badge variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                        {dest.vibe}\n                      </Badge>\n                      <Badge variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                        {dest.bestFor}\n                      </Badge>\n                    </div>\n                    \n                    <div className=\"mt-3\">\n                      <div className=\"text-xs text-gray-10 mb-1\">Compatible signs:</div>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {dest.compatibleSigns.map((sign: string) => (\n                          <Badge \n                            key={sign} \n                            variant={data.userZodiac === sign ? 'default' : 'outline'}\n                            size=\"sm\" \n                            className={`text-xs ${data.userZodiac === sign ? 'bg-green-a3 text-green-11 border-green-a6' : ''}`}\n                          >\n                            {sign}\n                            {data.userZodiac === sign && <Check className=\"w-3 h-3 ml-1\" />}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {(!data.destinations || data.destinations.length === 0) && (\n                <div className=\"text-center py-8 text-gray-11\">\n                  No matching destinations found\n                </div>\n              )}\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction RelationshipPatternsDialog({ open, onClose, lifePathNumber }: { \n  open: boolean; \n  onClose: () => void; \n  lifePathNumber: number | null;\n}) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/relationship-patterns', lifePathNumber],\n    queryFn: async () => {\n      if (!lifePathNumber) return null;\n      const response = await fetch(`/api/explore/relationship-patterns/${lifePathNumber}`);\n      if (!response.ok) throw new Error('Failed to fetch relationship patterns');\n      return response.json();\n    },\n    enabled: open && !!lifePathNumber,\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh]\" data-testid=\"dialog-relationship-patterns\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Heart className=\"w-5 h-5 text-amber-9\" />\n            Relationship Patterns\n          </DialogTitle>\n          <DialogDescription>Understanding your compatibility tendencies</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-relationship\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load relationship patterns\n            </div>\n          ) : data ? (\n            <div className=\"space-y-6\" data-testid=\"content-relationship\">\n              <div className=\"p-4 bg-amber-a2 rounded-lg border border-amber-a4\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"w-12 h-12 rounded-full bg-amber-a3 flex items-center justify-center text-amber-9 font-bold text-xl\">\n                    {data.lifePathNumber}\n                  </div>\n                  <div>\n                    <div className=\"font-bold\" data-testid=\"text-relationship-title\">{data.title}</div>\n                    <div className=\"text-sm text-gray-11\">Life Path {data.lifePathNumber}</div>\n                  </div>\n                </div>\n                <p className=\"text-sm text-gray-11\" data-testid=\"text-relationship-description\">{data.description}</p>\n              </div>\n\n              <div className=\"grid md:grid-cols-3 gap-4\">\n                <div className=\"p-4 bg-green-a2 rounded-lg border border-green-a4\">\n                  <div className=\"font-medium text-green-11 mb-2 flex items-center gap-2\">\n                    <Check className=\"w-4 h-4\" />\n                    Best Matches\n                  </div>\n                  <div className=\"space-y-2\">\n                    {data.bestMatches?.map((match: { number: number; title: string }) => (\n                      <div key={match.number} className=\"flex items-center gap-2\" data-testid={`card-best-match-${match.number}`}>\n                        <div className=\"w-6 h-6 rounded-full bg-green-a3 flex items-center justify-center text-green-11 text-sm font-bold\">\n                          {match.number}\n                        </div>\n                        <span className=\"text-sm\">{match.title}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"p-4 bg-amber-a2 rounded-lg border border-amber-a4\">\n                  <div className=\"font-medium text-amber-11 mb-2 flex items-center gap-2\">\n                    <Star className=\"w-4 h-4\" />\n                    Good Matches\n                  </div>\n                  <div className=\"space-y-2\">\n                    {data.goodMatches?.map((match: { number: number; title: string }) => (\n                      <div key={match.number} className=\"flex items-center gap-2\" data-testid={`card-good-match-${match.number}`}>\n                        <div className=\"w-6 h-6 rounded-full bg-amber-a3 flex items-center justify-center text-amber-11 text-sm font-bold\">\n                          {match.number}\n                        </div>\n                        <span className=\"text-sm\">{match.title}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"p-4 bg-gray-a2 rounded-lg border border-gray-a4\">\n                  <div className=\"font-medium text-gray-11 mb-2 flex items-center gap-2\">\n                    <AlertCircle className=\"w-4 h-4\" />\n                    Challenging\n                  </div>\n                  <div className=\"space-y-2\">\n                    {data.challengingMatches?.map((match: { number: number; title: string }) => (\n                      <div key={match.number} className=\"flex items-center gap-2\" data-testid={`card-challenging-match-${match.number}`}>\n                        <div className=\"w-6 h-6 rounded-full bg-gray-a3 flex items-center justify-center text-gray-11 text-sm font-bold\">\n                          {match.number}\n                        </div>\n                        <span className=\"text-sm\">{match.title}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-4 bg-gray-a2 rounded-lg\">\n                <h4 className=\"font-medium mb-2\">Relationship Tips</h4>\n                <ul className=\"space-y-1 text-sm text-gray-11\">\n                  {data.tips?.map((tip: string, i: number) => (\n                    <li key={i} className=\"flex items-start gap-2\">\n                      <span className=\"text-amber-9 mt-0.5\">*</span>\n                      {tip}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction CareerAlignmentDialog({ open, onClose, lifePathNumber }: { \n  open: boolean; \n  onClose: () => void; \n  lifePathNumber: number | null;\n}) {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['/api/explore/career-alignment', lifePathNumber],\n    queryFn: async () => {\n      if (!lifePathNumber) return null;\n      const response = await fetch(`/api/explore/career-alignment/${lifePathNumber}`);\n      if (!response.ok) throw new Error('Failed to fetch career alignment');\n      return response.json();\n    },\n    enabled: open && !!lifePathNumber,\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh]\" data-testid=\"dialog-career-alignment\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Briefcase className=\"w-5 h-5 text-amber-9\" />\n            Career Alignment\n          </DialogTitle>\n          <DialogDescription>Industries and roles that match your energy</DialogDescription>\n        </DialogHeader>\n        \n        <ScrollArea className=\"max-h-[60vh] pr-4\">\n          {isLoading ? (\n            <LoadingSkeleton />\n          ) : error ? (\n            <div className=\"text-red-9 flex items-center gap-2\" data-testid=\"error-career\">\n              <AlertCircle className=\"w-4 h-4\" />\n              Failed to load career alignment\n            </div>\n          ) : data ? (\n            <div className=\"space-y-6\" data-testid=\"content-career\">\n              <div className=\"p-4 bg-amber-a2 rounded-lg border border-amber-a4\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"w-12 h-12 rounded-full bg-amber-a3 flex items-center justify-center text-amber-9 font-bold text-xl\">\n                    {data.lifePathNumber}\n                  </div>\n                  <div>\n                    <div className=\"font-bold\" data-testid=\"text-career-title\">{data.title}</div>\n                    <div className=\"text-sm text-gray-11\">Life Path {data.lifePathNumber}</div>\n                  </div>\n                </div>\n                <p className=\"text-sm text-gray-11\" data-testid=\"text-career-description\">{data.description}</p>\n              </div>\n\n              {data.whyTheseFit && (\n                <div className=\"p-4 bg-green-a2 rounded-lg border border-green-a4\">\n                  <p className=\"text-sm\" data-testid=\"text-why-these-fit\">{data.whyTheseFit}</p>\n                </div>\n              )}\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div className=\"p-4 bg-gray-a2 rounded-lg\">\n                  <h4 className=\"font-medium mb-3 flex items-center gap-2\">\n                    <Compass className=\"w-4 h-4 text-amber-9\" />\n                    Ideal Industries\n                  </h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {data.industries?.map((industry: string, i: number) => (\n                      <Badge key={i} variant=\"outline\" data-testid={`badge-industry-${i}`}>{industry}</Badge>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"p-4 bg-gray-a2 rounded-lg\">\n                  <h4 className=\"font-medium mb-3 flex items-center gap-2\">\n                    <Star className=\"w-4 h-4 text-amber-9\" />\n                    Core Strengths\n                  </h4>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    {data.coreStrengths?.map((strength: string, i: number) => (\n                      <div key={i} className=\"p-2 bg-amber-a2 rounded text-center text-sm font-medium\" data-testid={`card-strength-${i}`}>\n                        {strength}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-4 bg-gray-a2 rounded-lg\">\n                <h4 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Briefcase className=\"w-4 h-4 text-amber-9\" />\n                  Suggested Roles\n                </h4>\n                <div className=\"space-y-3\">\n                  {data.suggestedRoles?.map((role: { name: string; reason: string }, i: number) => (\n                    <div key={i} className=\"p-3 bg-background rounded-lg\" data-testid={`card-role-${i}`}>\n                      <div className=\"font-medium text-amber-11\">{role.name}</div>\n                      <div className=\"text-sm text-gray-11 mt-1\">{role.reason}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction ProfileRequiredPrompt({ onClose }: { onClose: () => void }) {\n  return (\n    <Dialog open={true} onOpenChange={(isOpen) => !isOpen && onClose()}>\n      <DialogContent className=\"max-w-md\" data-testid=\"dialog-profile-required\">\n        <DialogHeader>\n          <DialogTitle>Profile Required</DialogTitle>\n          <DialogDescription>\n            This feature requires your birth date to provide personalized insights.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"flex flex-col gap-4 pt-4\">\n          <p className=\"text-sm text-gray-11\">\n            Create your profile to unlock personalized numerology features including best days, \n            celebrity matches, travel destinations, relationship patterns, and career alignment.\n          </p>\n          <div className=\"flex gap-3 justify-end\">\n            <Button variant=\"outline\" onClick={onClose} data-testid=\"button-close-profile-prompt\">\n              Cancel\n            </Button>\n            <Link href=\"/\">\n              <Button data-testid=\"button-create-profile\">Create Profile</Button>\n            </Link>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default function Explore() {\n  const [activeFeature, setActiveFeature] = useState<FeatureType>(null);\n  const [showProfilePrompt, setShowProfilePrompt] = useState(false);\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n  \n  const savedOdisId = typeof window !== 'undefined' ? localStorage.getItem(ODIS_ID_KEY) : null;\n  \n  const { data: profileData, isLoading: isProfileLoading } = useQuery<ProfileData & { isPro?: boolean } | null>({\n    queryKey: ['/api/profile', savedOdisId],\n    queryFn: async () => {\n      if (!savedOdisId) return null;\n      const response = await fetch(`/api/profile/${savedOdisId}`);\n      if (!response.ok) return null;\n      const data = await response.json();\n      return { ...data.user, isPro: data.isPro } as ProfileData & { isPro?: boolean };\n    },\n    enabled: !!savedOdisId,\n    staleTime: 1000 * 60 * 5,\n  });\n\n  const hasProfile = !!profileData;\n  const isPro = profileData?.isPro ?? false;\n  const profileLoaded = !savedOdisId || !isProfileLoading;\n  const birthDate = profileData?.birthDate || null;\n  \n  const calculatedProfile = useMemo(() => {\n    if (!profileData?.birthDate || !profileData?.fullName) return null;\n    try {\n      return calculateComprehensiveProfile(\n        profileData.fullName,\n        new Date(profileData.birthDate),\n        profileData.birthTime || '12:00',\n        profileData.birthLocation || 'Unknown'\n      );\n    } catch {\n      return null;\n    }\n  }, [profileData]);\n  \n  const lifePathNumber = calculatedProfile?.lifePathNumber || null;\n  const energySignature = calculatedProfile?.energySignature || null;\n  const element = energySignature ? energySignature.split(' ')[0] : null;\n\n  const handleCardClick = (featureId: FeatureType) => {\n    if (!isPro) {\n      setShowUpgradeModal(true);\n      return;\n    }\n    \n    const feature = explorations.find(e => e.id === featureId);\n    \n    if (feature?.requiresProfile && !hasProfile) {\n      setShowProfilePrompt(true);\n      return;\n    }\n    \n    setActiveFeature(featureId);\n  };\n\n  const handleCloseDialog = () => {\n    setActiveFeature(null);\n  };\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-explore\">\n        <div className=\"container mx-auto max-w-6xl space-y-8\">\n          <div className=\"text-center\">\n            <Badge variant=\"outline\" className=\"mb-4\">\n              <Compass className=\"w-3 h-3 mr-1\" />\n              Discovery\n            </Badge>\n            <h1 className=\"text-6 md:text-7 font-semibold mb-4\">\n              <span className=\"gradient-text\">Explore</span> Your Energy\n            </h1>\n            <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n              Discover insights about your energy patterns and how they connect to the world around you.\n            </p>\n          </div>\n\n          {profileLoaded && !hasProfile && (\n            <Card variant=\"frosted\" className=\"border-amber-a4\">\n              <CardContent className=\"py-6\">\n                <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <AlertCircle className=\"w-5 h-5 text-amber-9\" />\n                    <div>\n                      <div className=\"font-medium\">Create your profile for personalized features</div>\n                      <div className=\"text-sm text-gray-11\">Unlock all 6 explore features with your birth date</div>\n                    </div>\n                  </div>\n                  <Link href=\"/\">\n                    <Button data-testid=\"button-create-profile-banner\">Create Profile</Button>\n                  </Link>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {explorations.map((item) => (\n              <Card \n                key={item.id} \n                variant=\"frosted\" \n                className={`hover:border-amber-6/30 transition-all cursor-pointer group relative ${\n                  profileLoaded && item.requiresProfile && !hasProfile ? 'opacity-60' : ''\n                }`}\n                onClick={() => handleCardClick(item.id)}\n                data-testid={`card-explore-${item.id}`}\n              >\n                {!isPro && (\n                  <div className=\"absolute inset-0 bg-gray-1/60 backdrop-blur-[1px] rounded-lg z-10 flex items-center justify-center\">\n                    <div className=\"flex flex-col items-center gap-2\">\n                      <div className=\"w-10 h-10 rounded-full bg-gray-a3 flex items-center justify-center\">\n                        <Lock className=\"w-5 h-5 text-gray-11\" />\n                      </div>\n                      <Badge variant=\"secondary\" size=\"sm\">\n                        <Crown className=\"w-3 h-3 mr-1\" />\n                        Pro\n                      </Badge>\n                    </div>\n                  </div>\n                )}\n                <CardHeader>\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"w-12 h-12 rounded-lg bg-amber-a3 flex items-center justify-center group-hover:bg-amber-a4 transition-colors\">\n                      <item.icon className=\"w-6 h-6 text-amber-9\" />\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      {profileLoaded && item.requiresProfile && !hasProfile && (\n                        <Badge variant=\"outline\" size=\"sm\" className=\"text-xs\">\n                          Profile needed\n                        </Badge>\n                      )}\n                      <Badge variant=\"secondary\" size=\"sm\">\n                        {item.tag}\n                      </Badge>\n                    </div>\n                  </div>\n                  <CardTitle className=\"text-4 mt-4\">{item.title}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-2 text-gray-11\">{item.description}</p>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </main>\n\n      <TrendingEnergiesDialog \n        open={activeFeature === 'trending'} \n        onClose={handleCloseDialog} \n      />\n      \n      <BestDaysDialog \n        open={activeFeature === 'best-days'} \n        onClose={handleCloseDialog}\n        birthDate={birthDate}\n      />\n      \n      <CelebrityMatchesDialog \n        open={activeFeature === 'celebrity'} \n        onClose={handleCloseDialog}\n        lifePathNumber={lifePathNumber}\n        energySignature={energySignature}\n      />\n      \n      <TravelDestinationsDialog \n        open={activeFeature === 'travel'} \n        onClose={handleCloseDialog}\n        lifePathNumber={lifePathNumber}\n        element={element}\n        birthYear={birthDate ? new Date(birthDate).getFullYear() : null}\n      />\n      \n      <RelationshipPatternsDialog \n        open={activeFeature === 'relationship'} \n        onClose={handleCloseDialog}\n        lifePathNumber={lifePathNumber}\n      />\n      \n      <CareerAlignmentDialog \n        open={activeFeature === 'career'} \n        onClose={handleCloseDialog}\n        lifePathNumber={lifePathNumber}\n      />\n\n      {showProfilePrompt && (\n        <ProfileRequiredPrompt onClose={() => setShowProfilePrompt(false)} />\n      )}\n\n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":42756,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/components/ProfileSetup.tsx":{"content":"import { useState, useCallback, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Label } from '@/components/ui/label';\nimport { DatePicker } from '@/components/ui/date-picker';\nimport { TimePicker } from '@/components/ui/time-picker';\nimport { Calendar, Sparkles, ArrowRight, ArrowLeft, Clock, MapPin, User, Loader2 } from 'lucide-react';\nimport { useMutation } from '@tanstack/react-query';\nimport { apiRequest } from '@/lib/queryClient';\nimport { format } from 'date-fns';\n\nexport interface ProfileData {\n  odisId: string;\n  fullName: string;\n  birthDate: Date;\n  birthTime: string;\n  birthLocation: string;\n}\n\ninterface ProfileSetupProps {\n  onComplete: (profile: ProfileData) => void;\n}\n\nexport function ProfileSetup({ onComplete }: ProfileSetupProps) {\n  const [fullName, setFullName] = useState('');\n  const [birthDate, setBirthDate] = useState<Date | undefined>(undefined);\n  const [birthTime, setBirthTime] = useState('');\n  const [birthLocation, setBirthLocation] = useState('');\n  const [step, setStep] = useState(1);\n\n  const totalSteps = 4;\n\n  const canProceedToNext = useCallback(() => {\n    switch (step) {\n      case 1: return fullName.trim().length >= 2;\n      case 2: return !!birthDate;\n      case 3: return true;\n      case 4: return true;\n      default: return false;\n    }\n  }, [step, fullName, birthDate]);\n\n  const goToNextStep = useCallback(() => {\n    if (canProceedToNext() && step < totalSteps) {\n      setStep(step + 1);\n    }\n  }, [canProceedToNext, step, totalSteps]);\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Enter') {\n        const target = e.target as HTMLElement;\n        if (target.closest('[role=\"listbox\"]') || target.closest('[role=\"dialog\"]')) {\n          return;\n        }\n        \n        if (step < totalSteps && canProceedToNext()) {\n          e.preventDefault();\n          goToNextStep();\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [step, canProceedToNext, goToNextStep, totalSteps]);\n\n  const createProfileMutation = useMutation({\n    mutationFn: async (data: { fullName: string; birthDate: string; birthTime: string; birthLocation: string }) => {\n      const response = await apiRequest('POST', '/api/profile', {\n        fullName: data.fullName,\n        birthDate: data.birthDate,\n        birthTime: data.birthTime || '12:00',\n        birthLocation: data.birthLocation || 'Unknown',\n      });\n      return response.json();\n    },\n    onSuccess: (data) => {\n      const user = data.user;\n      onComplete({\n        odisId: user.odisId,\n        fullName: user.fullName,\n        birthDate: new Date(user.birthDate),\n        birthTime: user.birthTime || '12:00',\n        birthLocation: user.birthLocation || 'Unknown',\n      });\n    },\n    onError: (error) => {\n      console.error('Failed to create profile:', error);\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (fullName && birthDate) {\n      createProfileMutation.mutate({\n        fullName,\n        birthDate: format(birthDate, 'yyyy-MM-dd'),\n        birthTime,\n        birthLocation,\n      });\n    }\n  };\n\n  const getStepInfo = () => {\n    switch (step) {\n      case 1:\n        return {\n          icon: User,\n          title: 'Your Full Legal Name',\n          description: 'We use your complete name to calculate your Expression Number, Soul Urge, and Personality Number',\n        };\n      case 2:\n        return {\n          icon: Calendar,\n          title: 'Your Birth Date',\n          description: 'Your birth date reveals your Life Path Number and Chinese Zodiac sign',\n        };\n      case 3:\n        return {\n          icon: Clock,\n          title: 'Time of Birth',\n          description: 'For precise Moon Sign calculation (optional but recommended)',\n        };\n      case 4:\n        return {\n          icon: MapPin,\n          title: 'Birth Location',\n          description: 'Helps determine your exact cosmic alignment (optional)',\n        };\n      default:\n        return { icon: Sparkles, title: '', description: '' };\n    }\n  };\n\n  const stepInfo = getStepInfo();\n  const StepIcon = stepInfo.icon;\n  const isSubmitting = createProfileMutation.isPending;\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      <Card variant=\"frosted\" className=\"w-full max-w-md relative overflow-hidden\">\n        <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-amber-a3 rounded-full blur-3xl\" />\n        <div className=\"absolute -bottom-20 -left-20 w-40 h-40 bg-violet-a3 rounded-full blur-3xl\" />\n        \n        <CardHeader className=\"text-center relative z-10\">\n          <div className=\"w-16 h-16 mx-auto mb-4 rounded-lg bg-gold-gradient flex items-center justify-center shadow-lg animate-scale-in\">\n            <StepIcon className=\"w-8 h-8 text-gray-1\" />\n          </div>\n          <CardTitle className=\"text-6 gradient-text\">Find Your Great</CardTitle>\n          <CardDescription className=\"text-2 mt-2 text-gray-11\">\n            {stepInfo.description}\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent className=\"relative z-10\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\" data-testid=\"form-profile-setup\">\n            {step === 1 && (\n              <div className=\"space-y-4 animate-fade-in\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"fullName\" className=\"text-2 font-medium\">\n                    {stepInfo.title}\n                  </Label>\n                  <Input\n                    id=\"fullName\"\n                    variant=\"frosted\"\n                    placeholder=\"e.g., John Michael Smith\"\n                    value={fullName}\n                    onChange={(e) => setFullName(e.target.value)}\n                    className=\"text-3\"\n                    autoComplete=\"name\"\n                    data-testid=\"input-full-name\"\n                  />\n                  <p className=\"text-0 text-gray-10\">\n                    Enter your name exactly as it appears on your birth certificate\n                  </p>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"gold\"\n                  className=\"w-full\"\n                  onClick={goToNextStep}\n                  disabled={!canProceedToNext()}\n                  data-testid=\"button-continue-1\"\n                >\n                  Continue\n                  <ArrowRight className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            )}\n\n            {step === 2 && (\n              <div className=\"space-y-4 animate-fade-in\">\n                <div className=\"space-y-2\">\n                  <Label className=\"text-2 font-medium\">\n                    {stepInfo.title}\n                  </Label>\n                  <DatePicker\n                    value={birthDate}\n                    onChange={setBirthDate}\n                    placeholder=\"Select your birth date\"\n                    fromYear={1920}\n                    toYear={new Date().getFullYear()}\n                    data-testid=\"input-birthdate\"\n                  />\n                  <p className=\"text-0 text-gray-10\">\n                    Choose the date you were born\n                  </p>\n                </div>\n                <div className=\"flex gap-3\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => setStep(1)}\n                    className=\"flex-1\"\n                    data-testid=\"button-back-2\"\n                  >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                    Back\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"gold\"\n                    className=\"flex-1\"\n                    onClick={goToNextStep}\n                    disabled={!canProceedToNext()}\n                    data-testid=\"button-continue-2\"\n                  >\n                    Continue\n                    <ArrowRight className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n            )}\n\n            {step === 3 && (\n              <div className=\"space-y-4 animate-fade-in\">\n                <div className=\"space-y-2\">\n                  <Label className=\"text-2 font-medium\">\n                    {stepInfo.title}\n                  </Label>\n                  <TimePicker\n                    value={birthTime}\n                    onChange={setBirthTime}\n                    data-testid=\"input-birthtime\"\n                  />\n                  <p className=\"text-0 text-gray-10\">\n                    Check your birth certificate or ask a parent if unsure\n                  </p>\n                </div>\n                <div className=\"flex gap-3\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => setStep(2)}\n                    className=\"flex-1\"\n                    data-testid=\"button-back-3\"\n                  >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                    Back\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"gold\"\n                    className=\"flex-1\"\n                    onClick={goToNextStep}\n                    data-testid=\"button-continue-3\"\n                  >\n                    {birthTime ? 'Continue' : 'Skip'}\n                    <ArrowRight className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n            )}\n\n            {step === 4 && (\n              <div className=\"space-y-4 animate-fade-in\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"birthlocation\" className=\"text-2 font-medium flex items-center gap-2\">\n                    <MapPin className=\"w-4 h-4 text-amber-9\" />\n                    {stepInfo.title}\n                  </Label>\n                  <Input\n                    id=\"birthlocation\"\n                    type=\"text\"\n                    variant=\"frosted\"\n                    placeholder=\"e.g., Los Angeles, CA\"\n                    value={birthLocation}\n                    onChange={(e) => setBirthLocation(e.target.value)}\n                    className=\"text-3\"\n                    data-testid=\"input-birthlocation\"\n                  />\n                  <p className=\"text-0 text-gray-10\">\n                    City and country where you were born\n                  </p>\n                </div>\n                <div className=\"flex gap-3\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => setStep(3)}\n                    className=\"flex-1\"\n                    disabled={isSubmitting}\n                    data-testid=\"button-back-4\"\n                  >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                    Back\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    variant=\"gold\"\n                    className=\"flex-1\"\n                    disabled={isSubmitting}\n                    data-testid=\"button-reveal\"\n                  >\n                    {isSubmitting ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                        Saving...\n                      </>\n                    ) : (\n                      <>\n                        Reveal My Energy\n                        <Sparkles className=\"w-4 h-4\" />\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </div>\n            )}\n          </form>\n\n          <div className=\"flex justify-center gap-2 mt-6\">\n            {Array.from({ length: totalSteps }, (_, i) => i + 1).map((s) => (\n              <div\n                key={s}\n                className={`w-2 h-2 rounded-full transition-colors ${\n                  s === step ? 'bg-amber-9' : s < step ? 'bg-amber-7' : 'bg-gray-6'\n                }`}\n              />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":12431,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/StarField.tsx":{"content":"import { useEffect, useRef } from 'react';\n\ninterface Star {\n  x: number;\n  y: number;\n  size: number;\n  opacity: number;\n  speed: number;\n}\n\nexport function StarField() {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const resizeCanvas = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    const stars: Star[] = [];\n    const numStars = 150;\n\n    for (let i = 0; i < numStars; i++) {\n      stars.push({\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n        size: Math.random() * 2 + 0.5,\n        opacity: Math.random() * 0.5 + 0.2,\n        speed: Math.random() * 0.5 + 0.1,\n      });\n    }\n\n    let animationId: number;\n\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      stars.forEach((star) => {\n        star.opacity += Math.sin(Date.now() * star.speed * 0.001) * 0.01;\n        star.opacity = Math.max(0.1, Math.min(0.7, star.opacity));\n\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(250, 240, 220, ${star.opacity})`;\n        ctx.fill();\n      });\n\n      animationId = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      cancelAnimationFrame(animationId);\n    };\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className=\"fixed inset-0 pointer-events-none z-0\"\n      style={{ opacity: 0.6 }}\n    />\n  );\n}\n","path":null,"size_bytes":1740,"size_tokens":null},"client/src/components/ProfileCard.tsx":{"content":"import { \n  calculateComprehensiveProfile, \n  getNumberMeaning,\n  type FullProfile \n} from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Sparkles, Star, Flame, Wind, Droplets, Mountain, Zap, Heart, Brain, Target } from 'lucide-react';\n\ninterface ProfileCardProps {\n  profile: ProfileData;\n}\n\nconst elementIcons: Record<string, typeof Flame> = {\n  'Fire': Flame,\n  'Water': Droplets,\n  'Earth': Mountain,\n  'Air': Wind,\n  'Wood': Sparkles,\n  'Metal': Zap,\n};\n\nexport function ProfileCard({ profile }: ProfileCardProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const lifePathMeaning = getNumberMeaning(fullProfile.lifePathNumber);\n  const ElementIcon = elementIcons[fullProfile.westernZodiac.element] || Star;\n  const ChineseElementIcon = elementIcons[fullProfile.chineseZodiac.element] || Star;\n\n  const firstName = profile.fullName.split(' ')[0];\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-profile\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 via-transparent to-violet-a2 pointer-events-none\" />\n      \n      <CardHeader className=\"relative pb-0\">\n        <div className=\"flex items-start justify-between gap-4 flex-wrap\">\n          <div>\n            <p className=\"text-1 text-gray-11\">Welcome back,</p>\n            <h2 className=\"text-5 font-semibold text-gray-12\" data-testid=\"text-user-name\">{firstName}</h2>\n          </div>\n          <div className=\"text-right\">\n            <Badge variant=\"outline\" className=\"mb-1\" data-testid=\"badge-life-path\">\n              Life Path {fullProfile.lifePathNumber}\n            </Badge>\n            <p className=\"text-0 text-gray-10\">\n              {profile.birthDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n            </p>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6 relative pt-6\">\n        <div className=\"text-center py-6 rounded-lg bg-gray-a3 border border-gray-5/50\">\n          <p className=\"text-0 text-gray-10 uppercase tracking-wider mb-2\">Your Energy Signature</p>\n          <h3 className=\"text-6 font-semibold gradient-text\" data-testid=\"text-energy-signature\">\n            {fullProfile.energySignature}\n          </h3>\n          <p className=\"text-3 text-gray-11 mt-1 italic\">\"{lifePathMeaning.title}\"</p>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div className=\"text-center p-3 rounded-md bg-gray-a3 border border-gray-5/30\">\n            <div className=\"flex items-center justify-center gap-1 mb-1\">\n              <Heart className=\"w-4 h-4 text-pink-9\" />\n              <span className=\"text-4 font-semibold\" data-testid=\"text-expression\">{fullProfile.expressionNumber}</span>\n            </div>\n            <p className=\"text-0 text-gray-10\">Expression</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3 border border-gray-5/30\">\n            <div className=\"flex items-center justify-center gap-1 mb-1\">\n              <Sparkles className=\"w-4 h-4 text-violet-9\" />\n              <span className=\"text-4 font-semibold\" data-testid=\"text-soul-urge\">{fullProfile.soulUrgeNumber}</span>\n            </div>\n            <p className=\"text-0 text-gray-10\">Soul Urge</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3 border border-gray-5/30\">\n            <div className=\"flex items-center justify-center gap-1 mb-1\">\n              <Brain className=\"w-4 h-4 text-blue-9\" />\n              <span className=\"text-4 font-semibold\" data-testid=\"text-personality\">{fullProfile.personalityNumber}</span>\n            </div>\n            <p className=\"text-0 text-gray-10\">Personality</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3 border border-gray-5/30\">\n            <div className=\"flex items-center justify-center gap-1 mb-1\">\n              <Target className=\"w-4 h-4 text-green-9\" />\n              <span className=\"text-4 font-semibold\" data-testid=\"text-maturity\">{fullProfile.maturityNumber}</span>\n            </div>\n            <p className=\"text-0 text-gray-10\">Maturity</p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-3\">\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"text-4 mb-1\" data-testid=\"text-zodiac-animal\">{fullProfile.chineseZodiac.animal}</p>\n            <p className=\"text-0 text-gray-10\">Chinese Zodiac</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"text-3 mb-1 flex items-center justify-center\">\n              <ChineseElementIcon className=\"w-5 h-5 text-amber-9\" />\n            </p>\n            <p className=\"text-0 text-gray-10\">{fullProfile.chineseZodiac.element}</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"text-3 mb-1 flex items-center justify-center\">\n              <Star className=\"w-5 h-5 text-amber-9\" />\n            </p>\n            <p className=\"text-0 text-gray-10\">{fullProfile.chineseZodiac.yinYang}</p>\n          </div>\n        </div>\n\n        <div className=\"p-4 rounded-lg bg-gray-a2 border border-gray-5/30\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <ElementIcon className=\"w-4 h-4 text-amber-9\" />\n            <span className=\"text-1 font-medium\">{fullProfile.westernZodiac.sign}</span>\n            <Badge variant=\"outline\" size=\"sm\">{fullProfile.westernZodiac.element}</Badge>\n            <Badge variant=\"outline\" size=\"sm\">{fullProfile.westernZodiac.modality}</Badge>\n          </div>\n          <p className=\"text-0 text-gray-10\">\n            Ruled by {fullProfile.westernZodiac.rulingPlanet}\n          </p>\n        </div>\n\n        <div className=\"space-y-3\">\n          <p className=\"text-2 text-gray-11 leading-relaxed\" data-testid=\"text-personality-paragraph\">\n            {fullProfile.personality.paragraph}\n          </p>\n        </div>\n\n        <div>\n          <h4 className=\"text-2 font-semibold mb-3 flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4 text-amber-9\" />\n            Top Strengths\n          </h4>\n          <div className=\"flex flex-wrap gap-2\">\n            {fullProfile.personality.strengths.map((strength, i) => (\n              <Badge key={i} color=\"amber\" variant=\"outline\" data-testid={`badge-strength-${i}`}>\n                {strength}\n              </Badge>\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <h4 className=\"text-2 font-semibold mb-3 flex items-center gap-2\">\n            <Zap className=\"w-4 h-4 text-violet-9\" />\n            Core Challenges\n          </h4>\n          <div className=\"flex flex-wrap gap-2\">\n            {fullProfile.personality.challenges.map((challenge, i) => (\n              <Badge key={i} variant=\"outline\" data-testid={`badge-challenge-${i}`}>\n                {challenge}\n              </Badge>\n            ))}\n          </div>\n        </div>\n\n        <div>\n          <h4 className=\"text-2 font-semibold mb-3\">Lucky Colors</h4>\n          <div className=\"flex gap-2 flex-wrap\">\n            {fullProfile.personality.luckyColors.map((color, i) => (\n              <div\n                key={i}\n                className=\"px-3 py-1.5 rounded-full text-1 bg-gray-a3 border border-gray-5/50\"\n              >\n                {color}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {profile.birthTime && profile.birthTime !== '12:00' && (\n          <div className=\"pt-4 border-t border-gray-5/30\">\n            <p className=\"text-0 text-gray-10\">\n              Born at {profile.birthTime}\n              {profile.birthLocation && profile.birthLocation !== 'Unknown' && ` in ${profile.birthLocation}`}\n            </p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":8112,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"design_guidelines.md":{"content":"# GG33 Frosted UI Design Guidelines\n\n## Design Approach\n**Frosted UI Design System** - A glass morphism-based design language inspired by Whop's design system, featuring 12-step Radix color scales, subtle gradients, and modern visual hierarchy optimized for dark mode.\n\n---\n\n## Color System\n\n### 12-Step Radix Color Scales\nUsing Radix color system with 12 steps for precise theming:\n\n**Gray Scale (Foundation)**\n- `gray-1`: Darkest (app background)\n- `gray-2`: Card backgrounds, elevated surfaces\n- `gray-3`: Hover states, active surfaces\n- `gray-4`: Pressed states\n- `gray-5`: Borders, separators\n- `gray-6`: Secondary borders\n- `gray-7-8`: Muted elements\n- `gray-9`: Placeholder text\n- `gray-10`: Secondary text, captions\n- `gray-11`: Body text\n- `gray-12`: Headings, primary text\n\n**Amber/Gold (Primary Accent)**\n- `amber-9`: Main accent, CTAs\n- `amber-10`: Hover state\n- `amber-11`: Text on light backgrounds\n- `amber-a2-a4`: Subtle backgrounds\n\n**Semantic Colors**\n- **Green** (`green-9/11`): Success, positive actions\n- **Red** (`red-9/11`): Error, destructive actions\n- **Violet** (`violet-8/a2`): Secondary accents\n- **Blue** (`blue-9/11`): Information states\n\n---\n\n## Typography Scale\n\nUsing numeric utility classes:\n- `text-0`: 11px - Tiny labels, captions\n- `text-1`: 12px - Small labels, secondary info\n- `text-2`: 14px - Body text\n- `text-3`: 16px - Larger body, descriptions\n- `text-4`: 18px - Subheadings, card titles\n- `text-5`: 20px - Section titles\n- `text-6`: 24px - Page section headings\n- `text-7`: 32px - Page headings\n- `text-8`: 48px - Hero text\n- `text-9`: 64px - Display text\n\n---\n\n## Component Variants\n\n### Cards\n- `variant=\"default\"`: Gray background with border\n- `variant=\"frosted\"`: Glass morphism with blur\n- `variant=\"glass\"`: Lighter glass effect\n- `variant=\"glow\"`: Amber glow for emphasis\n- `variant=\"elevated\"`: Shadow with hover lift\n\n### Buttons\n- `variant=\"default\"`: Standard primary\n- `variant=\"gold\"`: Golden gradient CTAs\n- `variant=\"hero\"`: Large gold for hero sections\n- `variant=\"glass\"`: Glass morphism\n- `variant=\"outline\"`: Border-only\n- `variant=\"ghost\"`: Transparent hover\n- `variant=\"glow\"`: Amber glow effect\n\n### Badges\n- `variant=\"default\"`: Primary colored\n- `variant=\"secondary\"`: Muted gray\n- `variant=\"outline\"`: Border only\n- `variant=\"success\"`: Green\n- `variant=\"warning\"`: Amber\n- Color modifiers: `color=\"amber\"`, `color=\"green\"`, etc.\n\n### Inputs\n- `variant=\"default\"`: Standard input\n- `variant=\"frosted\"`: Glass morphism input\n- `variant=\"cosmic\"`: Glow effect on focus\n\n---\n\n## Gradient Classes\n\n- `.gradient-text`: Amber to gold text gradient\n- `.bg-gold-gradient`: Gold button gradient\n- `.glass`: Glass morphism background\n- `.frosted-card`: Frosted glass card\n- `.shadow-glow`: Amber glow shadow\n\n---\n\n## Spacing System\n\n**Consistent Padding:**\n- Cards: `p-4` to `p-6`\n- Sections: `py-12` to `py-20`\n- Component gaps: `gap-2`, `gap-4`, `gap-6`\n\n**Container:**\n- Max width: `max-w-6xl` (primary content)\n- Margins: `mx-auto px-4`\n\n---\n\n## Animation Classes\n\n- `.animate-fade-in`: Fade in on mount\n- `.animate-slide-up`: Slide up entrance\n- `.animate-scale-in`: Scale up entrance\n\n---\n\n## Best Practices\n\n1. **Color Usage**: Use semantic tokens over hardcoded values\n2. **Cards**: Prefer Card variants over custom bg styling\n3. **Text Hierarchy**: `gray-10` â†’ `gray-11` â†’ `gray-12`\n4. **Glass Effects**: Use sparingly for visual interest\n5. **Gold Accent**: Reserve for primary actions only\n6. **Borders**: Use `gray-5` for subtle borders\n7. **Hover States**: Built into Button/Badge components\n\n---\n\n## Dark Mode Notes\n\nApp uses dark-first design:\n- Dark backgrounds (gray-1 to gray-3)\n- Light text (gray-11 to gray-12)\n- Vibrant accents (amber, violet)\n- Colors adapt via CSS variables\n","path":null,"size_bytes":3764,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst cardVariants = cva(\n  \"rounded-lg border text-card-foreground transition-all duration-200\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-gray-2 border-gray-5\",\n        frosted: \"frosted-card\",\n        glass: \"glass\",\n        elevated: \"bg-gray-2 border-gray-5 shadow-lg hover:shadow-xl hover:-translate-y-0.5\",\n        glow: \"bg-gray-2 border-amber-6/30 shadow-glow\",\n        cosmic: \"bg-gradient-to-br from-gray-2 to-gray-3 border-gray-5/50\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface CardProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof cardVariants> {}\n\nconst Card = React.forwardRef<HTMLDivElement, CardProps>(\n  ({ className, variant, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(cardVariants({ variant, className }))}\n      {...props}\n    />\n  )\n)\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n)\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-5 font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n)\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-2 text-gray-11\", className)} {...props} />\n  ),\n)\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n)\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n)\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":2462,"size_tokens":null},"server/whop.ts":{"content":"import { Whop } from \"@whop/sdk\";\nimport type { Request, Response, NextFunction } from \"express\";\n\nconst WHOP_API_KEY = process.env.WHOP_API_KEY;\nconst WHOP_APP_ID = process.env.WHOP_APP_ID;\n\nexport const whopSdk = WHOP_API_KEY && WHOP_APP_ID\n  ? new Whop({ apiKey: WHOP_API_KEY, appId: WHOP_APP_ID })\n  : null;\n\nif (!WHOP_API_KEY || !WHOP_APP_ID) {\n  console.warn(\"Whop SDK not initialized - missing WHOP_API_KEY or WHOP_APP_ID\");\n}\n\nexport interface WhopUserToken {\n  userId: string;\n}\n\nexport async function verifyWhopUserToken(\n  headers: Record<string, string | string[] | undefined>\n): Promise<WhopUserToken | null> {\n  if (!whopSdk) {\n    return null;\n  }\n\n  const tokenHeader = headers[\"x-whop-user-token\"];\n  if (!tokenHeader) {\n    return null;\n  }\n\n  const token = Array.isArray(tokenHeader) ? tokenHeader[0] : tokenHeader;\n  if (!token) {\n    return null;\n  }\n\n  try {\n    const result = await whopSdk.verifyUserToken(token, { dontThrow: true });\n    if (result && result.userId) {\n      return {\n        userId: result.userId,\n      };\n    }\n    return null;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport interface WhopRequest extends Request {\n  whopUser?: WhopUserToken;\n  experienceId?: string;\n  companyId?: string;\n}\n\nexport async function whopAuthMiddleware(\n  req: WhopRequest,\n  res: Response,\n  next: NextFunction\n) {\n  const user = await verifyWhopUserToken(req.headers as Record<string, string | string[] | undefined>);\n  if (user) {\n    req.whopUser = user;\n    \n    // Only log for API routes and page navigations, not static assets\n    const path = req.path;\n    const isApiRoute = path.startsWith('/api/');\n    const isPageRoute = path.startsWith('/experiences/') || path.startsWith('/dashboard/');\n    const isStaticAsset = path.includes('.') || path.startsWith('/@') || path.startsWith('/src/') || path.startsWith('/node_modules/');\n    \n    if ((isApiRoute || isPageRoute) && !isStaticAsset) {\n      console.log(`[Whop] User ${user.userId} authenticated for ${req.method} ${path}`);\n    }\n  }\n\n  const experienceId = req.query.experienceId || req.params.experienceId;\n  if (experienceId) {\n    req.experienceId = experienceId as string;\n  }\n\n  const companyId = req.query.companyId || req.params.companyId;\n  if (companyId) {\n    req.companyId = companyId as string;\n  }\n\n  next();\n}\n\nexport function requireWhopAuth(\n  req: WhopRequest,\n  res: Response,\n  next: NextFunction\n) {\n  if (!req.whopUser) {\n    return res.status(401).json({ error: \"Authentication required\" });\n  }\n  next();\n}\n\nexport async function checkAccess(\n  resourceId: string,\n  userId: string\n): Promise<{ hasAccess: boolean; accessLevel: \"customer\" | \"admin\" | \"no_access\" }> {\n  if (!whopSdk) {\n    console.warn(\"Whop SDK not initialized - denying access for security\");\n    return { hasAccess: false, accessLevel: \"no_access\" };\n  }\n\n  try {\n    const response = await whopSdk.users.checkAccess(resourceId, { id: userId });\n\n    return {\n      hasAccess: response.has_access ?? false,\n      accessLevel: (response.access_level as \"customer\" | \"admin\" | \"no_access\") ?? \"no_access\",\n    };\n  } catch (error) {\n    console.error(\"Failed to check access:\", error);\n    return { hasAccess: false, accessLevel: \"no_access\" };\n  }\n}\n\nexport interface WhopUserProfile {\n  id: string;\n  username: string;\n  name: string | null;\n  bio: string | null;\n  profilePictureUrl: string | null;\n}\n\nexport async function getWhopUserProfile(userId: string): Promise<WhopUserProfile | null> {\n  // First, try using the SDK (requires users.read permission)\n  if (whopSdk) {\n    try {\n      const user = await whopSdk.users.retrieve(userId);\n      \n      return {\n        id: user.id,\n        username: user.username,\n        name: user.name ?? null,\n        bio: user.bio ?? null,\n        profilePictureUrl: user.profile_picture?.url ?? null,\n      };\n    } catch (error: any) {\n      // If it's a 401/403 error, the app doesn't have users.read permission\n      // Try the public API as fallback\n      if (error?.status === 401 || error?.status === 403) {\n        console.log(\"SDK users.retrieve requires permission - trying public API fallback\");\n      } else {\n        console.error(\"Failed to fetch Whop user profile via SDK:\", error);\n      }\n    }\n  }\n\n  // Fallback: Try fetching from the public Whop API\n  // This endpoint can retrieve public user data by userId\n  try {\n    const response = await fetch(`https://api.whop.com/api/v1/users/${userId}`);\n    \n    if (response.ok) {\n      const user = await response.json();\n      \n      return {\n        id: user.id || userId,\n        username: user.username || \"unknown\",\n        name: user.name ?? null,\n        bio: user.bio ?? null,\n        profilePictureUrl: user.profile_picture?.url ?? null,\n      };\n    } else {\n      console.log(`Public API returned ${response.status} for user ${userId}`);\n    }\n  } catch (error) {\n    console.error(\"Failed to fetch Whop user profile via public API:\", error);\n  }\n\n  return null;\n}\n","path":null,"size_bytes":4973,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst inputVariants = cva(\n  \"flex h-11 w-full rounded-md border bg-transparent px-4 py-3 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-gray-9 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 md:text-sm\",\n  {\n    variants: {\n      variant: {\n        default: \"border-gray-5 bg-gray-2 focus:border-amber-7 focus:bg-gray-3\",\n        frosted: \"glass focus:bg-gray-3/80\",\n        cosmic: \"border-gray-5/50 bg-gray-2/50 backdrop-blur-sm focus:border-amber-7 focus:bg-gray-3 focus:shadow-glow\",\n        ghost: \"border-transparent bg-transparent focus:bg-gray-3 focus:border-gray-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    VariantProps<typeof inputVariants> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, variant, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(inputVariants({ variant, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":1458,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"client/src/pages/compatibility.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { CompatibilityChecker } from '@/components/CompatibilityChecker';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { NavLink } from '@/components/NavLink';\nimport { Heart, Sparkles, Lock, Crown } from 'lucide-react';\nimport { UpgradeModal } from '@/components/UpgradeModal';\n\ninterface UserProfile {\n  name: string;\n  fullName: string;\n  birthDate: Date;\n}\n\ninterface MeApiResponse {\n  user?: {\n    odisId: string;\n    fullName: string;\n    birthDate: string;\n    isPro?: boolean;\n  };\n  needsOnboarding?: boolean;\n}\n\nexport default function Compatibility() {\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n\n  const { data: meData, isLoading } = useQuery<MeApiResponse>({\n    queryKey: ['/api/me'],\n    queryFn: async () => {\n      const response = await fetch('/api/me');\n      if (!response.ok) return { needsOnboarding: true };\n      return response.json();\n    },\n  });\n\n  useEffect(() => {\n    if (meData?.user?.odisId) {\n      localStorage.setItem('gg33-odis-id', meData.user.odisId);\n    }\n  }, [meData]);\n\n  const isPro = meData?.user?.isPro ?? false;\n  \n  const profile: UserProfile | null = meData?.user ? {\n    fullName: meData.user.fullName,\n    name: meData.user.fullName.split(' ')[0],\n    birthDate: new Date(meData.user.birthDate),\n  } : null;\n\n  if (isLoading) {\n    return (\n      <>\n        <StarField />\n        <Navigation />\n        <main className=\"pt-20 pb-12 px-4 min-h-screen\">\n          <div className=\"container mx-auto max-w-4xl flex items-center justify-center\">\n            <div className=\"animate-pulse text-gray-11\">Loading...</div>\n          </div>\n        </main>\n      </>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <>\n        <StarField />\n        <Navigation />\n        <main className=\"pt-20 pb-12 px-4 min-h-screen\">\n          <div className=\"container mx-auto max-w-4xl\">\n            <Card variant=\"frosted\" className=\"text-center\">\n              <CardContent className=\"py-12\">\n                <Heart className=\"w-16 h-16 mx-auto text-amber-9 mb-6\" />\n                <h2 className=\"text-5 font-semibold mb-4\">\n                  Set Up Your Profile First\n                </h2>\n                <p className=\"text-gray-11 text-2 mb-6\">\n                  To check compatibility, we need your birth date to calculate your energy signature.\n                </p>\n                <NavLink to=\"/\" className=\"text-amber-11 hover:underline\">\n                  Go to Home to set up your profile\n                </NavLink>\n              </CardContent>\n            </Card>\n          </div>\n        </main>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-compatibility\">\n        <div className=\"container mx-auto max-w-4xl space-y-8\">\n          <div className=\"text-center\">\n            <Badge variant=\"outline\" className=\"mb-4\">\n              <Sparkles className=\"w-3 h-3 mr-1\" />\n              Energy Matching\n            </Badge>\n            <h1 className=\"text-6 md:text-7 font-semibold mb-4\">\n              Compatibility <span className=\"gradient-text\">Analysis</span>\n            </h1>\n            <p className=\"text-gray-11 text-3 max-w-2xl mx-auto\">\n              Discover how your energy aligns with the people in your life.\n            </p>\n          </div>\n\n          {isPro ? (\n            <CompatibilityChecker \n              userBirthDate={profile.birthDate} \n              userName={profile.name}\n              userFullName={profile.fullName}\n            />\n          ) : (\n            <Card variant=\"frosted\" className=\"text-center\" data-testid=\"card-compatibility-locked\">\n              <CardContent className=\"py-12\">\n                <div className=\"w-16 h-16 mx-auto rounded-xl bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center mb-6\">\n                  <Lock className=\"w-8 h-8 text-white\" />\n                </div>\n                <div className=\"flex items-center justify-center gap-2 mb-4\">\n                  <Crown className=\"w-5 h-5 text-amber-9\" />\n                  <Badge variant=\"secondary\" size=\"sm\">Pro Feature</Badge>\n                </div>\n                <h2 className=\"text-5 font-semibold mb-4\">\n                  Compatibility Analysis\n                </h2>\n                <p className=\"text-gray-11 text-2 mb-6 max-w-md mx-auto\">\n                  Unlock compatibility analysis to discover how your energy aligns with the people in your life.\n                </p>\n                <Button \n                  variant=\"gold\" \n                  size=\"lg\"\n                  onClick={() => setShowUpgradeModal(true)}\n                  data-testid=\"button-unlock-compatibility\"\n                >\n                  <Sparkles className=\"w-4 h-4 mr-2\" />\n                  Upgrade to Pro\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </main>\n\n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":5343,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/pages/home.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { ProfileSetup, ProfileData } from '@/components/ProfileSetup';\nimport { LoadingScreen } from '@/components/LoadingScreen';\nimport { ProfileOverview } from '@/components/ProfileOverview';\nimport { PersonalityInsights } from '@/components/PersonalityInsights';\nimport { DailyEnergy } from '@/components/DailyEnergy';\nimport { ExternalLink } from 'lucide-react';\n\ninterface MembershipInfo {\n  hasMembership: boolean;\n  membershipId: string | null;\n  status: string | null;\n  manageUrl: string | null;\n}\n\nconst ODIS_ID_KEY = 'gg33-odis-id';\n\ninterface WhopUserData {\n  profilePictureUrl: string | null;\n  username: string;\n  name: string | null;\n}\n\nexport default function Home() {\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [pendingProfile, setPendingProfile] = useState<ProfileData | null>(null);\n  \n  const savedOdisId = localStorage.getItem(ODIS_ID_KEY);\n  const [odisId, setOdisId] = useState<string | null>(savedOdisId);\n\n  const { data: profileData, isLoading: isProfileLoading, isFetched: isProfileFetched } = useQuery({\n    queryKey: ['/api/profile', odisId],\n    queryFn: async () => {\n      if (!odisId) return null;\n      const response = await fetch(`/api/profile/${odisId}`);\n      if (!response.ok) {\n        if (response.status === 404) {\n          localStorage.removeItem(ODIS_ID_KEY);\n          return null;\n        }\n        throw new Error('Failed to fetch profile');\n      }\n      const data = await response.json();\n      return data.user;\n    },\n    enabled: !!odisId,\n    staleTime: 1000 * 60 * 5,\n    retry: false,\n  });\n\n  // Derive whopUser from profileData - the profile already has whop info stored\n  const whopUser: WhopUserData | null = profileData ? {\n    profilePictureUrl: profileData.whopProfilePictureUrl || null,\n    username: profileData.whopUsername || '',\n    name: profileData.fullName || null,\n  } : null;\n\n  const profile: ProfileData | null = profileData ? {\n    odisId: profileData.odisId,\n    fullName: profileData.fullName,\n    birthDate: new Date(profileData.birthDate),\n    birthTime: profileData.birthTime || '12:00',\n    birthLocation: profileData.birthLocation || 'Unknown',\n  } : null;\n\n  const { data: membership } = useQuery<MembershipInfo>({\n    queryKey: ['/api/membership'],\n    staleTime: 0,\n    refetchOnWindowFocus: true,\n    refetchOnMount: true,\n  });\n\n  // Derive isPro from membership status - if they have an active membership, they're Pro\n  // This automatically grants/revokes Pro access based on Whop membership\n  const isPro = membership?.hasMembership ?? profileData?.isPro ?? false;\n\n  useEffect(() => {\n    if (isProfileFetched && !profileData && odisId) {\n      localStorage.removeItem(ODIS_ID_KEY);\n      setOdisId(null);\n    }\n  }, [isProfileFetched, profileData, odisId]);\n\n  const handleProfileComplete = (profileData: ProfileData) => {\n    localStorage.setItem(ODIS_ID_KEY, profileData.odisId);\n    setPendingProfile(profileData);\n    setIsCalculating(true);\n  };\n\n  const handleCalculationComplete = () => {\n    if (pendingProfile) {\n      setOdisId(pendingProfile.odisId);\n      setPendingProfile(null);\n    }\n    setIsCalculating(false);\n  };\n\n  const isLoadingProfile = isProfileLoading && !profileData && odisId;\n  \n  if (isLoadingProfile) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <div className=\"animate-pulse text-gray-11\">Loading your profile...</div>\n      </div>\n    );\n  }\n\n  if (isCalculating) {\n    return (\n      <>\n        <StarField />\n        <LoadingScreen onComplete={handleCalculationComplete} profile={pendingProfile || undefined} />\n      </>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <>\n        <StarField />\n        <ProfileSetup onComplete={handleProfileComplete} />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-16 pb-12 px-4 min-h-screen\" data-testid=\"dashboard\">\n        <div className=\"w-full max-w-6xl mx-auto space-y-6\">\n          <ProfileOverview profile={profile} whopUser={whopUser} isPro={isPro} />\n          \n          <div className=\"grid lg:grid-cols-2 gap-6 items-stretch\">\n            <PersonalityInsights profile={profile} />\n            <DailyEnergy profile={profile} />\n          </div>\n\n          {membership?.manageUrl && (\n            <div className=\"flex justify-center\">\n              <button\n                onClick={() => window.open(membership.manageUrl!, '_blank')}\n                className=\"text-2 text-gray-9 hover:text-gray-11 flex items-center gap-1.5 transition-colors\"\n                data-testid=\"link-manage-subscription\"\n              >\n                Manage Subscription\n                <ExternalLink className=\"w-3.5 h-3.5\" />\n              </button>\n            </div>\n          )}\n        </div>\n      </main>\n    </>\n  );\n}\n","path":null,"size_bytes":5043,"size_tokens":null},"client/src/context/WhopContext.tsx":{"content":"import { createContext, useContext } from 'react';\n\ninterface WhopContextType {\n  basePath: string;\n  experienceId?: string;\n  companyId?: string;\n  isWhopApp: boolean;\n}\n\nconst WhopContext = createContext<WhopContextType>({\n  basePath: '',\n  isWhopApp: false,\n});\n\nexport function useWhopContext() {\n  return useContext(WhopContext);\n}\n\ninterface WhopProviderProps {\n  children: React.ReactNode;\n  experienceId?: string;\n  companyId?: string;\n}\n\nexport function WhopProvider({ children, experienceId, companyId }: WhopProviderProps) {\n  let basePath = '';\n  \n  if (experienceId) {\n    basePath = `/experiences/${experienceId}`;\n  } else if (companyId) {\n    basePath = `/dashboard/${companyId}`;\n  }\n\n  return (\n    <WhopContext.Provider value={{\n      basePath,\n      experienceId,\n      companyId,\n      isWhopApp: !!experienceId || !!companyId,\n    }}>\n      {children}\n    </WhopContext.Provider>\n  );\n}\n\nexport function useWhopLink(path: string): string {\n  const { basePath } = useWhopContext();\n  if (path.startsWith('/')) {\n    return basePath + path;\n  }\n  return basePath + '/' + path;\n}\n","path":null,"size_bytes":1099,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"server/storage.ts":{"content":"import { connectDB, UserModel, DailyEnergyModel, PersonalityInsightModel, type DBUser, type DBDailyEnergy, type DBPersonalityInsight } from \"./db\";\nimport crypto from \"crypto\";\n\nexport interface LessonProgress {\n  lessonId: string;\n  completed: boolean;\n}\n\nexport interface IStorage {\n  // User operations\n  getUserByOdisId(odisId: string): Promise<DBUser | null>;\n  getUserByWhopId(whopUserId: string): Promise<DBUser | null>;\n  createUser(data: { odisId: string; fullName: string; birthDate: Date; birthTime?: string; birthLocation?: string; whopUserId?: string; whopUsername?: string; whopProfilePictureUrl?: string; whopAccessLevel?: 'customer' | 'admin' | 'no_access' }): Promise<DBUser>;\n  updateUser(odisId: string, data: { fullName?: string; birthDate?: Date; birthTime?: string; birthLocation?: string }): Promise<DBUser | null>;\n  updateWhopProfile(whopUserId: string, data: { whopUsername?: string; whopProfilePictureUrl?: string; whopAccessLevel?: 'customer' | 'admin' | 'no_access' }): Promise<DBUser | null>;\n  upgradeUserToPro(whopUserId: string, receiptId: string): Promise<DBUser | null>;\n  syncProStatus(whopUserId: string, isPro: boolean, membershipId?: string | null): Promise<DBUser | null>;\n  getUserByPaymentReceipt(receiptId: string): Promise<DBUser | null>;\n  \n  // Daily Energy operations\n  getDailyEnergy(odisId: string, date: string): Promise<DBDailyEnergy | null>;\n  saveDailyEnergy(data: Omit<DBDailyEnergy, 'id' | 'createdAt'>): Promise<DBDailyEnergy>;\n  \n  // Personality Insight operations\n  getPersonalityInsight(odisId: string): Promise<DBPersonalityInsight | null>;\n  savePersonalityInsight(data: Omit<DBPersonalityInsight, 'id' | 'createdAt' | 'updatedAt'>): Promise<DBPersonalityInsight>;\n\n  // Course Progress operations (in-memory)\n  getCourseProgress(courseId: string): Promise<LessonProgress[]>;\n  markLessonComplete(courseId: string, lessonId: string): Promise<void>;\n}\n\nfunction generateOdisId(): string {\n  return `odis_${crypto.randomUUID()}`;\n}\n\nexport { generateOdisId };\n\nexport class MongoStorage implements IStorage {\n  private initialized = false;\n  // In-memory progress storage: Map<courseId, Set<completedLessonIds>>\n  private progressStore: Map<string, Set<string>> = new Map();\n\n  private async ensureConnected(): Promise<boolean> {\n    if (!this.initialized) {\n      this.initialized = await connectDB();\n    }\n    return this.initialized;\n  }\n\n  // User operations\n  async getUserByOdisId(odisId: string): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      return null;\n    }\n\n    try {\n      const user = await UserModel.findOne({ odisId });\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error getting user:\", error);\n      return null;\n    }\n  }\n\n  async getUserByWhopId(whopUserId: string): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      return null;\n    }\n\n    try {\n      const user = await UserModel.findOne({ whopUserId });\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error getting user by Whop ID:\", error);\n      return null;\n    }\n  }\n\n  async createUser(data: { odisId: string; fullName: string; birthDate: Date; birthTime?: string; birthLocation?: string; whopUserId?: string; whopUsername?: string; whopProfilePictureUrl?: string; whopAccessLevel?: 'customer' | 'admin' | 'no_access' }): Promise<DBUser> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const user = await UserModel.create({\n        odisId: data.odisId,\n        whopUserId: data.whopUserId,\n        whopUsername: data.whopUsername,\n        whopProfilePictureUrl: data.whopProfilePictureUrl,\n        whopAccessLevel: data.whopAccessLevel,\n        fullName: data.fullName,\n        birthDate: data.birthDate,\n        birthTime: data.birthTime,\n        birthLocation: data.birthLocation,\n      });\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error creating user:\", error);\n      throw error;\n    }\n  }\n\n  async updateUser(odisId: string, data: { fullName?: string; birthDate?: Date; birthTime?: string; birthLocation?: string }): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const user = await UserModel.findOneAndUpdate(\n        { odisId },\n        { $set: { ...data, updatedAt: new Date() } },\n        { new: true }\n      );\n\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n      throw error;\n    }\n  }\n\n  async updateWhopProfile(whopUserId: string, data: { whopUsername?: string; whopProfilePictureUrl?: string; whopAccessLevel?: 'customer' | 'admin' | 'no_access' }): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      // Filter out undefined values to prevent overwriting existing data\n      const updateData: Record<string, unknown> = { updatedAt: new Date() };\n      if (data.whopUsername !== undefined) updateData.whopUsername = data.whopUsername;\n      if (data.whopProfilePictureUrl !== undefined) updateData.whopProfilePictureUrl = data.whopProfilePictureUrl;\n      if (data.whopAccessLevel !== undefined) updateData.whopAccessLevel = data.whopAccessLevel;\n\n      const user = await UserModel.findOneAndUpdate(\n        { whopUserId },\n        { $set: updateData },\n        { new: true }\n      );\n\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error updating Whop profile:\", error);\n      throw error;\n    }\n  }\n\n  async upgradeUserToPro(whopUserId: string, receiptId: string): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const user = await UserModel.findOneAndUpdate(\n        { whopUserId },\n        { $set: { isPro: true, proPaymentReceiptId: receiptId, updatedAt: new Date() } },\n        { new: true }\n      );\n\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error upgrading user to Pro:\", error);\n      throw error;\n    }\n  }\n\n  async syncProStatus(whopUserId: string, isPro: boolean, membershipId?: string | null): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const updateData: any = { \n        isPro, \n        updatedAt: new Date() \n      };\n      \n      if (membershipId !== undefined) {\n        updateData.proPaymentReceiptId = membershipId;\n      }\n\n      const user = await UserModel.findOneAndUpdate(\n        { whopUserId },\n        { $set: updateData },\n        { new: true }\n      );\n\n      if (!user) return null;\n\n      console.log(`[Storage] Synced Pro status for user ${whopUserId}: isPro=${isPro}, membershipId=${membershipId || 'none'}`);\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error syncing Pro status:\", error);\n      throw error;\n    }\n  }\n\n  async getUserByPaymentReceipt(receiptId: string): Promise<DBUser | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      return null;\n    }\n\n    try {\n      const user = await UserModel.findOne({ proPaymentReceiptId: receiptId });\n      if (!user) return null;\n\n      return {\n        id: user._id.toString(),\n        odisId: user.odisId,\n        whopUserId: user.whopUserId,\n        whopUsername: user.whopUsername,\n        whopProfilePictureUrl: user.whopProfilePictureUrl,\n        whopAccessLevel: user.whopAccessLevel,\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime,\n        birthLocation: user.birthLocation,\n        isPro: user.isPro ?? false,\n        createdAt: user.createdAt,\n        updatedAt: user.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error getting user by payment receipt:\", error);\n      return null;\n    }\n  }\n\n  // Daily Energy operations\n  async getDailyEnergy(odisId: string, date: string): Promise<DBDailyEnergy | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      return null;\n    }\n\n    try {\n      const energy = await DailyEnergyModel.findOne({ odisId, date });\n      if (!energy) return null;\n\n      return {\n        id: energy._id.toString(),\n        odisId: energy.odisId,\n        date: energy.date,\n        personalDayNumber: energy.personalDayNumber,\n        universalDayNumber: energy.universalDayNumber,\n        energyScore: energy.energyScore,\n        theme: energy.theme,\n        description: energy.description,\n        dos: energy.dos,\n        donts: energy.donts,\n        focusArea: energy.focusArea,\n        affirmation: energy.affirmation,\n        createdAt: energy.createdAt,\n      };\n    } catch (error) {\n      console.error(\"Error getting daily energy:\", error);\n      return null;\n    }\n  }\n\n  async saveDailyEnergy(data: Omit<DBDailyEnergy, 'id' | 'createdAt'>): Promise<DBDailyEnergy> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const energy = await DailyEnergyModel.findOneAndUpdate(\n        { odisId: data.odisId, date: data.date },\n        { $set: data },\n        { upsert: true, new: true }\n      );\n\n      return {\n        id: energy._id.toString(),\n        odisId: energy.odisId,\n        date: energy.date,\n        personalDayNumber: energy.personalDayNumber,\n        universalDayNumber: energy.universalDayNumber,\n        energyScore: energy.energyScore,\n        theme: energy.theme,\n        description: energy.description,\n        dos: energy.dos,\n        donts: energy.donts,\n        focusArea: energy.focusArea,\n        affirmation: energy.affirmation,\n        createdAt: energy.createdAt,\n      };\n    } catch (error) {\n      console.error(\"Error saving daily energy:\", error);\n      throw error;\n    }\n  }\n\n  // Personality Insight operations\n  async getPersonalityInsight(odisId: string): Promise<DBPersonalityInsight | null> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      return null;\n    }\n\n    try {\n      const insight = await PersonalityInsightModel.findOne({ odisId }).sort({ createdAt: -1 });\n      if (!insight) return null;\n\n      return {\n        id: insight._id.toString(),\n        odisId: insight.odisId,\n        overview: insight.overview,\n        strengths: insight.strengths,\n        challenges: insight.challenges,\n        lifeLesson: insight.lifeLesson,\n        careerPaths: insight.careerPaths,\n        relationshipStyle: insight.relationshipStyle,\n        spiritualGifts: insight.spiritualGifts,\n        profileSnapshot: insight.profileSnapshot || {},\n        createdAt: insight.createdAt,\n        updatedAt: insight.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error getting personality insight:\", error);\n      return null;\n    }\n  }\n\n  async savePersonalityInsight(data: Omit<DBPersonalityInsight, 'id' | 'createdAt' | 'updatedAt'>): Promise<DBPersonalityInsight> {\n    const connected = await this.ensureConnected();\n    if (!connected) {\n      throw new Error(\"Database not connected\");\n    }\n\n    try {\n      const insight = await PersonalityInsightModel.findOneAndUpdate(\n        { odisId: data.odisId },\n        { $set: { ...data, updatedAt: new Date() }, $setOnInsert: { createdAt: new Date() } },\n        { upsert: true, new: true }\n      );\n\n      return {\n        id: insight._id.toString(),\n        odisId: insight.odisId,\n        overview: insight.overview,\n        strengths: insight.strengths,\n        challenges: insight.challenges,\n        lifeLesson: insight.lifeLesson,\n        careerPaths: insight.careerPaths,\n        relationshipStyle: insight.relationshipStyle,\n        spiritualGifts: insight.spiritualGifts,\n        profileSnapshot: insight.profileSnapshot || {},\n        createdAt: insight.createdAt,\n        updatedAt: insight.updatedAt,\n      };\n    } catch (error) {\n      console.error(\"Error saving personality insight:\", error);\n      throw error;\n    }\n  }\n\n  // Course Progress operations (in-memory)\n  async getCourseProgress(courseId: string): Promise<LessonProgress[]> {\n    const completedLessons = this.progressStore.get(courseId);\n    if (!completedLessons) {\n      return [];\n    }\n    return Array.from(completedLessons).map(lessonId => ({\n      lessonId,\n      completed: true,\n    }));\n  }\n\n  async markLessonComplete(courseId: string, lessonId: string): Promise<void> {\n    if (!this.progressStore.has(courseId)) {\n      this.progressStore.set(courseId, new Set());\n    }\n    this.progressStore.get(courseId)!.add(lessonId);\n  }\n}\n\nexport const storage = new MongoStorage();\n","path":null,"size_bytes":16554,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\napp.use(\n  express.json({\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false }));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      log(`${req.method} ${path} ${res.statusCode} in ${duration}ms`);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(\n    {\n      port,\n      host: \"0.0.0.0\",\n      reusePort: true,\n    },\n    () => {\n      log(`serving on port ${port}`);\n    },\n  );\n})();\n","path":null,"size_bytes":2166,"size_tokens":null},"client/src/components/Navigation.tsx":{"content":"import { useState } from 'react';\nimport { NavLink } from '@/components/NavLink';\nimport { Button } from '@/components/ui/button';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { useQuery } from '@tanstack/react-query';\nimport { \n  Compass, \n  LayoutDashboard, \n  Users, \n  Database, \n  MessageCircle, \n  BookOpen,\n  Menu,\n  X,\n  Sparkles,\n  Crown\n} from 'lucide-react';\n\ninterface MembershipInfo {\n  hasMembership: boolean;\n  membershipId: string | null;\n  status: string | null;\n  manageUrl: string | null;\n}\n\nconst navItems = [\n  { to: '/', label: 'Dashboard', icon: LayoutDashboard },\n  { to: '/compatibility', label: 'Compatibility', icon: Users },\n  { to: '/cues', label: 'Cues Database', icon: Database },\n  { to: '/explore', label: 'Explore', icon: Compass },\n  { to: '/cuechats', label: 'CueChats', icon: MessageCircle },\n  { to: '/learn', label: 'Study Zone', icon: BookOpen },\n];\n\nexport function Navigation() {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n\n  const { data: membership } = useQuery<MembershipInfo>({\n    queryKey: ['/api/membership'],\n    staleTime: 0,\n    refetchOnWindowFocus: true,\n    refetchOnMount: true,\n  });\n\n  const isPro = membership?.hasMembership ?? false;\n\n  const handleUpgradeClick = () => {\n    setShowUpgradeModal(true);\n    setMobileOpen(false);\n  };\n\n  return (\n    <>\n      <nav className=\"fixed top-0 left-0 right-0 z-50 glass\" data-testid=\"navigation\">\n        <div className=\"w-full px-4\">\n          <div className=\"flex items-center justify-between h-14 gap-4\">\n            {/* Logo Section - properly aligned */}\n            <NavLink to=\"/\" className=\"flex items-center gap-2.5 group flex-shrink-0\" data-testid=\"link-logo\">\n              <div className=\"w-9 h-9 rounded-lg bg-gold-gradient flex items-center justify-center shadow-md group-hover:shadow-glow transition-shadow\">\n                <Sparkles className=\"w-4 h-4 text-gray-1\" />\n              </div>\n              <div className=\"flex flex-col justify-center min-w-0\">\n                <span className=\"text-3 font-semibold gradient-text leading-none\">GG33</span>\n                <span className=\"text-0 text-gray-10 leading-none mt-0.5\">Just Cue It</span>\n              </div>\n            </NavLink>\n\n            {/* Navigation Links */}\n            <div className=\"hidden lg:flex items-center gap-1 flex-1 justify-center\">\n              {navItems.map((item) => (\n                <NavLink\n                  key={item.to}\n                  to={item.to}\n                  className=\"px-3 py-2 rounded-md text-2 text-gray-11 hover:text-gray-12 hover:bg-gray-a3 transition-colors flex items-center gap-2 whitespace-nowrap\"\n                  activeClassName=\"text-amber-11 bg-amber-a3\"\n                  data-testid={`link-${item.label.toLowerCase().replace(/\\s/g, '-')}`}\n                >\n                  <item.icon className=\"w-4 h-4 flex-shrink-0\" />\n                  {item.label}\n                </NavLink>\n              ))}\n            </div>\n\n            {/* Right Side Actions */}\n            <div className=\"flex items-center gap-2 flex-shrink-0\">\n              {isPro ? (\n                <div className=\"hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-amber-a3 border border-amber-9/30\">\n                  <Crown className=\"w-4 h-4 text-amber-9\" />\n                  <span className=\"text-2 font-medium text-amber-11\">Pro</span>\n                </div>\n              ) : (\n                <Button \n                  variant=\"gold\" \n                  size=\"sm\" \n                  className=\"hidden sm:flex\" \n                  onClick={handleUpgradeClick}\n                  data-testid=\"button-upgrade\"\n                >\n                  Get Pro\n                </Button>\n              )}\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setMobileOpen(!mobileOpen)}\n                className=\"lg:hidden\"\n                data-testid=\"button-mobile-menu\"\n              >\n                {mobileOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n              </Button>\n            </div>\n          </div>\n\n          {/* Mobile Menu */}\n          {mobileOpen && (\n            <div className=\"lg:hidden py-4 border-t border-gray-5/50 animate-fade-in\">\n              <div className=\"flex flex-col gap-1\">\n                {navItems.map((item) => (\n                  <NavLink\n                    key={item.to}\n                    to={item.to}\n                    className=\"px-4 py-3 rounded-md text-gray-11 hover:text-gray-12 hover:bg-gray-a3 transition-colors flex items-center gap-3\"\n                    activeClassName=\"text-amber-11 bg-amber-a3\"\n                    onClick={() => setMobileOpen(false)}\n                    data-testid={`mobile-link-${item.label.toLowerCase().replace(/\\s/g, '-')}`}\n                  >\n                    <item.icon className=\"w-5 h-5\" />\n                    {item.label}\n                  </NavLink>\n                ))}\n                {isPro ? (\n                  <div className=\"flex items-center justify-center gap-2 mt-4 px-4 py-2.5 rounded-md bg-amber-a3 border border-amber-9/30\">\n                    <Crown className=\"w-5 h-5 text-amber-9\" />\n                    <span className=\"text-3 font-medium text-amber-11\">Pro Member</span>\n                  </div>\n                ) : (\n                  <Button \n                    variant=\"gold\" \n                    className=\"mt-4\" \n                    onClick={handleUpgradeClick}\n                    data-testid=\"button-mobile-upgrade\"\n                  >\n                    Get Pro\n                  </Button>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":5905,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage, generateOdisId } from \"./storage\";\nimport { whopAuthMiddleware, requireWhopAuth, checkAccess, getWhopUserProfile, type WhopRequest } from \"./whop\";\nimport { generatePersonalityInsights, generateDailyEnergy, generateCompatibilityInsights, generateChatResponse, generateChatResponseWithContext, generateChatResponseStream, buildUserContext, type UserNumerologyProfile, type CompatibilityProfile, type ChatMessage } from \"./gemini\";\nimport { parsedCues, totalCuesCount, type ParsedCue } from \"./cuesData\";\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  app.use(whopAuthMiddleware);\n\n  // Get current user profile by odisId\n  app.get(\"/api/profile/:odisId\", async (req, res) => {\n    const { odisId } = req.params;\n    \n    try {\n      const user = await storage.getUserByOdisId(odisId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json({ user });\n    } catch (error) {\n      console.error(\"Error getting profile:\", error);\n      res.status(500).json({ error: \"Failed to get profile\" });\n    }\n  });\n\n  // Create new user profile (generates odisId)\n  app.post(\"/api/profile\", async (req: WhopRequest, res) => {\n    const { fullName, birthDate, birthTime, birthLocation } = req.body;\n    \n    if (!fullName || !birthDate) {\n      return res.status(400).json({ error: \"Missing required fields: fullName and birthDate\" });\n    }\n\n    try {\n      const odisId = generateOdisId();\n      const whopUserId = req.whopUser?.userId;\n      \n      // If we have a Whop user, fetch their profile\n      let whopUsername: string | undefined;\n      let whopProfilePictureUrl: string | undefined;\n      let whopAccessLevel: 'customer' | 'admin' | 'no_access' | undefined;\n      \n      if (whopUserId) {\n        const whopProfile = await getWhopUserProfile(whopUserId);\n        if (whopProfile) {\n          whopUsername = whopProfile.username;\n          whopProfilePictureUrl = whopProfile.profilePictureUrl ?? undefined;\n        }\n        \n        // Check access level if we have an experience ID\n        if (req.experienceId) {\n          const access = await checkAccess(req.experienceId, whopUserId);\n          whopAccessLevel = access.accessLevel;\n        }\n      }\n      \n      const user = await storage.createUser({\n        odisId,\n        fullName,\n        birthDate: new Date(birthDate),\n        birthTime,\n        birthLocation,\n        whopUserId,\n        whopUsername,\n        whopProfilePictureUrl,\n        whopAccessLevel,\n      });\n      res.json({ success: true, user });\n    } catch (error) {\n      console.error(\"Error creating profile:\", error);\n      res.status(500).json({ error: \"Failed to create profile\" });\n    }\n  });\n\n  // Get user by Whop ID (protected - only own profile)\n  app.get(\"/api/profile/whop/:whopUserId\", requireWhopAuth, async (req: WhopRequest, res) => {\n    const { whopUserId } = req.params;\n    \n    // Users can only access their own profile\n    if (req.whopUser!.userId !== whopUserId) {\n      return res.status(403).json({ error: \"You can only access your own profile\" });\n    }\n    \n    try {\n      const user = await storage.getUserByWhopId(whopUserId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json({ user });\n    } catch (error) {\n      console.error(\"Error getting user by Whop ID:\", error);\n      res.status(500).json({ error: \"Failed to get user\" });\n    }\n  });\n\n  // Get current authenticated Whop user's profile (or create placeholder)\n  app.get(\"/api/me\", async (req: WhopRequest, res) => {\n    const whopUserId = req.whopUser?.userId;\n    \n    if (!whopUserId) {\n      return res.status(401).json({ error: \"Not authenticated with Whop\" });\n    }\n    \n    try {\n      // Check if user exists in our database\n      let user = await storage.getUserByWhopId(whopUserId);\n      \n      if (user) {\n        // User exists, sync their Whop profile and access level\n        const whopProfile = await getWhopUserProfile(whopUserId);\n        \n        // Check current access level only if experienceId is available\n        let whopAccessLevel: 'customer' | 'admin' | 'no_access' | undefined;\n        if (req.experienceId) {\n          const access = await checkAccess(req.experienceId, whopUserId);\n          whopAccessLevel = access.accessLevel;\n        }\n        \n        // Build update payload with only fields that have actual values\n        const updatePayload: { whopUsername?: string; whopProfilePictureUrl?: string; whopAccessLevel?: 'customer' | 'admin' | 'no_access' } = {};\n        \n        if (whopProfile?.username && whopProfile.username !== user.whopUsername) {\n          updatePayload.whopUsername = whopProfile.username;\n        }\n        if (whopProfile?.profilePictureUrl && whopProfile.profilePictureUrl !== user.whopProfilePictureUrl) {\n          updatePayload.whopProfilePictureUrl = whopProfile.profilePictureUrl;\n        }\n        if (whopAccessLevel && whopAccessLevel !== user.whopAccessLevel) {\n          updatePayload.whopAccessLevel = whopAccessLevel;\n        }\n        \n        // Only update if there are actual changes\n        if (Object.keys(updatePayload).length > 0) {\n          const updated = await storage.updateWhopProfile(whopUserId, updatePayload);\n          if (updated) user = updated;\n        }\n        \n        res.json({ user, needsOnboarding: false });\n      } else {\n        // User doesn't exist yet - they need to complete onboarding\n        const whopProfile = await getWhopUserProfile(whopUserId);\n        res.json({ \n          user: null, \n          needsOnboarding: true,\n          whopProfile: whopProfile ? {\n            whopUserId,\n            username: whopProfile.username,\n            profilePictureUrl: whopProfile.profilePictureUrl,\n          } : { whopUserId }\n        });\n      }\n    } catch (error) {\n      console.error(\"Error getting current user:\", error);\n      res.status(500).json({ error: \"Failed to get user\" });\n    }\n  });\n\n  // Update existing user profile\n  app.put(\"/api/profile/:odisId\", async (req, res) => {\n    const { odisId } = req.params;\n    const { fullName, birthDate, birthTime, birthLocation } = req.body;\n\n    try {\n      const user = await storage.updateUser(odisId, {\n        fullName,\n        birthDate: birthDate ? new Date(birthDate) : undefined,\n        birthTime,\n        birthLocation,\n      });\n      \n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      res.json({ success: true, user });\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      res.status(500).json({ error: \"Failed to update profile\" });\n    }\n  });\n\n  // Get daily energy reading for a user on a specific date\n  app.get(\"/api/daily-energy/:odisId/:date\", async (req, res) => {\n    const { odisId, date } = req.params;\n    \n    try {\n      const energy = await storage.getDailyEnergy(odisId, date);\n      if (!energy) {\n        return res.status(404).json({ error: \"No reading found for this date\" });\n      }\n      res.json({ energy });\n    } catch (error) {\n      console.error(\"Error getting daily energy:\", error);\n      res.status(500).json({ error: \"Failed to get daily energy\" });\n    }\n  });\n\n  // Generate and save daily energy reading\n  app.post(\"/api/daily-energy\", async (req, res) => {\n    const { odisId, profile, personalDayNumber, universalDayNumber, energyScore, todayDate, date } = req.body;\n    \n    if (!odisId || !profile || !personalDayNumber || !universalDayNumber || !date) {\n      return res.status(400).json({ error: \"Missing required data\" });\n    }\n\n    try {\n      // First check if we already have a reading for today\n      const existing = await storage.getDailyEnergy(odisId, date);\n      if (existing) {\n        return res.json({ energy: existing, cached: true });\n      }\n\n      // Generate new reading using AI\n      const aiReading = await generateDailyEnergy(profile, personalDayNumber, universalDayNumber, todayDate);\n      \n      // Save to database\n      const savedEnergy = await storage.saveDailyEnergy({\n        odisId,\n        date,\n        personalDayNumber,\n        universalDayNumber,\n        energyScore: energyScore || 50,\n        theme: aiReading.theme,\n        description: aiReading.description,\n        dos: aiReading.dos,\n        donts: aiReading.donts,\n        focusArea: aiReading.focusArea,\n        affirmation: aiReading.affirmation,\n      });\n      \n      res.json({ energy: savedEnergy, cached: false });\n    } catch (error) {\n      console.error(\"Error generating/saving daily energy:\", error);\n      res.status(500).json({ error: \"Failed to generate daily energy\" });\n    }\n  });\n\n  // Get personality insight for a user\n  app.get(\"/api/personality/:odisId\", async (req, res) => {\n    const { odisId } = req.params;\n    \n    try {\n      const insight = await storage.getPersonalityInsight(odisId);\n      if (!insight) {\n        return res.status(404).json({ error: \"No personality insight found\" });\n      }\n      res.json({ insight });\n    } catch (error) {\n      console.error(\"Error getting personality insight:\", error);\n      res.status(500).json({ error: \"Failed to get personality insight\" });\n    }\n  });\n\n  // Generate and save personality insight\n  app.post(\"/api/personality\", async (req, res) => {\n    const { odisId, profile } = req.body;\n    \n    if (!odisId || !profile) {\n      return res.status(400).json({ error: \"Missing required data\" });\n    }\n\n    try {\n      // First check if we already have an insight\n      const existing = await storage.getPersonalityInsight(odisId);\n      if (existing) {\n        return res.json({ insight: existing, cached: true });\n      }\n\n      // Generate new insight using AI\n      const aiInsight = await generatePersonalityInsights(profile);\n      \n      // Save to database\n      const savedInsight = await storage.savePersonalityInsight({\n        odisId,\n        overview: aiInsight.overview,\n        strengths: aiInsight.strengths,\n        challenges: aiInsight.challenges,\n        lifeLesson: aiInsight.lifeLesson,\n        careerPaths: aiInsight.careerPaths,\n        relationshipStyle: aiInsight.relationshipStyle,\n        spiritualGifts: aiInsight.spiritualGifts,\n        profileSnapshot: {\n          fullName: profile.name,\n          birthDate: profile.birthDate,\n          lifePathNumber: profile.lifePathNumber,\n          expressionNumber: profile.expressionNumber,\n          soulUrgeNumber: profile.soulUrgeNumber,\n          westernZodiac: profile.westernZodiac,\n          chineseZodiac: profile.chineseZodiac,\n        },\n      });\n      \n      res.json({ insight: savedInsight, cached: false });\n    } catch (error) {\n      console.error(\"Error generating/saving personality insight:\", error);\n      res.status(500).json({ error: \"Failed to generate personality insight\" });\n    }\n  });\n\n  app.get(\"/api/access/:resourceId\", requireWhopAuth, async (req: WhopRequest, res) => {\n    const { resourceId } = req.params;\n    const userId = req.whopUser!.userId;\n\n    const access = await checkAccess(resourceId, userId);\n    res.json(access);\n  });\n\n  app.get(\"/api/whop/user/:userId\", requireWhopAuth, async (req: WhopRequest, res) => {\n    const { userId } = req.params;\n    \n    if (req.whopUser!.userId !== userId) {\n      return res.status(403).json({ error: \"You can only access your own profile\" });\n    }\n    \n    try {\n      const whopProfile = await getWhopUserProfile(userId);\n      if (!whopProfile) {\n        return res.status(404).json({ error: \"Whop user not found\" });\n      }\n      res.json({ profile: whopProfile });\n    } catch (error) {\n      console.error(\"Error fetching Whop user profile:\", error);\n      res.status(500).json({ error: \"Failed to fetch Whop user profile\" });\n    }\n  });\n\n  // Comprehensive compatibility analysis with AI insights\n  app.post(\"/api/compatibility\", async (req, res) => {\n    try {\n      const { person1, person2 } = req.body;\n      \n      if (!person1 || !person2 || !person1.name || !person2.name || !person1.birthDate || !person2.birthDate) {\n        return res.status(400).json({ error: \"Missing required profile data for both persons\" });\n      }\n\n      // Build CompatibilityProfile objects for AI\n      const profile1: CompatibilityProfile = {\n        name: person1.name,\n        lifePathNumber: person1.lifePathNumber,\n        expressionNumber: person1.expressionNumber,\n        soulUrgeNumber: person1.soulUrgeNumber,\n        personalityNumber: person1.personalityNumber,\n        attitudeNumber: person1.attitudeNumber,\n        dayOfBirthNumber: person1.dayOfBirthNumber,\n        westernZodiac: person1.westernZodiac,\n        westernElement: person1.westernElement,\n        chineseZodiac: person1.chineseZodiac,\n        chineseElement: person1.chineseElement,\n        energySignature: person1.energySignature,\n      };\n\n      const profile2: CompatibilityProfile = {\n        name: person2.name,\n        lifePathNumber: person2.lifePathNumber,\n        expressionNumber: person2.expressionNumber,\n        soulUrgeNumber: person2.soulUrgeNumber,\n        personalityNumber: person2.personalityNumber,\n        attitudeNumber: person2.attitudeNumber,\n        dayOfBirthNumber: person2.dayOfBirthNumber,\n        westernZodiac: person2.westernZodiac,\n        westernElement: person2.westernElement,\n        chineseZodiac: person2.chineseZodiac,\n        chineseElement: person2.chineseElement,\n        energySignature: person2.energySignature,\n      };\n\n      const overallScore = req.body.overallScore || 50;\n      const level = req.body.level || 'Neutral';\n\n      const aiInsights = await generateCompatibilityInsights(profile1, profile2, overallScore, level);\n      \n      res.json({ \n        success: true,\n        insights: aiInsights \n      });\n    } catch (error) {\n      console.error(\"Error generating compatibility insights:\", error);\n      res.status(500).json({ error: \"Failed to generate compatibility insights\" });\n    }\n  });\n\n  // Legacy AI endpoints (kept for any direct usage)\n  app.post(\"/api/ai/personality\", async (req, res) => {\n    try {\n      const profile: UserNumerologyProfile = req.body;\n      \n      if (!profile.name || !profile.lifePathNumber) {\n        return res.status(400).json({ error: \"Missing required profile data\" });\n      }\n\n      const insights = await generatePersonalityInsights(profile);\n      res.json(insights);\n    } catch (error) {\n      console.error(\"Error generating personality insights:\", error);\n      res.status(500).json({ error: \"Failed to generate insights\" });\n    }\n  });\n\n  app.post(\"/api/ai/daily-energy\", async (req, res) => {\n    try {\n      const { profile, personalDayNumber, universalDayNumber, todayDate } = req.body;\n      \n      if (!profile || !personalDayNumber || !universalDayNumber) {\n        return res.status(400).json({ error: \"Missing required data\" });\n      }\n\n      const energy = await generateDailyEnergy(profile, personalDayNumber, universalDayNumber, todayDate);\n      res.json(energy);\n    } catch (error) {\n      console.error(\"Error generating daily energy:\", error);\n      res.status(500).json({ error: \"Failed to generate daily energy\" });\n    }\n  });\n\n  // CueChats - Initialize chat session (builds user context once)\n  app.post(\"/api/chat/init\", async (req, res) => {\n    const { odisId } = req.body;\n    \n    if (!odisId) {\n      return res.status(400).json({ error: \"Missing odisId\" });\n    }\n\n    try {\n      const user = await storage.getUserByOdisId(odisId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      // Build the user context once - this does all the expensive calculations\n      const { systemContext, firstName } = buildUserContext({\n        fullName: user.fullName,\n        birthDate: user.birthDate,\n        birthTime: user.birthTime || undefined,\n        birthLocation: user.birthLocation || undefined,\n      });\n\n      res.json({ \n        success: true, \n        systemContext, \n        firstName,\n        message: `Chat initialized for ${firstName}. Your profile context is now loaded.`\n      });\n    } catch (error) {\n      console.error(\"Error initializing chat:\", error);\n      res.status(500).json({ error: \"Failed to initialize chat\" });\n    }\n  });\n\n  // CueChats - Session-based chat (uses pre-computed context - more efficient)\n  app.post(\"/api/chat/session\", async (req, res) => {\n    const { message, systemContext, firstName, conversationHistory } = req.body;\n    \n    if (!message || !systemContext || !firstName) {\n      return res.status(400).json({ error: \"Missing required data. Please start a new chat.\" });\n    }\n\n    try {\n      // Validate and normalize conversation history\n      const normalizedHistory: ChatMessage[] = [];\n      if (Array.isArray(conversationHistory)) {\n        for (const msg of conversationHistory) {\n          if (msg && typeof msg.content === 'string' && (msg.role === 'user' || msg.role === 'assistant')) {\n            normalizedHistory.push({\n              role: msg.role,\n              content: msg.content,\n            });\n          }\n        }\n      }\n\n      const response = await generateChatResponseWithContext(\n        message,\n        systemContext,\n        firstName,\n        normalizedHistory\n      );\n\n      res.json({ response: response.message });\n    } catch (error) {\n      console.error(\"Error generating chat response:\", error);\n      res.status(500).json({ error: \"Failed to generate response\" });\n    }\n  });\n\n  // CueChats - Legacy AI Chat endpoint (kept for backward compatibility)\n  app.post(\"/api/chat\", async (req, res) => {\n    const { odisId, message, conversationHistory } = req.body;\n    \n    if (!odisId || !message) {\n      return res.status(400).json({ error: \"Missing required data\" });\n    }\n\n    try {\n      const user = await storage.getUserByOdisId(odisId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      // Validate and normalize conversation history\n      const normalizedHistory: ChatMessage[] = [];\n      if (Array.isArray(conversationHistory)) {\n        for (const msg of conversationHistory) {\n          if (msg && typeof msg.content === 'string' && (msg.role === 'user' || msg.role === 'assistant')) {\n            normalizedHistory.push({\n              role: msg.role,\n              content: msg.content,\n            });\n          }\n        }\n      }\n\n      const response = await generateChatResponse(\n        message,\n        {\n          fullName: user.fullName,\n          birthDate: user.birthDate,\n          birthTime: user.birthTime || undefined,\n          birthLocation: user.birthLocation || undefined,\n        },\n        normalizedHistory\n      );\n\n      res.json({ response: response.message });\n    } catch (error) {\n      console.error(\"Error generating chat response:\", error);\n      res.status(500).json({ error: \"Failed to generate response\" });\n    }\n  });\n\n  // CueChats - Streaming AI Chat endpoint for faster responses\n  app.post(\"/api/chat/stream\", async (req, res) => {\n    const { odisId, message, conversationHistory } = req.body;\n    \n    if (!odisId || !message) {\n      return res.status(400).json({ error: \"Missing required data\" });\n    }\n\n    try {\n      const user = await storage.getUserByOdisId(odisId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      // Validate and normalize conversation history\n      const normalizedHistory: ChatMessage[] = [];\n      if (Array.isArray(conversationHistory)) {\n        for (const msg of conversationHistory) {\n          if (msg && typeof msg.content === 'string' && (msg.role === 'user' || msg.role === 'assistant')) {\n            normalizedHistory.push({\n              role: msg.role,\n              content: msg.content,\n            });\n          }\n        }\n      }\n\n      // Set up SSE headers\n      res.setHeader('Content-Type', 'text/event-stream');\n      res.setHeader('Cache-Control', 'no-cache');\n      res.setHeader('Connection', 'keep-alive');\n\n      const stream = generateChatResponseStream(\n        message,\n        {\n          fullName: user.fullName,\n          birthDate: user.birthDate,\n          birthTime: user.birthTime || undefined,\n          birthLocation: user.birthLocation || undefined,\n        },\n        normalizedHistory\n      );\n\n      for await (const chunk of stream) {\n        res.write(`data: ${JSON.stringify({ text: chunk })}\\n\\n`);\n      }\n      \n      res.write(`data: ${JSON.stringify({ done: true })}\\n\\n`);\n      res.end();\n    } catch (error) {\n      console.error(\"Error generating chat stream:\", error);\n      res.write(`data: ${JSON.stringify({ error: \"Failed to generate response\" })}\\n\\n`);\n      res.end();\n    }\n  });\n\n  // Course Progress API (in-memory)\n  app.get(\"/api/progress/:courseId\", async (req, res) => {\n    try {\n      const { courseId } = req.params;\n      const progress = await storage.getCourseProgress(courseId);\n      res.json(progress);\n    } catch (error) {\n      console.error(\"Error getting course progress:\", error);\n      res.status(500).json({ error: \"Failed to get progress\" });\n    }\n  });\n\n  app.post(\"/api/progress/complete\", async (req, res) => {\n    try {\n      const { courseId, lessonId } = req.body;\n      if (!courseId || !lessonId) {\n        return res.status(400).json({ error: \"Missing courseId or lessonId\" });\n      }\n      await storage.markLessonComplete(courseId, lessonId);\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error marking lesson complete:\", error);\n      res.status(500).json({ error: \"Failed to mark lesson complete\" });\n    }\n  });\n\n  // Cues Database API with search, filtering, and pagination\n  app.get(\"/api/cues\", (req, res) => {\n    try {\n      const {\n        q = '',\n        type = '',\n        lifePath = '',\n        energy = '',\n        category = '',\n        country = '',\n        page = '1',\n        pageSize = '30',\n      } = req.query as Record<string, string>;\n\n      const pageNum = Math.max(1, parseInt(page) || 1);\n      const size = Math.min(100, Math.max(1, parseInt(pageSize) || 30));\n\n      // Filter cues\n      let filtered = parsedCues;\n\n      // Text search (name, description, category)\n      if (q) {\n        const searchTerm = q.toLowerCase();\n        filtered = filtered.filter(cue => \n          cue.name.toLowerCase().includes(searchTerm) ||\n          (cue.description && cue.description.toLowerCase().includes(searchTerm)) ||\n          (cue.category && cue.category.toLowerCase().includes(searchTerm))\n        );\n      }\n\n      // Filter by type\n      if (type) {\n        const types = type.split(',').map(t => t.trim());\n        filtered = filtered.filter(cue => types.includes(cue.type));\n      }\n\n      // Filter by life path number\n      if (lifePath) {\n        const numbers = lifePath.split(',').map(n => parseInt(n.trim())).filter(n => !isNaN(n));\n        if (numbers.length > 0) {\n          filtered = filtered.filter(cue => numbers.includes(cue.lifePathNumber));\n        }\n      }\n\n      // Filter by energy signature\n      if (energy) {\n        const energyTerm = energy.toLowerCase();\n        filtered = filtered.filter(cue => \n          cue.energySignature.toLowerCase().includes(energyTerm)\n        );\n      }\n\n      // Filter by category\n      if (category) {\n        const categories = category.split(',').map(c => c.trim().toLowerCase());\n        filtered = filtered.filter(cue => \n          cue.category && categories.some(c => cue.category!.toLowerCase().includes(c))\n        );\n      }\n\n      // Filter by country\n      if (country) {\n        const countries = country.split(',').map(c => c.trim().toLowerCase());\n        filtered = filtered.filter(cue => \n          cue.country && countries.some(c => cue.country!.toLowerCase().includes(c))\n        );\n      }\n\n      // Calculate pagination\n      const total = filtered.length;\n      const totalPages = Math.ceil(total / size);\n      const startIndex = (pageNum - 1) * size;\n      const endIndex = startIndex + size;\n      const items = filtered.slice(startIndex, endIndex);\n\n      res.json({\n        items,\n        total,\n        page: pageNum,\n        pageSize: size,\n        totalPages,\n        hasMore: pageNum < totalPages,\n      });\n    } catch (error) {\n      console.error(\"Error fetching cues:\", error);\n      res.status(500).json({ error: \"Failed to fetch cues\" });\n    }\n  });\n\n  // Get single cue by ID with enhanced data\n  app.get(\"/api/cues/:id\", (req, res) => {\n    const id = parseInt(req.params.id);\n    const cue = parsedCues.find(c => c.id === id);\n    \n    if (!cue) {\n      return res.status(404).json({ error: \"Cue not found\" });\n    }\n    \n    // Parse date for zodiac calculations\n    const date = new Date(cue.foundedOrBirth);\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n    \n    // Chinese Zodiac calculation (matches client/src/lib/numerology.ts)\n    const chineseAnimals = ['Rat', 'Ox', 'Tiger', 'Rabbit', 'Dragon', 'Snake', 'Horse', 'Goat', 'Monkey', 'Rooster', 'Dog', 'Pig'];\n    const chineseElements = ['Wood', 'Fire', 'Earth', 'Metal', 'Water'];\n    // Proper modulo that handles all years correctly\n    const animalIndex = ((year - 4) % 12 + 12) % 12;\n    const elementIndex = Math.floor((((year - 4) % 10 + 10) % 10) / 2);\n    const chineseZodiac = {\n      animal: chineseAnimals[animalIndex],\n      element: chineseElements[elementIndex],\n      yinYang: year % 2 === 0 ? 'Yang' : 'Yin'\n    };\n    \n    // Western Zodiac calculation (matches client/src/lib/numerology.ts)\n    const zodiacSigns = [\n      { sign: 'Capricorn', element: 'Earth', modality: 'Cardinal', rulingPlanet: 'Saturn', traits: ['Ambitious', 'Disciplined', 'Patient'] },\n      { sign: 'Aquarius', element: 'Air', modality: 'Fixed', rulingPlanet: 'Uranus', traits: ['Innovative', 'Independent', 'Humanitarian'] },\n      { sign: 'Pisces', element: 'Water', modality: 'Mutable', rulingPlanet: 'Neptune', traits: ['Intuitive', 'Compassionate', 'Artistic'] },\n      { sign: 'Aries', element: 'Fire', modality: 'Cardinal', rulingPlanet: 'Mars', traits: ['Bold', 'Ambitious', 'Energetic'] },\n      { sign: 'Taurus', element: 'Earth', modality: 'Fixed', rulingPlanet: 'Venus', traits: ['Reliable', 'Patient', 'Devoted'] },\n      { sign: 'Gemini', element: 'Air', modality: 'Mutable', rulingPlanet: 'Mercury', traits: ['Adaptable', 'Curious', 'Communicative'] },\n      { sign: 'Cancer', element: 'Water', modality: 'Cardinal', rulingPlanet: 'Moon', traits: ['Nurturing', 'Protective', 'Intuitive'] },\n      { sign: 'Leo', element: 'Fire', modality: 'Fixed', rulingPlanet: 'Sun', traits: ['Confident', 'Creative', 'Generous'] },\n      { sign: 'Virgo', element: 'Earth', modality: 'Mutable', rulingPlanet: 'Mercury', traits: ['Analytical', 'Practical', 'Diligent'] },\n      { sign: 'Libra', element: 'Air', modality: 'Cardinal', rulingPlanet: 'Venus', traits: ['Diplomatic', 'Fair', 'Social'] },\n      { sign: 'Scorpio', element: 'Water', modality: 'Fixed', rulingPlanet: 'Pluto', traits: ['Passionate', 'Resourceful', 'Determined'] },\n      { sign: 'Sagittarius', element: 'Fire', modality: 'Mutable', rulingPlanet: 'Jupiter', traits: ['Adventurous', 'Optimistic', 'Philosophical'] },\n    ];\n    const zodiacDateRanges: [number, number, number, number][] = [\n      [12, 22, 1, 19], [1, 20, 2, 18], [2, 19, 3, 20], [3, 21, 4, 19],\n      [4, 20, 5, 20], [5, 21, 6, 20], [6, 21, 7, 22], [7, 23, 8, 22],\n      [8, 23, 9, 22], [9, 23, 10, 22], [10, 23, 11, 21], [11, 22, 12, 21],\n    ];\n    \n    let westernZodiac = zodiacSigns[0];\n    for (let i = 0; i < zodiacDateRanges.length; i++) {\n      const [startMonth, startDay, endMonth, endDay] = zodiacDateRanges[i];\n      if (startMonth > endMonth) {\n        if ((month === startMonth && day >= startDay) || (month === endMonth && day <= endDay)) {\n          westernZodiac = zodiacSigns[i];\n          break;\n        }\n      } else {\n        if ((month === startMonth && day >= startDay) || (month === endMonth && day <= endDay) ||\n            (month > startMonth && month < endMonth)) {\n          westernZodiac = zodiacSigns[i];\n          break;\n        }\n      }\n    }\n    \n    // Life Path number meanings (matches client numerology)\n    const lifePathMeanings: Record<number, { title: string; description: string }> = {\n      1: { title: 'The Pioneer', description: 'leadership, innovation, and independence' },\n      2: { title: 'The Diplomat', description: 'cooperation, balance, and intuition' },\n      3: { title: 'The Communicator', description: 'creativity, self-expression, and optimism' },\n      4: { title: 'The Builder', description: 'stability, dedication, and practicality' },\n      5: { title: 'The Freedom Seeker', description: 'change, adventure, and versatility' },\n      6: { title: 'The Nurturer', description: 'responsibility, care, and harmony' },\n      7: { title: 'The Seeker', description: 'wisdom, analysis, and spiritual depth' },\n      8: { title: 'The Achiever', description: 'abundance, power, and material mastery' },\n      9: { title: 'The Humanitarian', description: 'compassion, wisdom, and universal love' },\n      11: { title: 'The Illuminator', description: 'intuition, inspiration, and spiritual insight' },\n      22: { title: 'The Master Builder', description: 'visionary manifestation and global impact' },\n      33: { title: 'The Master Teacher', description: 'compassionate guidance and healing love' },\n    };\n    \n    // Chinese animal traits\n    const animalTraits: Record<string, string[]> = {\n      'Rat': ['clever', 'quick-witted', 'resourceful'],\n      'Ox': ['diligent', 'dependable', 'strong'],\n      'Tiger': ['brave', 'confident', 'competitive'],\n      'Rabbit': ['gentle', 'quiet', 'elegant'],\n      'Dragon': ['confident', 'intelligent', 'ambitious'],\n      'Snake': ['enigmatic', 'wise', 'intuitive'],\n      'Horse': ['animated', 'active', 'energetic'],\n      'Goat': ['calm', 'gentle', 'creative'],\n      'Monkey': ['sharp', 'smart', 'curious'],\n      'Rooster': ['observant', 'hardworking', 'courageous'],\n      'Dog': ['loyal', 'honest', 'faithful'],\n      'Pig': ['compassionate', 'generous', 'diligent'],\n    };\n    \n    const lifePathInfo = lifePathMeanings[cue.lifePathNumber] || { title: 'Unique Path', description: 'distinctive energy patterns' };\n    const traits = animalTraits[chineseZodiac.animal] || ['unique', 'special'];\n    \n    // Generate contextual description based on cue type\n    let aboutDescription = '';\n    if (cue.type === 'Location') {\n      aboutDescription = `${cue.name} thrives on ${chineseZodiac.animal} & ${westernZodiac.sign} energy, aligning with ${chineseZodiac.element}'s ${chineseZodiac.animal} influence. Founded in the Year of the ${chineseZodiac.animal}, the ${westernZodiac.element.toLowerCase()}'s friendly energies have fueled its growth into a ${cue.category ? cue.category.toLowerCase() : 'significant'} powerhouse. ${chineseZodiac.animal}, ${westernZodiac.sign}, & ${lifePathInfo.title} energies flourish here, while those with opposing energies may feel constrained, often finding greater success elsewhere. Fun fact: ${cue.name}'s ${chineseZodiac.element} influence embodies its ${traits.join(', ')} energy literally!`;\n    } else if (cue.type === 'Person') {\n      aboutDescription = `Born under ${westernZodiac.sign} in the Year of the ${chineseZodiac.yinYang} ${chineseZodiac.element} ${chineseZodiac.animal}, this individual carries ${lifePathInfo.title} energy (Life Path ${cue.lifePathNumber}). Their ${westernZodiac.sign} nature, ruled by ${westernZodiac.rulingPlanet}, blends with the ${traits.join(' and ')} qualities of the ${chineseZodiac.animal}. This unique combination creates their ${cue.energySignature} signature, emphasizing ${lifePathInfo.description}. The ${westernZodiac.element} element enhances their ${westernZodiac.traits.join(', ').toLowerCase()} tendencies.`;\n    } else {\n      aboutDescription = `${cue.name} was founded under ${westernZodiac.sign} energy in the Year of the ${chineseZodiac.yinYang} ${chineseZodiac.element} ${chineseZodiac.animal}. As ${lifePathInfo.title} (Life Path ${cue.lifePathNumber}), this ${cue.category || 'brand'} embodies ${lifePathInfo.description}. The ${chineseZodiac.animal}'s ${traits.join(', ')} nature combined with ${westernZodiac.sign}'s ${westernZodiac.traits.join(', ').toLowerCase()} influence shapes its ${cue.energySignature} signature. ${westernZodiac.rulingPlanet}'s guidance supports its mission of ${cue.description || 'excellence'}.`;\n    }\n    \n    res.json({ \n      cue: {\n        ...cue,\n        chineseZodiac,\n        westernZodiac,\n        aboutDescription,\n      }\n    });\n  });\n\n  // Get cues statistics\n  app.get(\"/api/cues-stats\", (_req, res) => {\n    const stats = {\n      total: totalCuesCount,\n      byType: {\n        Brand: parsedCues.filter(c => c.type === 'Brand').length,\n        Location: parsedCues.filter(c => c.type === 'Location').length,\n        Person: parsedCues.filter(c => c.type === 'Person').length,\n      },\n      byLifePath: {} as Record<number, number>,\n    };\n\n    // Count by life path\n    parsedCues.forEach(cue => {\n      stats.byLifePath[cue.lifePathNumber] = (stats.byLifePath[cue.lifePathNumber] || 0) + 1;\n    });\n\n    res.json(stats);\n  });\n\n  // ============================================\n  // EXPLORE FEATURE ENDPOINTS\n  // ============================================\n\n  // Trending Energies - Show what energy patterns are most active today\n  app.get(\"/api/explore/trending-energies\", (_req, res) => {\n    try {\n      const today = new Date();\n      const month = today.getMonth() + 1;\n      const day = today.getDate();\n      const year = today.getFullYear();\n      \n      // Calculate universal day number\n      const monthReduced = reduceNumber(month);\n      const dayReduced = reduceNumber(day);\n      const yearReduced = reduceNumber(year.toString().split('').reduce((s, d) => s + parseInt(d), 0));\n      const universalDay = reduceNumber(monthReduced + dayReduced + yearReduced);\n      \n      // Count life paths in cues\n      const lifePathCounts: Record<number, number> = {};\n      parsedCues.forEach(cue => {\n        lifePathCounts[cue.lifePathNumber] = (lifePathCounts[cue.lifePathNumber] || 0) + 1;\n      });\n      \n      // Get top 3 life paths\n      const sortedLifePaths = Object.entries(lifePathCounts)\n        .sort((a, b) => b[1] - a[1])\n        .slice(0, 3)\n        .map(([num, count]) => ({ number: parseInt(num), count }));\n      \n      // Count elements (from energy signatures)\n      const elementCounts: Record<string, number> = {};\n      parsedCues.forEach(cue => {\n        const element = cue.energySignature.split(' ')[0];\n        elementCounts[element] = (elementCounts[element] || 0) + 1;\n      });\n      \n      const sortedElements = Object.entries(elementCounts)\n        .sort((a, b) => b[1] - a[1])\n        .slice(0, 5)\n        .map(([element, count]) => ({ element, count }));\n      \n      // Get representative cues for today's universal day\n      const todaysCues = parsedCues\n        .filter(c => c.lifePathNumber === universalDay)\n        .slice(0, 6)\n        .map(c => ({ id: c.id, name: c.name, type: c.type, energySignature: c.energySignature }));\n      \n      const lifePathMeanings: Record<number, { title: string; theme: string }> = {\n        1: { title: 'The Pioneer', theme: 'Leadership and new beginnings' },\n        2: { title: 'The Diplomat', theme: 'Partnership and cooperation' },\n        3: { title: 'The Communicator', theme: 'Creativity and self-expression' },\n        4: { title: 'The Builder', theme: 'Structure and foundation' },\n        5: { title: 'The Freedom Seeker', theme: 'Change and adventure' },\n        6: { title: 'The Nurturer', theme: 'Love and responsibility' },\n        7: { title: 'The Seeker', theme: 'Wisdom and introspection' },\n        8: { title: 'The Powerhouse', theme: 'Success and abundance' },\n        9: { title: 'The Humanitarian', theme: 'Compassion and completion' },\n        11: { title: 'The Illuminator', theme: 'Spiritual insight and inspiration' },\n        22: { title: 'The Master Builder', theme: 'Vision manifested into reality' },\n        33: { title: 'The Master Teacher', theme: 'Healing and unconditional love' },\n      };\n      \n      const todayMeaning = lifePathMeanings[universalDay] || { title: 'Universal Energy', theme: 'Balanced vibrations' };\n      \n      res.json({\n        universalDay,\n        todayTheme: todayMeaning.theme,\n        todayTitle: todayMeaning.title,\n        date: today.toISOString().split('T')[0],\n        topLifePaths: sortedLifePaths.map(lp => ({\n          ...lp,\n          ...lifePathMeanings[lp.number]\n        })),\n        topElements: sortedElements,\n        representativeCues: todaysCues,\n      });\n    } catch (error) {\n      console.error(\"Error getting trending energies:\", error);\n      res.status(500).json({ error: \"Failed to get trending energies\" });\n    }\n  });\n\n  // Helper function for number reduction\n  function reduceNumber(num: number): number {\n    while (num > 9 && num !== 11 && num !== 22 && num !== 33) {\n      num = num.toString().split('').reduce((sum, d) => sum + parseInt(d), 0);\n    }\n    return num;\n  }\n\n  // Best Days This Month - Calendar with optimal days based on user's numerology\n  app.get(\"/api/explore/best-days/:birthDate\", (req, res) => {\n    try {\n      const birthDate = new Date(req.params.birthDate);\n      if (isNaN(birthDate.getTime())) {\n        return res.status(400).json({ error: \"Invalid birth date\" });\n      }\n      \n      const today = new Date();\n      const currentMonth = today.getMonth();\n      const currentYear = today.getFullYear();\n      \n      // Calculate user's life path number\n      const birthMonth = birthDate.getMonth() + 1;\n      const birthDay = birthDate.getDate();\n      const birthYear = birthDate.getFullYear();\n      const lifePathNumber = reduceNumber(\n        reduceNumber(birthMonth) + \n        reduceNumber(birthDay) + \n        reduceNumber(birthYear.toString().split('').reduce((s, d) => s + parseInt(d), 0))\n      );\n      \n      // Calculate personal year\n      const personalYear = reduceNumber(birthMonth + birthDay + currentYear);\n      \n      // Get days in current month\n      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n      \n      const dayRatings: Array<{\n        date: string;\n        day: number;\n        personalDay: number;\n        rating: 'excellent' | 'good' | 'neutral' | 'challenging';\n        theme: string;\n        activities: string[];\n      }> = [];\n      \n      const personalDayThemes: Record<number, { theme: string; activities: string[] }> = {\n        1: { theme: 'New Beginnings', activities: ['Start projects', 'Take initiative', 'Lead meetings'] },\n        2: { theme: 'Cooperation', activities: ['Partnerships', 'Negotiations', 'Relationship talks'] },\n        3: { theme: 'Creativity', activities: ['Brainstorming', 'Social events', 'Creative work'] },\n        4: { theme: 'Building', activities: ['Planning', 'Organization', 'Detail work'] },\n        5: { theme: 'Change', activities: ['Travel', 'New experiences', 'Networking'] },\n        6: { theme: 'Nurturing', activities: ['Family time', 'Home projects', 'Self-care'] },\n        7: { theme: 'Reflection', activities: ['Research', 'Study', 'Meditation'] },\n        8: { theme: 'Achievement', activities: ['Business deals', 'Financial decisions', 'Career moves'] },\n        9: { theme: 'Completion', activities: ['Finishing projects', 'Giving back', 'Letting go'] },\n        11: { theme: 'Inspiration', activities: ['Spiritual practice', 'Teaching', 'Visionary work'] },\n        22: { theme: 'Manifestation', activities: ['Big projects', 'Long-term planning', 'Building legacy'] },\n        33: { theme: 'Healing', activities: ['Helping others', 'Counseling', 'Community service'] },\n      };\n      \n      for (let day = 1; day <= daysInMonth; day++) {\n        const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n        \n        // Calculate personal month and personal day\n        const personalMonth = reduceNumber(personalYear + (currentMonth + 1));\n        const personalDay = reduceNumber(personalMonth + day);\n        \n        // Determine rating based on alignment\n        let rating: 'excellent' | 'good' | 'neutral' | 'challenging';\n        if (personalDay === lifePathNumber) {\n          rating = 'excellent';\n        } else if ([1, 3, 5, 9].includes(personalDay)) {\n          rating = 'good';\n        } else if ([4, 7, 8].includes(personalDay)) {\n          rating = 'neutral';\n        } else {\n          rating = 'neutral';\n        }\n        \n        // Master number days are always powerful\n        if ([11, 22, 33].includes(personalDay)) {\n          rating = 'excellent';\n        }\n        \n        const dayInfo = personalDayThemes[personalDay] || { theme: 'Balance', activities: ['Routine tasks', 'Rest'] };\n        \n        dayRatings.push({\n          date: dateStr,\n          day,\n          personalDay,\n          rating,\n          theme: dayInfo.theme,\n          activities: dayInfo.activities,\n        });\n      }\n      \n      // Find best days (excellent and good)\n      const bestDays = dayRatings.filter(d => d.rating === 'excellent' || d.rating === 'good');\n      \n      res.json({\n        lifePathNumber,\n        personalYear,\n        month: currentMonth + 1,\n        year: currentYear,\n        monthName: new Date(currentYear, currentMonth).toLocaleDateString('en-US', { month: 'long' }),\n        days: dayRatings,\n        bestDays: bestDays.slice(0, 10),\n      });\n    } catch (error) {\n      console.error(\"Error getting best days:\", error);\n      res.status(500).json({ error: \"Failed to get best days\" });\n    }\n  });\n\n  // Celebrity Matches - Find celebrities sharing user's energy\n  app.get(\"/api/explore/celebrity-matches\", (req, res) => {\n    try {\n      const { lifePathNumber, energySignature, limit = '12' } = req.query as Record<string, string>;\n      \n      const limitNum = Math.min(50, parseInt(limit) || 12);\n      \n      // Filter to persons only\n      let celebrities = parsedCues.filter(c => c.type === 'Person');\n      \n      // Score and sort by match quality\n      const scored = celebrities.map(celeb => {\n        let score = 0;\n        const matches: string[] = [];\n        \n        if (lifePathNumber && celeb.lifePathNumber === parseInt(lifePathNumber)) {\n          score += 50;\n          matches.push('Life Path');\n        }\n        \n        if (energySignature) {\n          const userElement = energySignature.split(' ')[0];\n          const celebElement = celeb.energySignature.split(' ')[0];\n          if (userElement === celebElement) {\n            score += 30;\n            matches.push('Element');\n          }\n          \n          const userEnergy = energySignature.split(' ').slice(1).join(' ');\n          const celebEnergy = celeb.energySignature.split(' ').slice(1).join(' ');\n          if (userEnergy === celebEnergy) {\n            score += 20;\n            matches.push('Energy Type');\n          }\n        }\n        \n        return { ...celeb, score, matches };\n      });\n      \n      const matches = scored\n        .filter(c => c.score > 0)\n        .sort((a, b) => b.score - a.score)\n        .slice(0, limitNum);\n      \n      res.json({\n        matches: matches.map(m => ({\n          id: m.id,\n          name: m.name,\n          type: m.type,\n          category: m.category,\n          country: m.country,\n          lifePathNumber: m.lifePathNumber,\n          energySignature: m.energySignature,\n          foundedOrBirth: m.foundedOrBirth,\n          score: m.score,\n          matchReasons: m.matches,\n        })),\n        totalCelebrities: parsedCues.filter(c => c.type === 'Person').length,\n      });\n    } catch (error) {\n      console.error(\"Error getting celebrity matches:\", error);\n      res.status(500).json({ error: \"Failed to get celebrity matches\" });\n    }\n  });\n\n  // Travel Destinations - Curated countries with zodiac compatibility\n  app.get(\"/api/explore/travel-destinations\", (req, res) => {\n    try {\n      const { lifePathNumber, element, birthYear } = req.query as Record<string, string>;\n      \n      const userLifePath = lifePathNumber ? parseInt(lifePathNumber) : null;\n      const userBirthYear = birthYear ? parseInt(birthYear) : null;\n      \n      // Chinese zodiac calculation\n      const getChineseZodiac = (year: number): string => {\n        const animals = ['Monkey', 'Rooster', 'Dog', 'Pig', 'Rat', 'Ox', 'Tiger', 'Rabbit', 'Dragon', 'Snake', 'Horse', 'Goat'];\n        return animals[year % 12];\n      };\n      \n      const userZodiac = userBirthYear ? getChineseZodiac(userBirthYear) : null;\n      \n      // Zodiac compatibility - which signs thrive together\n      const zodiacCompatibility: Record<string, string[]> = {\n        'Rat': ['Rat', 'Ox', 'Dragon', 'Monkey'],\n        'Ox': ['Rat', 'Ox', 'Snake', 'Rooster'],\n        'Tiger': ['Tiger', 'Horse', 'Dog', 'Pig'],\n        'Rabbit': ['Rabbit', 'Goat', 'Dog', 'Pig'],\n        'Dragon': ['Rat', 'Dragon', 'Monkey', 'Rooster'],\n        'Snake': ['Ox', 'Snake', 'Rooster', 'Monkey'],\n        'Horse': ['Tiger', 'Horse', 'Goat', 'Dog'],\n        'Goat': ['Rabbit', 'Horse', 'Goat', 'Pig'],\n        'Monkey': ['Rat', 'Dragon', 'Snake', 'Monkey'],\n        'Rooster': ['Ox', 'Dragon', 'Snake', 'Rooster'],\n        'Dog': ['Tiger', 'Rabbit', 'Horse', 'Dog'],\n        'Pig': ['Tiger', 'Rabbit', 'Goat', 'Pig'],\n      };\n      \n      // Curated list of countries with significant founding/independence years\n      const countries: Array<{\n        name: string;\n        year: number;\n        description: string;\n        vibe: string;\n        bestFor: string;\n      }> = [\n        { name: 'United States', year: 1776, description: 'Born in the Year of the Monkey, the USA channels innovation, ambition, and reinvention. From Silicon Valley to Hollywood, this nation rewards clever problem-solvers and dreamers.', vibe: 'Innovation & Ambition', bestFor: 'Entrepreneurs and dreamers' },\n        { name: 'France', year: 1789, description: 'The French Revolution birthed a Rooster-year nation - proud, artistic, and fiercely devoted to beauty and excellence. Paris alone defines romance and sophistication.', vibe: 'Art & Romance', bestFor: 'Artists and romantics' },\n        { name: 'Japan', year: 1868, description: 'The Meiji Restoration in the Year of the Dragon launched Japan into modernity. This Dragon energy fuels its technological innovation and cultural influence.', vibe: 'Innovation & Tradition', bestFor: 'Tech lovers and culture seekers' },\n        { name: 'India', year: 1947, description: 'Independence in the Year of the Pig brought abundance and spiritual depth. From yoga to Bollywood, India offers comfort, wisdom, and vibrant celebration.', vibe: 'Spirituality & Color', bestFor: 'Soul seekers and adventurers' },\n        { name: 'Brazil', year: 1822, description: 'Born in the Year of the Horse, Brazil gallops with freedom, joy, and celebration. Carnival, beaches, and samba embody its passionate spirit.', vibe: 'Joy & Celebration', bestFor: 'Free spirits and dancers' },\n        { name: 'Australia', year: 1901, description: 'Federation in the Year of the Ox built a nation of steady determination and laid-back ambition. From Sydney to the Outback, resilience meets adventure.', vibe: 'Adventure & Balance', bestFor: 'Nature lovers and achievers' },\n        { name: 'Italy', year: 1861, description: 'Unified in the Year of the Rooster, Italy struts with pride in its art, food, and history. Every region celebrates la dolce vita with authentic flair.', vibe: 'Culture & Pleasure', bestFor: 'Foodies and history lovers' },\n        { name: 'Germany', year: 1871, description: 'Born in the Year of the Goat, Germany balances creative artistry with engineering precision. From Beethoven to BMW, innovation meets craftsmanship.', vibe: 'Precision & Creativity', bestFor: 'Engineers and artists' },\n        { name: 'Canada', year: 1867, description: 'Confederation in the Year of the Rabbit brought a nation of diplomatic harmony and natural beauty. Politeness and wilderness coexist perfectly.', vibe: 'Nature & Harmony', bestFor: 'Peace seekers and adventurers' },\n        { name: 'Mexico', year: 1821, description: 'Independence in the Year of the Snake gave Mexico its mysterious allure and ancient wisdom. Mayan pyramids to mariachi - transformation runs deep.', vibe: 'Mystery & Tradition', bestFor: 'Culture lovers and mystics' },\n        { name: 'South Korea', year: 1948, description: 'Founded in the Year of the Rat, South Korea embodies clever innovation and resourcefulness. K-pop, tech, and cuisine - always ahead of trends.', vibe: 'Trendsetting & Innovation', bestFor: 'Trendsetters and tech lovers' },\n        { name: 'Spain', year: 1479, description: 'United in the Year of the Pig, Spain celebrates life with generous warmth. Flamenco, siestas, and fiestas honor pleasure without apology.', vibe: 'Passion & Celebration', bestFor: 'Party lovers and artists' },\n        { name: 'Thailand', year: 1238, description: 'Ancient Sukhothai Kingdom in the Year of the Dog established loyalty, spirituality, and honest hospitality that define Thai culture today.', vibe: 'Spirituality & Warmth', bestFor: 'Spiritual seekers and foodies' },\n        { name: 'United Kingdom', year: 1707, description: 'The Act of Union in the Year of the Pig united kingdoms into an empire of comfort, tradition, and global influence. Tea, royalty, and resilience.', vibe: 'Tradition & Influence', bestFor: 'History buffs and culture lovers' },\n        { name: 'Greece', year: 1821, description: 'Independence in the Year of the Snake revived ancient Dragon wisdom. Birthplace of democracy, philosophy, and the Olympic spirit.', vibe: 'Wisdom & History', bestFor: 'Philosophers and beach lovers' },\n        { name: 'Singapore', year: 1965, description: 'Independence in the Year of the Snake transformed a port into a financial powerhouse. Order, prosperity, and multicultural harmony thrive.', vibe: 'Prosperity & Order', bestFor: 'Business minds and foodies' },\n        { name: 'UAE', year: 1971, description: 'Founded in the Year of the Pig, the UAE turned desert into luxury. Dubai and Abu Dhabi embody ambitious comfort and limitless vision.', vibe: 'Luxury & Ambition', bestFor: 'Luxury seekers and dreamers' },\n        { name: 'South Africa', year: 1994, description: 'New democracy in the Year of the Dog brought loyalty to justice and rainbow nation harmony. Safari, wine, and healing converge.', vibe: 'Healing & Adventure', bestFor: 'Justice seekers and nature lovers' },\n        { name: 'Egypt', year: 1922, description: 'Independence in the Year of the Dog renewed ancient mysteries. The pyramids, Nile, and pharaonic wisdom call to loyal seekers of truth.', vibe: 'Mystery & Ancient Power', bestFor: 'History lovers and mystics' },\n        { name: 'Indonesia', year: 1945, description: 'Independence in the Year of the Rooster gave Indonesia its proud diversity. Bali\\'s spirituality to Jakarta\\'s hustle - authenticity across 17,000 islands.', vibe: 'Diversity & Spirit', bestFor: 'Island hoppers and soul seekers' },\n        { name: 'Portugal', year: 1143, description: 'Europe\\'s oldest nation born in the Year of the Pig pioneered global exploration with generous spirit. Fado, wine, and saudade await.', vibe: 'Exploration & Soul', bestFor: 'Romantics and explorers' },\n        { name: 'Netherlands', year: 1581, description: 'Independence in the Year of the Snake brought clever trade and progressive values. Canals, art, and freedom define this innovative nation.', vibe: 'Freedom & Innovation', bestFor: 'Free thinkers and art lovers' },\n        { name: 'New Zealand', year: 1907, description: 'Dominion in the Year of the Goat blessed this land with creative beauty and peaceful adventure. Middle Earth magic meets Maori wisdom.', vibe: 'Nature & Magic', bestFor: 'Adventurers and dreamers' },\n        { name: 'Morocco', year: 1956, description: 'Independence in the Year of the Monkey brought clever craftsmanship and vibrant reinvention. Marrakech\\'s medina swirls with ancient-modern fusion.', vibe: 'Mystery & Craftsmanship', bestFor: 'Adventurers and artists' },\n      ];\n      \n      // Process each country with compatibility info\n      const destinations = countries.map((country, index) => {\n        const zodiacAnimal = getChineseZodiac(country.year);\n        \n        // Find all signs compatible with this country's zodiac\n        const compatibleSigns: string[] = [];\n        Object.entries(zodiacCompatibility).forEach(([sign, compatWith]) => {\n          if (compatWith.includes(zodiacAnimal)) {\n            compatibleSigns.push(sign);\n          }\n        });\n        \n        // Calculate score based on user's zodiac match\n        let score = 70; // Base score - all destinations are good\n        const isUserMatch = userZodiac ? compatibleSigns.includes(userZodiac) : false;\n        \n        if (isUserMatch) {\n          score = 92; // High score for compatible users\n        }\n        \n        // Add life path bonus\n        const lifePathFromYear = ((country.year - 1) % 9) + 1;\n        if (userLifePath && userLifePath === lifePathFromYear) {\n          score = Math.min(98, score + 5);\n        }\n        \n        return {\n          id: index + 1,\n          name: country.name,\n          foundingYear: country.year,\n          zodiacAnimal,\n          compatibleSigns,\n          description: country.description,\n          vibe: country.vibe,\n          bestFor: country.bestFor,\n          score,\n          isUserMatch,\n        };\n      });\n      \n      // Sort by score (user matches first) then alphabetically\n      const sorted = destinations.sort((a, b) => {\n        if (a.isUserMatch !== b.isUserMatch) {\n          return a.isUserMatch ? -1 : 1;\n        }\n        return b.score - a.score;\n      });\n      \n      res.json({\n        destinations: sorted.map(d => ({\n          id: d.id,\n          name: d.name,\n          foundingYear: d.foundingYear,\n          zodiacAnimal: d.zodiacAnimal,\n          compatibleSigns: d.compatibleSigns,\n          description: d.description,\n          vibe: d.vibe,\n          bestFor: d.bestFor,\n          score: d.score,\n          isUserMatch: d.isUserMatch,\n        })),\n        userZodiac,\n      });\n    } catch (error) {\n      console.error(\"Error getting travel destinations:\", error);\n      res.status(500).json({ error: \"Failed to get travel destinations\" });\n    }\n  });\n\n  // Relationship Patterns - Compatibility tendencies\n  app.get(\"/api/explore/relationship-patterns/:lifePathNumber\", (req, res) => {\n    try {\n      const lifePathNumber = parseInt(req.params.lifePathNumber);\n      \n      if (isNaN(lifePathNumber) || lifePathNumber < 1 || (lifePathNumber > 9 && ![11, 22, 33].includes(lifePathNumber))) {\n        return res.status(400).json({ error: \"Invalid life path number\" });\n      }\n      \n      // Compatibility matrix based on numerology\n      const compatibilityData: Record<number, { best: number[]; good: number[]; challenging: number[]; description: string }> = {\n        1: { best: [3, 5], good: [1, 2, 9], challenging: [4, 8], description: 'As a natural leader, you thrive with creative and adventurous partners who appreciate your independence.' },\n        2: { best: [4, 8], good: [1, 2, 6], challenging: [5, 7], description: 'Your diplomatic nature flourishes with stable, ambitious partners who value harmony and commitment.' },\n        3: { best: [1, 5, 7], good: [3, 6, 9], challenging: [4, 8], description: 'Your creative spirit connects best with innovative and intellectual partners who appreciate your expressiveness.' },\n        4: { best: [2, 8], good: [4, 6, 7], challenging: [1, 3, 5], description: 'Your grounded nature pairs well with practical, ambitious partners who share your commitment to building a secure future.' },\n        5: { best: [1, 3, 7], good: [5, 9], challenging: [2, 4, 6], description: 'Your adventurous spirit thrives with partners who embrace change and give you freedom to explore.' },\n        6: { best: [2, 9], good: [3, 4, 6], challenging: [1, 5, 7], description: 'Your nurturing heart connects deeply with compassionate partners who value family and responsibility.' },\n        7: { best: [3, 5], good: [1, 7, 9], challenging: [2, 6, 8], description: 'Your introspective nature appreciates intellectual and independent partners who respect your need for space.' },\n        8: { best: [2, 4], good: [6, 8], challenging: [1, 3, 7], description: 'Your ambitious drive pairs well with practical, supportive partners who share your vision for success.' },\n        9: { best: [1, 6], good: [2, 3, 9], challenging: [4, 5, 8], description: 'Your humanitarian heart flourishes with partners who share your idealism and compassion for others.' },\n        11: { best: [2, 6], good: [1, 7, 11], challenging: [4, 8], description: 'Your intuitive gifts resonate with sensitive, spiritual partners who understand your heightened awareness.' },\n        22: { best: [4, 8], good: [2, 6, 22], challenging: [3, 5], description: 'Your master builder energy pairs with practical visionaries who can help manifest your grand dreams.' },\n        33: { best: [6, 9], good: [3, 11, 33], challenging: [1, 8], description: 'Your healing presence attracts compassionate souls who share your dedication to service and unconditional love.' },\n      };\n      \n      const data = compatibilityData[lifePathNumber] || compatibilityData[9];\n      \n      const lifePathMeanings: Record<number, string> = {\n        1: 'The Pioneer', 2: 'The Diplomat', 3: 'The Communicator',\n        4: 'The Builder', 5: 'The Freedom Seeker', 6: 'The Nurturer',\n        7: 'The Seeker', 8: 'The Powerhouse', 9: 'The Humanitarian',\n        11: 'The Illuminator', 22: 'The Master Builder', 33: 'The Master Teacher',\n      };\n      \n      res.json({\n        lifePathNumber,\n        title: lifePathMeanings[lifePathNumber],\n        description: data.description,\n        bestMatches: data.best.map(n => ({ number: n, title: lifePathMeanings[n] })),\n        goodMatches: data.good.map(n => ({ number: n, title: lifePathMeanings[n] })),\n        challengingMatches: data.challenging.map(n => ({ number: n, title: lifePathMeanings[n] })),\n        tips: [\n          'Remember that any relationship can work with understanding and effort',\n          'Focus on complementary strengths rather than differences',\n          'Communication is key regardless of numerical compatibility',\n          'Use challenges as opportunities for growth together',\n        ],\n      });\n    } catch (error) {\n      console.error(\"Error getting relationship patterns:\", error);\n      res.status(500).json({ error: \"Failed to get relationship patterns\" });\n    }\n  });\n\n  // Career Alignment - Industries and roles matching user's energy\n  app.get(\"/api/explore/career-alignment/:lifePathNumber\", (req, res) => {\n    try {\n      const lifePathNumber = parseInt(req.params.lifePathNumber);\n      \n      if (isNaN(lifePathNumber) || lifePathNumber < 1 || (lifePathNumber > 9 && ![11, 22, 33].includes(lifePathNumber))) {\n        return res.status(400).json({ error: \"Invalid life path number\" });\n      }\n      \n      // Career recommendations by life path with role explanations\n      const careerData: Record<number, { industries: string[]; roles: { name: string; reason: string }[]; strengths: string[]; description: string; whyTheseFit: string }> = {\n        1: { \n          industries: ['Technology', 'Entrepreneurship', 'Consulting', 'Sports'],\n          roles: [\n            { name: 'CEO', reason: 'Your natural leadership and independence make you ideal for top executive positions' },\n            { name: 'Founder', reason: 'Pioneers thrive when building something from scratch on their own terms' },\n            { name: 'Director', reason: 'Your decisiveness and vision guide teams toward ambitious goals' },\n            { name: 'Team Lead', reason: 'Your self-starter energy inspires others to follow your initiative' },\n            { name: 'Innovator', reason: 'Your pioneering spirit naturally seeks new solutions and breakthroughs' },\n          ],\n          strengths: ['Leadership', 'Innovation', 'Decision-making', 'Independence'],\n          description: 'Your pioneering spirit makes you a natural entrepreneur and leader in any field.',\n          whyTheseFit: 'As a Life Path 1, you thrive when you can chart your own course and lead by example. These roles let you leverage your natural independence and visionary thinking.'\n        },\n        2: { \n          industries: ['Healthcare', 'Counseling', 'Human Resources', 'Diplomacy'],\n          roles: [\n            { name: 'Mediator', reason: 'Your innate ability to see both sides makes conflict resolution your strength' },\n            { name: 'Counselor', reason: 'Your empathy and patience create safe spaces for others to open up' },\n            { name: 'Partner', reason: 'You excel in collaborative roles where teamwork is essential' },\n            { name: 'Coordinator', reason: 'Your diplomatic skills bring diverse groups together harmoniously' },\n            { name: 'Support Specialist', reason: 'Your nurturing nature shines in helping others succeed' },\n          ],\n          strengths: ['Cooperation', 'Intuition', 'Diplomacy', 'Patience'],\n          description: 'Your diplomatic nature excels in roles requiring partnership and emotional intelligence.',\n          whyTheseFit: 'As a Life Path 2, you have a gift for creating harmony and understanding others deeply. These roles utilize your cooperative spirit and emotional sensitivity.'\n        },\n        3: { \n          industries: ['Entertainment', 'Marketing', 'Arts', 'Media', 'Writing'],\n          roles: [\n            { name: 'Creative Director', reason: 'Your artistic vision and ability to inspire makes you a natural creative leader' },\n            { name: 'Writer', reason: 'Your gift for expression translates beautifully into written words' },\n            { name: 'Artist', reason: 'Creative self-expression is your natural way of communicating' },\n            { name: 'Speaker', reason: 'Your charisma and communication skills captivate audiences' },\n            { name: 'Designer', reason: 'Your eye for beauty and creativity brings ideas to visual life' },\n          ],\n          strengths: ['Creativity', 'Communication', 'Inspiration', 'Charisma'],\n          description: 'Your creative gifts flourish in expressive roles that inspire and entertain others.',\n          whyTheseFit: 'As a Life Path 3, you were born to express and create. These roles let you share your unique vision and bring joy to others through your natural talents.'\n        },\n        4: { \n          industries: ['Engineering', 'Construction', 'Finance', 'Manufacturing'],\n          roles: [\n            { name: 'Engineer', reason: 'Your methodical approach and precision make technical problem-solving natural' },\n            { name: 'Architect', reason: 'You excel at creating solid, lasting structures with practical purpose' },\n            { name: 'Accountant', reason: 'Your attention to detail and reliability ensure accuracy in finances' },\n            { name: 'Project Manager', reason: 'Your organizational skills keep complex projects on track' },\n            { name: 'Analyst', reason: 'Your systematic thinking excels at breaking down complex problems' },\n          ],\n          strengths: ['Organization', 'Reliability', 'Precision', 'Dedication'],\n          description: 'Your methodical approach builds lasting structures in any systematic field.',\n          whyTheseFit: 'As a Life Path 4, you are the master builder who creates enduring value. These roles reward your dedication, precision, and ability to see projects through to completion.'\n        },\n        5: { \n          industries: ['Travel', 'Sales', 'Journalism', 'Entertainment'],\n          roles: [\n            { name: 'Sales Rep', reason: 'Your adaptability and communication skills close deals naturally' },\n            { name: 'Travel Agent', reason: 'Your love of adventure helps others discover new experiences' },\n            { name: 'Journalist', reason: 'Your curiosity and versatility uncover compelling stories' },\n            { name: 'Promoter', reason: 'Your dynamic energy and networking create buzz and excitement' },\n            { name: 'Consultant', reason: 'Your variety-seeking nature thrives with diverse clients and projects' },\n          ],\n          strengths: ['Adaptability', 'Communication', 'Networking', 'Versatility'],\n          description: 'Your adventurous spirit thrives in dynamic roles with variety and change.',\n          whyTheseFit: 'As a Life Path 5, you need freedom and variety to feel alive. These roles offer the constant change and new experiences that fuel your adventurous spirit.'\n        },\n        6: { \n          industries: ['Education', 'Healthcare', 'Hospitality', 'Social Work'],\n          roles: [\n            { name: 'Teacher', reason: 'Your nurturing nature creates supportive learning environments' },\n            { name: 'Nurse', reason: 'Your caring heart provides comfort and healing to those in need' },\n            { name: 'Therapist', reason: 'Your ability to create harmony helps others find balance' },\n            { name: 'Chef', reason: 'Nurturing others through food satisfies your desire to serve' },\n            { name: 'Interior Designer', reason: 'Creating beautiful, harmonious spaces brings you joy' },\n          ],\n          strengths: ['Nurturing', 'Responsibility', 'Service', 'Harmony'],\n          description: 'Your caring nature excels in roles that serve and uplift others.',\n          whyTheseFit: 'As a Life Path 6, you find deep fulfillment in caring for others and creating beauty. These roles let you make a tangible difference in people\\'s lives.'\n        },\n        7: { \n          industries: ['Research', 'Technology', 'Science', 'Academia', 'Spirituality'],\n          roles: [\n            { name: 'Researcher', reason: 'Your love of deep analysis uncovers truths others miss' },\n            { name: 'Scientist', reason: 'Your analytical mind and curiosity drive breakthrough discoveries' },\n            { name: 'Analyst', reason: 'Your ability to see patterns helps solve complex problems' },\n            { name: 'Professor', reason: 'Sharing deep knowledge with seekers feeds your soul' },\n            { name: 'Strategist', reason: 'Your wisdom and foresight guide long-term planning' },\n          ],\n          strengths: ['Analysis', 'Research', 'Intuition', 'Wisdom'],\n          description: 'Your analytical mind thrives in roles requiring deep thinking and expertise.',\n          whyTheseFit: 'As a Life Path 7, you seek truth and deep understanding. These roles give you the space for contemplation and mastery that your inquisitive nature craves.'\n        },\n        8: { \n          industries: ['Finance', 'Real Estate', 'Business', 'Law'],\n          roles: [\n            { name: 'Executive', reason: 'Your natural authority and ambition command respect at the highest levels' },\n            { name: 'Investor', reason: 'Your vision for abundance helps you spot profitable opportunities' },\n            { name: 'Lawyer', reason: 'Your power and strategic thinking win cases and influence outcomes' },\n            { name: 'Manager', reason: 'Your organizational abilities and authority create efficient teams' },\n            { name: 'Business Owner', reason: 'Building material success comes naturally to your energy' },\n          ],\n          strengths: ['Ambition', 'Management', 'Vision', 'Authority'],\n          description: 'Your powerhouse energy excels in positions of authority and wealth creation.',\n          whyTheseFit: 'As a Life Path 8, you are here to master the material world. These roles let you exercise your natural authority and build the abundance you\\'re destined for.'\n        },\n        9: { \n          industries: ['Non-profit', 'Arts', 'Healing', 'International Relations'],\n          roles: [\n            { name: 'Humanitarian', reason: 'Your compassion drives you to make the world a better place' },\n            { name: 'Artist', reason: 'Your wisdom and vision create work that touches universal themes' },\n            { name: 'Healer', reason: 'Your gift for understanding others promotes deep transformation' },\n            { name: 'Advisor', reason: 'Your broad perspective offers wisdom that guides others\\' paths' },\n            { name: 'Philanthropist', reason: 'Your generous heart naturally gives back to those in need' },\n          ],\n          strengths: ['Compassion', 'Vision', 'Wisdom', 'Generosity'],\n          description: 'Your humanitarian heart finds fulfillment in roles that serve the greater good.',\n          whyTheseFit: 'As a Life Path 9, you are here to serve humanity and leave a meaningful legacy. These roles channel your wisdom and compassion toward making lasting change.'\n        },\n        11: { \n          industries: ['Spirituality', 'Arts', 'Psychology', 'Media'],\n          roles: [\n            { name: 'Spiritual Teacher', reason: 'Your heightened intuition guides others on their spiritual journey' },\n            { name: 'Psychic', reason: 'Your sensitivity to energies provides insights beyond the ordinary' },\n            { name: 'Counselor', reason: 'Your deep intuition helps others understand themselves' },\n            { name: 'Artist', reason: 'Channeling inspiration into creative work comes naturally' },\n            { name: 'Innovator', reason: 'Your visionary ideas illuminate new possibilities' },\n          ],\n          strengths: ['Intuition', 'Inspiration', 'Vision', 'Sensitivity'],\n          description: 'Your illuminating presence guides others through spiritual and creative work.',\n          whyTheseFit: 'As a Master Number 11, you carry heightened spiritual awareness. These roles let you channel divine inspiration and illuminate the path for others.'\n        },\n        22: { \n          industries: ['Architecture', 'Politics', 'Large Enterprises', 'Infrastructure'],\n          roles: [\n            { name: 'Architect', reason: 'Your vision for large-scale creation manifests in lasting structures' },\n            { name: 'Leader', reason: 'Your ability to turn vision into reality inspires large groups' },\n            { name: 'Visionary', reason: 'You see possibilities that others cannot even imagine' },\n            { name: 'Builder', reason: 'Creating systems and structures that endure is your purpose' },\n            { name: 'Reformer', reason: 'Your practical idealism transforms institutions for the better' },\n          ],\n          strengths: ['Vision', 'Manifestation', 'Leadership', 'Practicality'],\n          description: 'Your master builder energy creates lasting impact through large-scale projects.',\n          whyTheseFit: 'As a Master Number 22, you have the rare ability to manifest grand visions. These roles let you build legacies that transform the world.'\n        },\n        33: { \n          industries: ['Education', 'Healing', 'Spirituality', 'Community Service'],\n          roles: [\n            { name: 'Master Teacher', reason: 'Your wisdom and compassion uplift all who learn from you' },\n            { name: 'Healer', reason: 'Your unconditional love creates profound transformation in others' },\n            { name: 'Counselor', reason: 'Your deep compassion provides safe harbor for troubled souls' },\n            { name: 'Spiritual Leader', reason: 'Your selfless service inspires communities toward higher purpose' },\n            { name: 'Mentor', reason: 'Guiding others to their highest potential is your sacred gift' },\n          ],\n          strengths: ['Healing', 'Teaching', 'Compassion', 'Wisdom'],\n          description: 'Your master teacher energy uplifts humanity through selfless service and wisdom.',\n          whyTheseFit: 'As a Master Number 33, you carry the highest vibration of compassionate service. These roles let you heal and teach at the deepest level.'\n        },\n      };\n      \n      const data = careerData[lifePathNumber] || careerData[9];\n      \n      const lifePathMeanings: Record<number, string> = {\n        1: 'The Pioneer', 2: 'The Diplomat', 3: 'The Communicator',\n        4: 'The Builder', 5: 'The Freedom Seeker', 6: 'The Nurturer',\n        7: 'The Seeker', 8: 'The Powerhouse', 9: 'The Humanitarian',\n        11: 'The Illuminator', 22: 'The Master Builder', 33: 'The Master Teacher',\n      };\n      \n      res.json({\n        lifePathNumber,\n        title: lifePathMeanings[lifePathNumber],\n        description: data.description,\n        whyTheseFit: data.whyTheseFit,\n        industries: data.industries,\n        suggestedRoles: data.roles,\n        coreStrengths: data.strengths,\n      });\n    } catch (error) {\n      console.error(\"Error getting career alignment:\", error);\n      res.status(500).json({ error: \"Failed to get career alignment\" });\n    }\n  });\n\n  // Diagnostic endpoint to check Whop API key and company info\n  app.get(\"/api/whop/debug\", requireWhopAuth, async (req: WhopRequest, res) => {\n    console.log(\"[Whop Debug] Starting diagnostics...\");\n    \n    try {\n      const { whopSdk } = await import(\"./whop\");\n      \n      const debugInfo: any = {\n        apiKeyPresent: !!process.env.WHOP_API_KEY,\n        apiKeyLength: process.env.WHOP_API_KEY?.length || 0,\n        apiKeyPrefix: process.env.WHOP_API_KEY?.substring(0, 10) + \"...\",\n        appId: process.env.WHOP_APP_ID,\n        viteAppId: process.env.VITE_WHOP_APP_ID,\n        sdkInitialized: !!whopSdk,\n        experienceId: req.experienceId,\n        companyId: req.companyId,\n        userId: req.whopUser?.userId,\n      };\n\n      // Try to get experience info if we have experienceId\n      if (whopSdk && req.experienceId) {\n        try {\n          console.log(`[Whop Debug] Fetching experience: ${req.experienceId}`);\n          const experience = await whopSdk.experiences.retrieve(req.experienceId);\n          debugInfo.experience = {\n            id: experience.id,\n            name: experience.name,\n            companyId: experience.company_id,\n          };\n          console.log(`[Whop Debug] Experience company_id: ${experience.company_id}`);\n        } catch (e: any) {\n          debugInfo.experienceError = e?.message || \"Failed to fetch experience\";\n          console.error(\"[Whop Debug] Experience fetch error:\", e?.message);\n        }\n      }\n\n      // Try to retrieve app info\n      if (whopSdk) {\n        try {\n          console.log(`[Whop Debug] Fetching app: ${process.env.WHOP_APP_ID}`);\n          const app = await whopSdk.apps.retrieve(process.env.WHOP_APP_ID!);\n          debugInfo.app = {\n            id: app.id,\n            name: app.name,\n            companyId: app.company_id,\n          };\n          console.log(`[Whop Debug] App company_id: ${app.company_id}`);\n        } catch (e: any) {\n          debugInfo.appError = e?.message || \"Failed to fetch app\";\n          console.error(\"[Whop Debug] App fetch error:\", e?.message);\n        }\n      }\n\n      console.log(\"[Whop Debug] Results:\", JSON.stringify(debugInfo, null, 2));\n      res.json(debugInfo);\n    } catch (error: any) {\n      console.error(\"[Whop Debug] Error:\", error);\n      res.status(500).json({ error: error?.message || \"Debug failed\" });\n    }\n  });\n\n  // Whop In-App Purchase - Create checkout configuration\n  app.post(\"/api/checkout/create\", requireWhopAuth, async (req: WhopRequest, res) => {\n    const whopUserId = req.whopUser?.userId;\n    console.log(`[Whop Checkout] Starting checkout creation for user: ${whopUserId}`);\n    \n    try {\n      const { whopSdk } = await import(\"./whop\");\n      \n      if (!whopSdk) {\n        console.error(\"[Whop Checkout] SDK not initialized - missing WHOP_API_KEY or WHOP_APP_ID\");\n        return res.status(500).json({ error: \"Whop SDK not initialized\" });\n      }\n\n      const planId = \"plan_M2ZsE7J94b3b7\";\n      console.log(`[Whop Checkout] Creating checkout configuration for plan: ${planId}`);\n      console.log(`[Whop Checkout] API Key present: ${!!process.env.WHOP_API_KEY}`);\n      console.log(`[Whop Checkout] API Key length: ${process.env.WHOP_API_KEY?.length || 0}`);\n      console.log(`[Whop Checkout] App ID: ${process.env.WHOP_APP_ID}`);\n      \n      const checkoutConfiguration = await whopSdk.checkoutConfigurations.create({\n        plan_id: planId,\n      });\n\n      console.log(`[Whop Checkout] Success! Configuration ID: ${checkoutConfiguration.id}`);\n      console.log(`[Whop Checkout] Plan ID from response: ${checkoutConfiguration.plan?.id}`);\n\n      res.json({\n        id: checkoutConfiguration.id,\n        planId: checkoutConfiguration.plan?.id || planId,\n      });\n    } catch (error: any) {\n      console.error(\"[Whop Checkout] Error creating checkout configuration:\");\n      console.error(`[Whop Checkout] Error type: ${error?.constructor?.name}`);\n      console.error(`[Whop Checkout] Error status: ${error?.status}`);\n      console.error(`[Whop Checkout] Error message: ${error?.message}`);\n      if (error?.error) {\n        console.error(`[Whop Checkout] Error details:`, JSON.stringify(error.error, null, 2));\n      }\n      if (error?.status === 401) {\n        console.error(\"[Whop Checkout] 401 Unauthorized - Check that your WHOP_API_KEY:\");\n        console.error(\"  1. Is valid and not expired\");\n        console.error(\"  2. Has 'checkout_configuration:create' permission\");\n        console.error(\"  3. Belongs to the same company that owns the plan\");\n      }\n      if (error?.status === 403) {\n        console.error(\"[Whop Checkout] 403 Forbidden - API key lacks required permissions\");\n      }\n      if (error?.status === 404) {\n        console.error(\"[Whop Checkout] 404 Not Found - Plan ID may not exist or not accessible\");\n      }\n      res.status(error?.status || 500).json({ \n        error: \"Failed to create checkout configuration\",\n        details: error?.error?.message || error?.message\n      });\n    }\n  });\n\n  // Whop In-App Purchase - Upgrade user to Pro after successful payment\n  // This endpoint checks the user's membership status for the Pro plan\n  app.post(\"/api/upgrade-to-pro\", requireWhopAuth, async (req: WhopRequest, res) => {\n    try {\n      const whopUserId = req.whopUser!.userId;\n      const { receiptId } = req.body;\n      \n      const { whopSdk } = await import(\"./whop\");\n      \n      if (!whopSdk) {\n        return res.status(500).json({ error: \"Whop SDK not initialized\" });\n      }\n\n      const EXPECTED_PLAN_ID = \"plan_M2ZsE7J94b3b7\";\n      const WHOP_COMPANY_ID = process.env.WHOP_COMPANY_ID;\n      \n      // Check if user already has an active membership for the Pro plan\n      console.log(`[Whop] Checking membership status for user ${whopUserId}...`);\n      \n      // Get company ID - try from environment variable first, then from app\n      let companyId = WHOP_COMPANY_ID;\n      if (!companyId) {\n        try {\n          const app = await whopSdk.apps.retrieve(process.env.WHOP_APP_ID!);\n          companyId = (app as any).company?.id;\n          console.log(`[Whop] Got company ID from app: ${companyId}`);\n        } catch (appError: any) {\n          console.error(`[Whop] Could not get company from app:`, appError?.message);\n        }\n      }\n      \n      if (!companyId) {\n        console.error(`[Whop] No company ID available - set WHOP_COMPANY_ID environment variable`);\n        return res.status(500).json({ error: \"Whop company ID not configured\" });\n      }\n      \n      let membershipId: string | null = null;\n      let manageUrl: string | null = null;\n      \n      try {\n        // List all memberships for this user and find one matching our plan\n        const memberships = await whopSdk.memberships.list({\n          company_id: companyId,\n          user_ids: [whopUserId],\n          plan_ids: [EXPECTED_PLAN_ID],\n        });\n        \n        console.log(`[Whop] Found ${memberships.data?.length || 0} memberships for user`);\n        \n        // Find an active membership for our Pro plan\n        const proMembership = memberships.data?.find((mem: any) => {\n          const isOurPlan = mem.plan?.id === EXPECTED_PLAN_ID;\n          const isActive = mem.status === 'active' || mem.status === 'trialing';\n          console.log(`[Whop] Membership ${mem.id}: plan=${mem.plan?.id}, status=${mem.status}, isOurPlan=${isOurPlan}, isActive=${isActive}`);\n          return isOurPlan && isActive;\n        });\n        \n        if (proMembership) {\n          membershipId = proMembership.id;\n          manageUrl = proMembership.manage_url || null;\n          console.log(`[Whop] Found active Pro membership: ${membershipId}, manage_url: ${manageUrl}`);\n        } else {\n          console.log(`[Whop] No active membership found for plan ${EXPECTED_PLAN_ID}`);\n          \n          // If we have a receiptId, try to verify the payment directly as fallback\n          if (receiptId) {\n            console.log(`[Whop] Attempting to verify payment ${receiptId}...`);\n            try {\n              const payment = await whopSdk.payments.retrieve(receiptId);\n              \n              if (payment && (payment as any).user_id === whopUserId && payment.status === 'paid') {\n                console.log(`[Whop] Payment verified, checking for membership creation...`);\n                // Payment is valid but membership might not be created yet\n                // This can happen with slight delays - let the user retry\n                return res.status(400).json({ \n                  error: \"Payment verified but membership is still being created. Please wait a moment and try again.\",\n                  retry: true\n                });\n              }\n            } catch (paymentError: any) {\n              console.error(`[Whop] Payment verification failed:`, paymentError?.message);\n            }\n          }\n          \n          return res.status(400).json({ error: \"No active Pro membership found. Please complete the purchase first.\" });\n        }\n      } catch (listError: any) {\n        console.error(\"[Whop] Error listing memberships:\", listError?.message);\n        return res.status(500).json({ error: \"Could not verify membership status\" });\n      }\n      \n      const user = await storage.getUserByWhopId(whopUserId);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      if (user.isPro) {\n        return res.json({ success: true, message: \"User is already Pro\", user, membershipId, manageUrl });\n      }\n\n      // Upgrade user and store membership ID\n      const updatedUser = await storage.upgradeUserToPro(whopUserId, membershipId);\n      if (!updatedUser) {\n        return res.status(500).json({ error: \"Failed to upgrade user\" });\n      }\n\n      console.log(`[Whop] User ${whopUserId} upgraded to Pro with membership ${membershipId}`);\n      res.json({ success: true, user: updatedUser, membershipId, manageUrl });\n    } catch (error) {\n      console.error(\"Error upgrading user to Pro:\", error);\n      res.status(500).json({ error: \"Failed to upgrade user\" });\n    }\n  });\n\n  // Get user's Pro membership info including billing portal URL\n  app.get(\"/api/membership\", requireWhopAuth, async (req: WhopRequest, res) => {\n    try {\n      const whopUserId = req.whopUser!.userId;\n      \n      const { whopSdk } = await import(\"./whop\");\n      \n      if (!whopSdk) {\n        return res.status(500).json({ error: \"Whop SDK not initialized\" });\n      }\n\n      const EXPECTED_PLAN_ID = \"plan_M2ZsE7J94b3b7\";\n      const WHOP_COMPANY_ID = process.env.WHOP_COMPANY_ID;\n      \n      // Get company ID - try from environment variable first, then from app\n      let companyId = WHOP_COMPANY_ID;\n      if (!companyId) {\n        try {\n          const app = await whopSdk.apps.retrieve(process.env.WHOP_APP_ID!);\n          companyId = (app as any).company?.id;\n        } catch (appError: any) {\n          console.error(`[Whop] Could not get company from app:`, appError?.message);\n        }\n      }\n      \n      if (!companyId) {\n        return res.status(500).json({ error: \"Whop company ID not configured\" });\n      }\n      \n      try {\n        console.log(`[Whop Membership] Checking for user ${whopUserId}, company ${companyId}, plan ${EXPECTED_PLAN_ID}`);\n        \n        const memberships = await whopSdk.memberships.list({\n          company_id: companyId,\n          user_ids: [whopUserId],\n          plan_ids: [EXPECTED_PLAN_ID],\n        });\n        \n        console.log(`[Whop Membership] Found ${memberships.data?.length || 0} memberships`);\n        \n        // Find an active membership for our Pro plan\n        const proMembership = memberships.data?.find((mem: any) => {\n          const isActive = mem.status === 'active' || mem.status === 'trialing';\n          console.log(`[Whop Membership] Membership ${mem.id}: status=${mem.status}, active=${isActive}, manage_url=${mem.manage_url ? 'yes' : 'no'}`);\n          return isActive;\n        });\n        \n        // Set cache control headers to prevent stale membership data\n        res.set('Cache-Control', 'no-cache, no-store, must-revalidate');\n        res.set('Pragma', 'no-cache');\n        res.set('Expires', '0');\n        \n        if (proMembership) {\n          console.log(`[Whop Membership] Active membership found: ${proMembership.id}, manage_url: ${proMembership.manage_url}`);\n          \n          // Auto-sync: Upgrade user to Pro in database if they have active membership\n          try {\n            await storage.syncProStatus(whopUserId, true, proMembership.id);\n            console.log(`[Whop Membership] Auto-upgraded user ${whopUserId} to Pro in database`);\n          } catch (syncError: any) {\n            console.error(`[Whop Membership] Failed to sync Pro status:`, syncError?.message);\n          }\n          \n          res.json({\n            hasMembership: true,\n            membershipId: proMembership.id,\n            status: proMembership.status,\n            manageUrl: proMembership.manage_url || null,\n            renewalPeriodEnd: proMembership.renewal_period_end || null,\n            cancelAtPeriodEnd: proMembership.cancel_at_period_end || false,\n          });\n        } else {\n          console.log(`[Whop Membership] No active membership found for user ${whopUserId}`);\n          \n          // Auto-sync: Downgrade user from Pro in database if they don't have active membership\n          try {\n            await storage.syncProStatus(whopUserId, false, null);\n            console.log(`[Whop Membership] Auto-downgraded user ${whopUserId} from Pro in database`);\n          } catch (syncError: any) {\n            console.error(`[Whop Membership] Failed to sync Pro status:`, syncError?.message);\n          }\n          \n          res.json({\n            hasMembership: false,\n            membershipId: null,\n            status: null,\n            manageUrl: null,\n          });\n        }\n      } catch (error: any) {\n        console.error(\"[Whop Membership] Error fetching membership:\", error?.message);\n        res.status(500).json({ error: \"Could not fetch membership info\" });\n      }\n    } catch (error) {\n      console.error(\"Error getting membership:\", error);\n      res.status(500).json({ error: \"Failed to get membership info\" });\n    }\n  });\n\n  app.get(\"/api/health\", (_req, res) => {\n    res.json({ status: \"ok\" });\n  });\n\n  return httpServer;\n}\n","path":null,"size_bytes":87354,"size_tokens":null},"client/src/components/DailyEnergy.tsx":{"content":"import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { \n  calculateComprehensiveProfile,\n  calculateDailyEnergyScore \n} from '@/lib/numerology';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Check, X, Sparkles, Sun, Zap, Target, Quote } from 'lucide-react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { apiRequest } from '@/lib/queryClient';\n\ninterface DailyEnergyProps {\n  profile: ProfileData;\n}\n\ninterface DailyEnergyResponse {\n  theme: string;\n  description: string;\n  dos: string[];\n  donts: string[];\n  focusArea: string;\n  affirmation: string;\n}\n\nfunction calculatePersonalDay(birthDate: Date): number {\n  const today = new Date();\n  const birthMonth = birthDate.getMonth() + 1;\n  const birthDay = birthDate.getDate();\n  const currentMonth = today.getMonth() + 1;\n  const currentDay = today.getDate();\n  const currentYear = today.getFullYear();\n  \n  let personalYear = birthMonth + birthDay + currentYear;\n  while (personalYear > 9 && personalYear !== 11 && personalYear !== 22 && personalYear !== 33) {\n    personalYear = personalYear.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  let personalMonth = personalYear + currentMonth;\n  while (personalMonth > 9 && personalMonth !== 11 && personalMonth !== 22 && personalMonth !== 33) {\n    personalMonth = personalMonth.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  let personalDay = personalMonth + currentDay;\n  while (personalDay > 9 && personalDay !== 11 && personalDay !== 22 && personalDay !== 33) {\n    personalDay = personalDay.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  return personalDay;\n}\n\nfunction calculateUniversalDay(): number {\n  const today = new Date();\n  const month = today.getMonth() + 1;\n  const day = today.getDate();\n  const year = today.getFullYear();\n  \n  let sum = month + day + year;\n  while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {\n    sum = sum.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  return sum;\n}\n\nexport function DailyEnergy({ profile }: DailyEnergyProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n  \n  const energyScore = calculateDailyEnergyScore(profile.birthDate);\n  const personalDayNumber = calculatePersonalDay(profile.birthDate);\n  const universalDayNumber = calculateUniversalDay();\n  const todayDate = new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' });\n  const todayKey = new Date().toISOString().split('T')[0];\n\n  const [isRevealed, setIsRevealed] = useState(false);\n\n  const aiProfileData = {\n    name: profile.fullName.split(' ')[0],\n    birthDate: profile.birthDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }),\n    lifePathNumber: fullProfile.lifePathNumber,\n    expressionNumber: fullProfile.expressionNumber,\n    soulUrgeNumber: fullProfile.soulUrgeNumber,\n    westernZodiac: fullProfile.westernZodiac.sign,\n    chineseZodiac: fullProfile.chineseZodiac.animal,\n  };\n\n  const { data: existingEnergy, isLoading: isCheckingExisting } = useQuery({\n    queryKey: ['/api/daily-energy', profile.odisId, todayKey],\n    queryFn: async () => {\n      const response = await fetch(`/api/daily-energy/${profile.odisId}/${todayKey}`);\n      if (response.status === 404) {\n        return null;\n      }\n      if (!response.ok) throw new Error('Failed to fetch daily energy');\n      const data = await response.json();\n      return data.energy as DailyEnergyResponse;\n    },\n    staleTime: 1000 * 60 * 60,\n    retry: false,\n  });\n\n  const { data: newEnergy, isLoading: isGenerating, refetch: generateEnergy } = useQuery({\n    queryKey: ['/api/daily-energy/generate', profile.odisId, todayKey],\n    queryFn: async () => {\n      const response = await apiRequest('POST', '/api/daily-energy', {\n        odisId: profile.odisId,\n        profile: aiProfileData,\n        personalDayNumber,\n        universalDayNumber,\n        energyScore,\n        todayDate,\n        date: todayKey,\n      });\n      const data = await response.json();\n      return data.energy as DailyEnergyResponse;\n    },\n    enabled: false,\n    retry: 2,\n  });\n\n  const handleRevealEnergy = async () => {\n    setIsRevealed(true);\n    if (!existingEnergy) {\n      await generateEnergy();\n    }\n  };\n\n  const hasExistingReading = !!existingEnergy;\n  const displayData = existingEnergy || newEnergy;\n  const isLoading = isCheckingExisting || (isRevealed && isGenerating && !displayData);\n\n  const getEnergyLevel = (score: number) => {\n    if (score >= 80) return { label: 'Excellent', color: 'text-green-11', bgColor: 'bg-green-9' };\n    if (score >= 60) return { label: 'Good', color: 'text-amber-11', bgColor: 'bg-amber-9' };\n    if (score >= 40) return { label: 'Moderate', color: 'text-blue-11', bgColor: 'bg-blue-9' };\n    return { label: 'Low', color: 'text-gray-11', bgColor: 'bg-gray-9' };\n  };\n\n  const energyLevel = getEnergyLevel(energyScore);\n  const isPowerDay = energyScore >= 75;\n\n  const shouldShowRevealed = isRevealed || hasExistingReading;\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative h-full\" data-testid=\"card-daily-energy\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-violet-a2 via-transparent to-transparent pointer-events-none\" />\n      \n      <CardContent className=\"relative p-6 sm:p-8 flex flex-col h-full\">\n        <div className=\"flex items-center justify-between gap-4 mb-5\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-12 h-12 rounded-xl bg-gold-gradient flex items-center justify-center flex-shrink-0\">\n              <Sun className=\"w-6 h-6 text-gray-1\" />\n            </div>\n            <div>\n              <h2 className=\"text-5 font-semibold\">Your Daily Energy</h2>\n              <p className=\"text-2 text-gray-10\">\n                {new Date().toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' })}\n              </p>\n            </div>\n          </div>\n          <Badge variant=\"outline\">Day {personalDayNumber}</Badge>\n        </div>\n\n        {!shouldShowRevealed && !isLoading ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center text-center py-8\">\n            <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-amber-a3 to-violet-a3 flex items-center justify-center mb-6\">\n              <Sparkles className=\"w-10 h-10 text-amber-9\" />\n            </div>\n            <h3 className=\"text-5 font-semibold text-gray-12 mb-2\">Your Reading Awaits</h3>\n            <p className=\"text-2 text-gray-10 mb-6 max-w-xs\">\n              Discover your personalized energy forecast for today based on your unique numerology profile.\n            </p>\n            <Button \n              size=\"lg\"\n              onClick={handleRevealEnergy}\n              className=\"bg-gold-gradient text-gray-1 font-semibold\"\n              data-testid=\"button-reveal-energy\"\n            >\n              <Sun className=\"w-5 h-5 mr-2\" />\n              Reveal Today's Energy\n            </Button>\n          </div>\n        ) : isLoading ? (\n          <div className=\"space-y-4 flex-1\">\n            <Skeleton className=\"h-7 w-36\" />\n            <Skeleton className=\"h-5 w-full\" />\n            <Skeleton className=\"h-5 w-3/4\" />\n            <div className=\"pt-4 grid grid-cols-2 gap-4\">\n              <div>\n                <Skeleton className=\"h-5 w-20 mb-3\" />\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-full mt-2\" />\n              </div>\n              <div>\n                <Skeleton className=\"h-5 w-20 mb-3\" />\n                <Skeleton className=\"h-4 w-full\" />\n                <Skeleton className=\"h-4 w-full mt-2\" />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex items-center gap-4 mb-5\">\n              <div className=\"flex-1\">\n                <p className=\"text-2 text-gray-10 mb-1\">Today's Theme</p>\n                <h3 className=\"text-5 font-semibold gradient-text\" data-testid=\"text-daily-theme\">\n                  {displayData?.theme || 'Personal Growth'}\n                </h3>\n              </div>\n              <div className=\"text-center px-5 py-4 rounded-xl bg-gray-a3\">\n                <div className=\"flex items-center justify-center gap-1\">\n                  <Zap className={`w-5 h-5 ${energyLevel.color}`} />\n                  <span className=\"text-5 font-bold\" data-testid=\"text-energy-score\">{energyScore}</span>\n                </div>\n                <p className={`text-1 ${energyLevel.color}`}>{energyLevel.label}</p>\n              </div>\n            </div>\n\n            <div className=\"w-full h-2.5 bg-gray-a3 rounded-full overflow-hidden mb-5\">\n              <div \n                className={`h-full ${energyLevel.bgColor} rounded-full transition-all duration-500`}\n                style={{ width: `${energyScore}%` }}\n              />\n            </div>\n\n            <p className=\"text-3 text-gray-11 mb-5\" data-testid=\"text-daily-description\">\n              {displayData?.description || `Your Personal Day ${personalDayNumber} combines with Universal Day ${universalDayNumber} to create unique opportunities for growth and progress today.`}\n            </p>\n\n            {isPowerDay && (\n              <div className=\"p-4 rounded-xl bg-green-a3 border border-green-6 mb-5 flex items-center gap-3\">\n                <Sparkles className=\"w-5 h-5 text-green-11 flex-shrink-0\" />\n                <p className=\"text-2 text-green-11 font-medium\">Power Day! Your energy is amplified today.</p>\n              </div>\n            )}\n\n            <div className=\"flex items-center gap-3 mb-5 p-3 rounded-xl bg-gray-a3\">\n              <Target className=\"w-5 h-5 text-amber-9\" />\n              <span className=\"text-2 text-gray-11\">Focus Area: <span className=\"font-medium text-gray-12\">{displayData?.focusArea || 'Personal development'}</span></span>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-5 flex-1\">\n              <div>\n                <h4 className=\"text-2 font-medium text-gray-10 mb-3 flex items-center gap-2\">\n                  <Check className=\"w-4 h-4 text-green-9\" />\n                  Do Today\n                </h4>\n                <ul className=\"space-y-2\">\n                  {(displayData?.dos || ['Focus on priorities', 'Stay grounded', 'Trust intuition']).slice(0, 4).map((item, i) => (\n                    <li key={i} className=\"text-2 text-gray-11 flex items-start gap-2\">\n                      <span className=\"text-green-9 mt-0.5\">â€¢</span>\n                      {item}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n\n              <div>\n                <h4 className=\"text-2 font-medium text-gray-10 mb-3 flex items-center gap-2\">\n                  <X className=\"w-4 h-4 text-red-9\" />\n                  Avoid Today\n                </h4>\n                <ul className=\"space-y-2\">\n                  {(displayData?.donts || ['Rushing decisions', 'Overcommitting', 'Ignoring rest']).slice(0, 3).map((item, i) => (\n                    <li key={i} className=\"text-2 text-gray-11 flex items-start gap-2\">\n                      <span className=\"text-red-9 mt-0.5\">â€¢</span>\n                      {item}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"mt-5 pt-5 border-t border-gray-6\">\n              <div className=\"flex items-start gap-3\">\n                <Quote className=\"w-5 h-5 text-violet-9 flex-shrink-0 mt-0.5\" />\n                <p className=\"text-2 text-gray-11 italic\" data-testid=\"text-affirmation\">\n                  \"{displayData?.affirmation || `I trust my Life Path ${fullProfile.lifePathNumber} energy to guide me today.`}\"\n                </p>\n              </div>\n            </div>\n          </>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":12220,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline: \"border border-gray-6 bg-transparent hover:bg-gray-3 hover:text-foreground\",\n        secondary: \"bg-gray-3 text-foreground shadow-sm hover:bg-gray-4\",\n        ghost: \"hover:bg-gray-3 hover:text-foreground\",\n        link: \"text-amber-11 underline-offset-4 hover:underline\",\n        frosted: \"glass glass-hover text-foreground\",\n        gold: \"bg-gold-gradient text-gray-1 font-semibold shadow-md hover:shadow-glow hover:scale-[1.02] active:scale-[0.98]\",\n        hero: \"bg-gold-gradient text-gray-1 font-semibold text-base px-8 py-6 shadow-lg hover:shadow-glow hover:scale-[1.02] active:scale-[0.98]\",\n        glass: \"glass glass-hover text-foreground\",\n        glow: \"bg-amber-3 text-amber-11 border border-amber-6 hover:bg-amber-4 hover:border-amber-7\",\n        soft: \"bg-gray-a3 text-foreground hover:bg-gray-a4\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        xl: \"h-14 rounded-lg px-10 text-base\",\n        icon: \"h-10 w-10\",\n      },\n      color: {\n        default: \"\",\n        blue: \"bg-blue-9 text-white hover:bg-blue-10\",\n        green: \"bg-green-9 text-white hover:bg-green-10\",\n        red: \"bg-red-9 text-white hover:bg-red-10\",\n        amber: \"bg-amber-9 text-gray-1 hover:bg-amber-10\",\n        violet: \"bg-violet-9 text-white hover:bg-violet-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n      color: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, color, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return <Comp className={cn(buttonVariants({ variant, size, color, className }))} ref={ref} {...props} />\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2797,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/NavLink.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { forwardRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useWhopContext } from \"@/context/WhopContext\";\n\ninterface NavLinkProps {\n  to: string;\n  className?: string;\n  activeClassName?: string;\n  children: React.ReactNode;\n  onClick?: () => void;\n  \"data-testid\"?: string;\n}\n\nconst NavLink = forwardRef<HTMLAnchorElement, NavLinkProps>(\n  ({ className, activeClassName, to, children, onClick, ...props }, ref) => {\n    const [location] = useLocation();\n    const { basePath } = useWhopContext();\n    \n    const fullPath = to === '/' ? (basePath || '/') : (basePath + to);\n    \n    const isActive = location === fullPath || \n      (to !== \"/\" && location.startsWith(fullPath)) ||\n      (to === \"/\" && location === basePath);\n\n    return (\n      <Link\n        ref={ref}\n        href={fullPath}\n        className={cn(className, isActive && activeClassName)}\n        onClick={onClick}\n        {...props}\n      >\n        {children}\n      </Link>\n    );\n  },\n);\n\nNavLink.displayName = \"NavLink\";\n\nexport { NavLink };\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/lib/numerology.ts":{"content":"// GG33 Comprehensive Numerology & Astrology Calculation System\n\n// ============================================\n// TYPES & INTERFACES\n// ============================================\n\nexport interface FullProfile {\n  // Core Numbers (from birth date)\n  lifePathNumber: number;\n  attitudeNumber: number;\n  generationNumber: number;\n  dayOfBirthNumber: number;\n  \n  // Name Numbers (from full name)\n  expressionNumber: number;\n  soulUrgeNumber: number;\n  personalityNumber: number;\n  maturityNumber: number;\n  \n  // Astrology\n  chineseZodiac: ChineseZodiac;\n  westernZodiac: WesternZodiac;\n  \n  // Energy\n  energySignature: string;\n  dailyEnergy: number;\n  \n  // Insights\n  personality: PersonalityInsights;\n}\n\nexport interface ChineseZodiac {\n  animal: string;\n  element: string;\n  yinYang: string;\n  traits: string[];\n}\n\nexport interface WesternZodiac {\n  sign: string;\n  element: string;\n  modality: string;\n  rulingPlanet: string;\n}\n\nexport interface PersonalityInsights {\n  paragraph: string;\n  strengths: string[];\n  challenges: string[];\n  bestDays: number[];\n  luckyColors: string[];\n}\n\nexport interface NumerologyProfile {\n  lifePathNumber: number;\n  chineseZodiac: ChineseZodiac;\n  energySignature: string;\n  personality: {\n    strengths: string[];\n    challenges: string[];\n    bestDays: number[];\n    luckyColors: string[];\n  };\n}\n\n// ============================================\n// LETTER TO NUMBER MAPPING (Pythagorean System)\n// ============================================\n\nconst letterValues: Record<string, number> = {\n  'A': 1, 'J': 1, 'S': 1,\n  'B': 2, 'K': 2, 'T': 2,\n  'C': 3, 'L': 3, 'U': 3,\n  'D': 4, 'M': 4, 'V': 4,\n  'E': 5, 'N': 5, 'W': 5,\n  'F': 6, 'O': 6, 'X': 6,\n  'G': 7, 'P': 7, 'Y': 7,\n  'H': 8, 'Q': 8, 'Z': 8,\n  'I': 9, 'R': 9,\n};\n\nconst vowels = ['A', 'E', 'I', 'O', 'U'];\n\n// ============================================\n// CORE REDUCTION FUNCTION\n// ============================================\n\nfunction reduceToSingleDigit(num: number, preserveMasterNumbers = true): number {\n  while (num > 9) {\n    if (preserveMasterNumbers && (num === 11 || num === 22 || num === 33)) {\n      return num;\n    }\n    num = num.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);\n  }\n  return num;\n}\n\n// ============================================\n// LIFE PATH NUMBER (from birth date)\n// ============================================\n\nexport function calculateLifePathNumber(birthDate: Date): number {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  const year = birthDate.getFullYear();\n  \n  // Reduce each component separately first\n  const monthReduced = reduceToSingleDigit(month, true);\n  const dayReduced = reduceToSingleDigit(day, true);\n  const yearReduced = reduceToSingleDigit(\n    year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0),\n    true\n  );\n  \n  // Sum and reduce\n  const total = monthReduced + dayReduced + yearReduced;\n  return reduceToSingleDigit(total, true);\n}\n\n// ============================================\n// EXPRESSION NUMBER (from full name - all letters)\n// ============================================\n\nexport function calculateExpressionNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  \n  let total = 0;\n  for (const letter of cleanName) {\n    total += letterValues[letter] || 0;\n  }\n  \n  return reduceToSingleDigit(total, true);\n}\n\n// ============================================\n// SOUL URGE NUMBER (from vowels only)\n// ============================================\n\nexport function calculateSoulUrgeNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  \n  let total = 0;\n  for (const letter of cleanName) {\n    if (vowels.includes(letter)) {\n      total += letterValues[letter] || 0;\n    }\n  }\n  \n  return reduceToSingleDigit(total, true);\n}\n\n// ============================================\n// PERSONALITY NUMBER (from consonants only)\n// ============================================\n\nexport function calculatePersonalityNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  \n  let total = 0;\n  for (const letter of cleanName) {\n    if (!vowels.includes(letter)) {\n      total += letterValues[letter] || 0;\n    }\n  }\n  \n  return reduceToSingleDigit(total, true);\n}\n\n// ============================================\n// MATURITY NUMBER (Life Path + Expression)\n// ============================================\n\nexport function calculateMaturityNumber(lifePathNumber: number, expressionNumber: number): number {\n  // Use base values for master numbers in calculation\n  const lp = lifePathNumber > 9 ? reduceToSingleDigit(lifePathNumber, false) : lifePathNumber;\n  const exp = expressionNumber > 9 ? reduceToSingleDigit(expressionNumber, false) : expressionNumber;\n  \n  return reduceToSingleDigit(lp + exp, true);\n}\n\n// ============================================\n// ATTITUDE NUMBER (Month + Day of birth)\n// ============================================\n\nexport function calculateAttitudeNumber(birthDate: Date): number {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  \n  const total = month + day;\n  return reduceToSingleDigit(total, true);\n}\n\n// ============================================\n// GENERATION NUMBER (Year of birth reduced)\n// ============================================\n\nexport function calculateGenerationNumber(birthDate: Date): number {\n  const year = birthDate.getFullYear();\n  \n  // Sum all digits of the year\n  const yearSum = year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0);\n  return reduceToSingleDigit(yearSum, true);\n}\n\n// ============================================\n// DAY OF BIRTH NUMBER (Birth day reduced)\n// ============================================\n\nexport function calculateDayOfBirthNumber(birthDate: Date): number {\n  const day = birthDate.getDate();\n  return reduceToSingleDigit(day, true);\n}\n\n// ============================================\n// CHINESE ZODIAC\n// ============================================\n\nconst chineseAnimals = [\n  'Rat', 'Ox', 'Tiger', 'Rabbit', 'Dragon', 'Snake',\n  'Horse', 'Goat', 'Monkey', 'Rooster', 'Dog', 'Pig'\n];\n\nconst chineseElements = ['Wood', 'Fire', 'Earth', 'Metal', 'Water'];\n\nexport function calculateChineseZodiac(birthDate: Date): ChineseZodiac {\n  const year = birthDate.getFullYear();\n  const animalIndex = (year - 4) % 12;\n  const elementIndex = Math.floor((year - 4) % 10 / 2);\n  const yinYang = year % 2 === 0 ? 'Yang' : 'Yin';\n  \n  const animal = chineseAnimals[animalIndex];\n  const element = chineseElements[elementIndex];\n  \n  return {\n    animal,\n    element,\n    yinYang,\n    traits: getAnimalTraits(animal),\n  };\n}\n\nfunction getAnimalTraits(animal: string): string[] {\n  const traits: Record<string, string[]> = {\n    'Rat': ['Clever', 'Quick-witted', 'Resourceful', 'Versatile'],\n    'Ox': ['Diligent', 'Dependable', 'Strong', 'Determined'],\n    'Tiger': ['Brave', 'Confident', 'Competitive', 'Unpredictable'],\n    'Rabbit': ['Gentle', 'Quiet', 'Elegant', 'Kind'],\n    'Dragon': ['Confident', 'Intelligent', 'Enthusiastic', 'Ambitious'],\n    'Snake': ['Enigmatic', 'Intelligent', 'Wise', 'Intuitive'],\n    'Horse': ['Animated', 'Active', 'Energetic', 'Free-spirited'],\n    'Goat': ['Calm', 'Gentle', 'Creative', 'Thoughtful'],\n    'Monkey': ['Sharp', 'Smart', 'Curious', 'Playful'],\n    'Rooster': ['Observant', 'Hardworking', 'Courageous', 'Talented'],\n    'Dog': ['Loyal', 'Honest', 'Helpful', 'Faithful'],\n    'Pig': ['Compassionate', 'Generous', 'Diligent', 'Calm'],\n  };\n  \n  return traits[animal] || ['Mysterious', 'Unique'];\n}\n\n// ============================================\n// WESTERN ZODIAC\n// ============================================\n\ninterface ZodiacInfo {\n  sign: string;\n  element: string;\n  modality: string;\n  rulingPlanet: string;\n  traits: string[];\n}\n\nconst zodiacSigns: ZodiacInfo[] = [\n  { sign: 'Capricorn', element: 'Earth', modality: 'Cardinal', rulingPlanet: 'Saturn', traits: ['Ambitious', 'Disciplined', 'Patient'] },\n  { sign: 'Aquarius', element: 'Air', modality: 'Fixed', rulingPlanet: 'Uranus', traits: ['Innovative', 'Independent', 'Humanitarian'] },\n  { sign: 'Pisces', element: 'Water', modality: 'Mutable', rulingPlanet: 'Neptune', traits: ['Intuitive', 'Compassionate', 'Artistic'] },\n  { sign: 'Aries', element: 'Fire', modality: 'Cardinal', rulingPlanet: 'Mars', traits: ['Bold', 'Ambitious', 'Energetic'] },\n  { sign: 'Taurus', element: 'Earth', modality: 'Fixed', rulingPlanet: 'Venus', traits: ['Reliable', 'Patient', 'Devoted'] },\n  { sign: 'Gemini', element: 'Air', modality: 'Mutable', rulingPlanet: 'Mercury', traits: ['Adaptable', 'Curious', 'Communicative'] },\n  { sign: 'Cancer', element: 'Water', modality: 'Cardinal', rulingPlanet: 'Moon', traits: ['Nurturing', 'Protective', 'Intuitive'] },\n  { sign: 'Leo', element: 'Fire', modality: 'Fixed', rulingPlanet: 'Sun', traits: ['Confident', 'Creative', 'Generous'] },\n  { sign: 'Virgo', element: 'Earth', modality: 'Mutable', rulingPlanet: 'Mercury', traits: ['Analytical', 'Practical', 'Diligent'] },\n  { sign: 'Libra', element: 'Air', modality: 'Cardinal', rulingPlanet: 'Venus', traits: ['Diplomatic', 'Fair', 'Social'] },\n  { sign: 'Scorpio', element: 'Water', modality: 'Fixed', rulingPlanet: 'Pluto', traits: ['Passionate', 'Resourceful', 'Determined'] },\n  { sign: 'Sagittarius', element: 'Fire', modality: 'Mutable', rulingPlanet: 'Jupiter', traits: ['Adventurous', 'Optimistic', 'Philosophical'] },\n];\n\n// Date ranges for zodiac signs (month, day)\nconst zodiacDateRanges: [number, number, number, number][] = [\n  [12, 22, 1, 19],   // Capricorn: Dec 22 - Jan 19\n  [1, 20, 2, 18],    // Aquarius: Jan 20 - Feb 18\n  [2, 19, 3, 20],    // Pisces: Feb 19 - Mar 20\n  [3, 21, 4, 19],    // Aries: Mar 21 - Apr 19\n  [4, 20, 5, 20],    // Taurus: Apr 20 - May 20\n  [5, 21, 6, 20],    // Gemini: May 21 - Jun 20\n  [6, 21, 7, 22],    // Cancer: Jun 21 - Jul 22\n  [7, 23, 8, 22],    // Leo: Jul 23 - Aug 22\n  [8, 23, 9, 22],    // Virgo: Aug 23 - Sep 22\n  [9, 23, 10, 22],   // Libra: Sep 23 - Oct 22\n  [10, 23, 11, 21],  // Scorpio: Oct 23 - Nov 21\n  [11, 22, 12, 21],  // Sagittarius: Nov 22 - Dec 21\n];\n\nexport function calculateWesternZodiac(birthDate: Date): WesternZodiac {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  \n  for (let i = 0; i < zodiacDateRanges.length; i++) {\n    const [startMonth, startDay, endMonth, endDay] = zodiacDateRanges[i];\n    \n    // Handle Capricorn which spans year boundary\n    if (startMonth > endMonth) {\n      if ((month === startMonth && day >= startDay) || (month === endMonth && day <= endDay)) {\n        return zodiacSigns[i];\n      }\n    } else {\n      if ((month === startMonth && day >= startDay) || (month === endMonth && day <= endDay) ||\n          (month > startMonth && month < endMonth)) {\n        return zodiacSigns[i];\n      }\n    }\n  }\n  \n  // Default to Capricorn\n  return zodiacSigns[0];\n}\n\n// ============================================\n// NUMBER MEANINGS\n// ============================================\n\ninterface NumberMeaning {\n  title: string;\n  description: string;\n  strengths: string[];\n  challenges: string[];\n  bestDays: number[];\n  luckyColors: string[];\n  keywords: string[];\n}\n\nconst numberMeanings: Record<number, NumberMeaning> = {\n  1: {\n    title: 'The Pioneer',\n    description: 'Natural-born leaders with original ideas and strong determination. You carve your own path and inspire others to follow.',\n    strengths: ['Leadership', 'Innovation', 'Independence', 'Courage', 'Originality'],\n    challenges: ['Impatience', 'Stubbornness', 'Self-criticism', 'Domineering tendencies'],\n    bestDays: [1, 10, 19, 28],\n    luckyColors: ['Gold', 'Orange', 'Yellow'],\n    keywords: ['Initiative', 'Ambition', 'Individuality'],\n  },\n  2: {\n    title: 'The Diplomat',\n    description: 'Peacemakers with a gift for cooperation and balance. You bring harmony to all situations and excel in partnerships.',\n    strengths: ['Diplomacy', 'Intuition', 'Partnership', 'Sensitivity', 'Cooperation'],\n    challenges: ['Indecision', 'Over-sensitivity', 'Self-doubt', 'Dependency'],\n    bestDays: [2, 11, 20, 29],\n    luckyColors: ['Silver', 'White', 'Light Blue'],\n    keywords: ['Balance', 'Harmony', 'Receptivity'],\n  },\n  3: {\n    title: 'The Communicator',\n    description: 'Creative expressionists who inspire others. Your words and ideas light up the world and bring joy to those around you.',\n    strengths: ['Creativity', 'Self-expression', 'Optimism', 'Joy', 'Charisma'],\n    challenges: ['Scattered energy', 'Superficiality', 'Moodiness', 'Exaggeration'],\n    bestDays: [3, 12, 21, 30],\n    luckyColors: ['Purple', 'Pink', 'Turquoise'],\n    keywords: ['Expression', 'Creativity', 'Sociability'],\n  },\n  4: {\n    title: 'The Builder',\n    description: 'Master organizers who create lasting foundations. You turn dreams into reality through dedication and hard work.',\n    strengths: ['Stability', 'Organization', 'Dedication', 'Practicality', 'Reliability'],\n    challenges: ['Rigidity', 'Stubbornness', 'Limitation', 'Resistance to change'],\n    bestDays: [4, 13, 22, 31],\n    luckyColors: ['Green', 'Brown', 'Blue'],\n    keywords: ['Foundation', 'Structure', 'Discipline'],\n  },\n  5: {\n    title: 'The Freedom Seeker',\n    description: 'Adventurous spirits who embrace change. You thrive on variety and new experiences, bringing excitement wherever you go.',\n    strengths: ['Versatility', 'Adventure', 'Freedom', 'Curiosity', 'Adaptability'],\n    challenges: ['Restlessness', 'Inconsistency', 'Excess', 'Impulsiveness'],\n    bestDays: [5, 14, 23],\n    luckyColors: ['Turquoise', 'Light Blue', 'Silver'],\n    keywords: ['Freedom', 'Change', 'Adventure'],\n  },\n  6: {\n    title: 'The Nurturer',\n    description: 'Compassionate caretakers who create beauty and harmony. Your love heals and your presence brings comfort to all.',\n    strengths: ['Responsibility', 'Love', 'Service', 'Healing', 'Harmony'],\n    challenges: ['Perfectionism', 'Self-sacrifice', 'Control', 'Over-protectiveness'],\n    bestDays: [6, 15, 24],\n    luckyColors: ['Blue', 'Pink', 'Green'],\n    keywords: ['Nurturing', 'Responsibility', 'Domesticity'],\n  },\n  7: {\n    title: 'The Seeker',\n    description: 'Deep thinkers on a spiritual quest for truth. You see beyond the surface and possess profound wisdom.',\n    strengths: ['Analysis', 'Spirituality', 'Wisdom', 'Intuition', 'Research'],\n    challenges: ['Isolation', 'Skepticism', 'Aloofness', 'Overthinking'],\n    bestDays: [7, 16, 25],\n    luckyColors: ['Purple', 'Violet', 'Pearl'],\n    keywords: ['Spirituality', 'Analysis', 'Introspection'],\n  },\n  8: {\n    title: 'The Powerhouse',\n    description: 'Natural achievers with business acumen. You manifest abundance and success through determination and vision.',\n    strengths: ['Ambition', 'Authority', 'Abundance', 'Achievement', 'Executive ability'],\n    challenges: ['Materialism', 'Workaholism', 'Power struggles', 'Ruthlessness'],\n    bestDays: [8, 17, 26],\n    luckyColors: ['Black', 'Dark Blue', 'Brown'],\n    keywords: ['Power', 'Success', 'Material mastery'],\n  },\n  9: {\n    title: 'The Humanitarian',\n    description: 'Old souls with universal compassion. You serve humanity with wisdom and your generosity knows no bounds.',\n    strengths: ['Compassion', 'Wisdom', 'Generosity', 'Idealism', 'Universal love'],\n    challenges: ['Martyrdom', 'Letting go', 'Impracticality', 'Moodiness'],\n    bestDays: [9, 18, 27],\n    luckyColors: ['Gold', 'Red', 'Pink'],\n    keywords: ['Humanitarianism', 'Completion', 'Universal love'],\n  },\n  11: {\n    title: 'The Illuminator',\n    description: 'Master number of spiritual insight and inspiration. You light the way for others with your visionary gifts.',\n    strengths: ['Inspiration', 'Intuition', 'Illumination', 'Vision', 'Spiritual insight'],\n    challenges: ['Nervous energy', 'Self-doubt', 'Impracticality', 'Sensitivity'],\n    bestDays: [11, 22, 29],\n    luckyColors: ['White', 'Silver', 'Gold'],\n    keywords: ['Illumination', 'Inspiration', 'Idealism'],\n  },\n  22: {\n    title: 'The Master Builder',\n    description: 'Master number combining vision with action. You build empires that serve humanity with practical wisdom.',\n    strengths: ['Mastery', 'Vision', 'Practicality', 'Leadership', 'Large-scale achievement'],\n    challenges: ['Overwhelm', 'Self-pressure', 'Extremes', 'Controlling tendencies'],\n    bestDays: [4, 22, 31],\n    luckyColors: ['Gold', 'Coral', 'Cream'],\n    keywords: ['Master Builder', 'Practical idealism', 'Large undertakings'],\n  },\n  33: {\n    title: 'The Master Teacher',\n    description: 'Rarest master number of unconditional love. You uplift all of humanity through selfless service and wisdom.',\n    strengths: ['Healing', 'Blessing', 'Teaching', 'Selflessness', 'Spiritual mastery'],\n    challenges: ['Martyrdom', 'Perfectionism', 'Self-sacrifice', 'Emotional burden'],\n    bestDays: [3, 6, 33],\n    luckyColors: ['Turquoise', 'Pink', 'Gold'],\n    keywords: ['Master Teacher', 'Cosmic parent', 'Selfless service'],\n  },\n};\n\nexport function getLifePathMeaning(number: number): NumberMeaning {\n  return numberMeanings[number] || numberMeanings[9];\n}\n\nexport function getNumberMeaning(number: number): NumberMeaning {\n  return numberMeanings[number] || numberMeanings[9];\n}\n\n// ============================================\n// ENERGY SIGNATURE\n// ============================================\n\nexport function calculateEnergySignature(birthDate: Date): string {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const zodiac = calculateChineseZodiac(birthDate);\n  \n  const energyMap: Record<number, string> = {\n    1: 'Fire Initiator',\n    2: 'Water Harmonizer',\n    3: 'Air Creator',\n    4: 'Earth Stabilizer',\n    5: 'Wind Changer',\n    6: 'Heart Healer',\n    7: 'Mind Seeker',\n    8: 'Power Manifester',\n    9: 'Soul Completer',\n    11: 'Light Bearer',\n    22: 'Reality Architect',\n    33: 'Love Teacher',\n  };\n  \n  return `${zodiac.element} ${energyMap[lifePathNumber] || 'Energy'}`;\n}\n\n// ============================================\n// DAILY ENERGY SCORE\n// ============================================\n\nexport function calculateDailyEnergyScore(birthDate: Date, targetDate: Date = new Date()): number {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const personalYear = calculatePersonalYear(birthDate, targetDate);\n  const personalMonth = calculatePersonalMonth(birthDate, targetDate);\n  const personalDay = calculatePersonalDay(birthDate, targetDate);\n  const universalDay = calculateLifePathNumber(targetDate);\n  \n  // Base score\n  let score = 50;\n  \n  // Life path alignment with universal day\n  if (lifePathNumber === universalDay) score += 20;\n  else if (Math.abs(lifePathNumber - universalDay) <= 2) score += 10;\n  \n  // Personal cycles alignment\n  if (personalDay === lifePathNumber) score += 15;\n  if (personalMonth === lifePathNumber) score += 10;\n  if (personalYear === lifePathNumber) score += 5;\n  \n  // Master number bonus\n  if ([11, 22, 33].includes(universalDay)) score += 5;\n  if ([11, 22, 33].includes(lifePathNumber)) score += 3;\n  \n  // Clamp between 0-100\n  return Math.max(0, Math.min(100, score));\n}\n\nfunction calculatePersonalYear(birthDate: Date, targetDate: Date): number {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  const year = targetDate.getFullYear();\n  \n  return reduceToSingleDigit(month + day + year, true);\n}\n\nfunction calculatePersonalMonth(birthDate: Date, targetDate: Date): number {\n  const personalYear = calculatePersonalYear(birthDate, targetDate);\n  const month = targetDate.getMonth() + 1;\n  \n  return reduceToSingleDigit(personalYear + month, true);\n}\n\nfunction calculatePersonalDay(birthDate: Date, targetDate: Date): number {\n  const personalMonth = calculatePersonalMonth(birthDate, targetDate);\n  const day = targetDate.getDate();\n  \n  return reduceToSingleDigit(personalMonth + day, true);\n}\n\n// ============================================\n// GENERATE PERSONALITY PARAGRAPH\n// ============================================\n\nexport function generatePersonalityParagraph(\n  fullName: string,\n  birthDate: Date\n): string {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const expressionNumber = calculateExpressionNumber(fullName);\n  const soulUrgeNumber = calculateSoulUrgeNumber(fullName);\n  const maturityNumber = calculateMaturityNumber(lifePathNumber, expressionNumber);\n  \n  const lifePathMeaning = getNumberMeaning(lifePathNumber);\n  const expressionMeaning = getNumberMeaning(expressionNumber);\n  const soulUrgeMeaning = getNumberMeaning(soulUrgeNumber);\n  const maturityMeaning = getNumberMeaning(maturityNumber);\n  \n  const firstName = fullName.split(' ')[0];\n  \n  // Build a personalized paragraph\n  let paragraph = `${firstName}'s Life Path Number ${lifePathNumber} suggests a foundational desire for ${lifePathMeaning.keywords.join(', ').toLowerCase()}. `;\n  paragraph += `You are a natural ${lifePathMeaning.title.toLowerCase().replace('the ', '')}, someone who thrives on ${lifePathMeaning.strengths[0].toLowerCase()} and ${lifePathMeaning.strengths[1].toLowerCase()}. `;\n  \n  if ([11, 22, 33].includes(expressionNumber)) {\n    paragraph += `However, the Expression Number ${expressionNumber}, a Master Number, elevates this with a powerful ${expressionMeaning.keywords[0].toLowerCase()} quality. `;\n    paragraph += `You possess a unique ability to bridge the material and spiritual, often having profound insights and a vision for the greater good. `;\n  } else {\n    paragraph += `Your Expression Number ${expressionNumber} reveals how you present yourself to the world through ${expressionMeaning.keywords[0].toLowerCase()} and ${expressionMeaning.strengths[0].toLowerCase()}. `;\n  }\n  \n  paragraph += `Your Soul Urge ${soulUrgeNumber} reinforces a deep craving for ${soulUrgeMeaning.keywords[0].toLowerCase()}, desiring ${soulUrgeMeaning.strengths[0].toLowerCase()} in all endeavors. `;\n  paragraph += `The Maturity Number ${maturityNumber} indicates that as you grow, you will increasingly embody ${maturityMeaning.strengths[0].toLowerCase()}, ${maturityMeaning.strengths[1].toLowerCase()}, and a strong sense of ${maturityMeaning.keywords[0].toLowerCase()}, becoming a pillar of support for others.`;\n  \n  return paragraph;\n}\n\n// ============================================\n// GENERATE COMPREHENSIVE INSIGHTS\n// ============================================\n\nexport function generateComprehensiveInsights(\n  fullName: string,\n  birthDate: Date\n): PersonalityInsights {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const expressionNumber = calculateExpressionNumber(fullName);\n  const soulUrgeNumber = calculateSoulUrgeNumber(fullName);\n  const westernZodiac = calculateWesternZodiac(birthDate);\n  const chineseZodiac = calculateChineseZodiac(birthDate);\n  \n  const lifePathMeaning = getNumberMeaning(lifePathNumber);\n  const expressionMeaning = getNumberMeaning(expressionNumber);\n  const soulUrgeMeaning = getNumberMeaning(soulUrgeNumber);\n  \n  // Get western zodiac traits from the zodiacSigns array\n  const westernZodiacInfo = zodiacSigns.find(z => z.sign === westernZodiac.sign);\n  const westernTraits = westernZodiacInfo?.traits || [];\n  \n  // Combine strengths from multiple sources\n  const allStrengths = [\n    ...lifePathMeaning.strengths.slice(0, 2),\n    ...expressionMeaning.strengths.slice(0, 2),\n    ...soulUrgeMeaning.strengths.slice(0, 1),\n    ...westernTraits.slice(0, 1),\n    ...chineseZodiac.traits.slice(0, 1),\n  ];\n  \n  // Combine challenges\n  const allChallenges = [\n    ...lifePathMeaning.challenges.slice(0, 2),\n    ...expressionMeaning.challenges.slice(0, 2),\n    ...soulUrgeMeaning.challenges.slice(0, 1),\n    `Balancing ${lifePathMeaning.keywords[0]} with ${expressionMeaning.keywords[0]}`,\n    'Potential for overthinking',\n  ];\n  \n  // Generate paragraph\n  const paragraph = generatePersonalityParagraph(fullName, birthDate);\n  \n  // Deduplicate arrays\n  const uniqueStrengths = Array.from(new Set(allStrengths)).slice(0, 7);\n  const uniqueChallenges = Array.from(new Set(allChallenges)).slice(0, 7);\n  const uniqueColors = Array.from(new Set([...lifePathMeaning.luckyColors, ...expressionMeaning.luckyColors.slice(0, 1)]));\n  \n  return {\n    paragraph,\n    strengths: uniqueStrengths,\n    challenges: uniqueChallenges,\n    bestDays: lifePathMeaning.bestDays,\n    luckyColors: uniqueColors,\n  };\n}\n\n// ============================================\n// FULL PROFILE CALCULATION\n// ============================================\n\nexport function calculateFullProfile(birthDate: Date): NumerologyProfile {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const chineseZodiac = calculateChineseZodiac(birthDate);\n  const energySignature = calculateEnergySignature(birthDate);\n  const meaning = getLifePathMeaning(lifePathNumber);\n  \n  return {\n    lifePathNumber,\n    chineseZodiac,\n    energySignature,\n    personality: {\n      strengths: meaning.strengths,\n      challenges: meaning.challenges,\n      bestDays: meaning.bestDays,\n      luckyColors: meaning.luckyColors,\n    },\n  };\n}\n\nexport function calculateComprehensiveProfile(\n  fullName: string,\n  birthDate: Date,\n  birthTime?: string,\n  birthLocation?: string\n): FullProfile {\n  // Core Numbers (from birth date)\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const attitudeNumber = calculateAttitudeNumber(birthDate);\n  const generationNumber = calculateGenerationNumber(birthDate);\n  const dayOfBirthNumber = calculateDayOfBirthNumber(birthDate);\n  \n  // Name Numbers (from full name)\n  const expressionNumber = calculateExpressionNumber(fullName);\n  const soulUrgeNumber = calculateSoulUrgeNumber(fullName);\n  const personalityNumber = calculatePersonalityNumber(fullName);\n  const maturityNumber = calculateMaturityNumber(lifePathNumber, expressionNumber);\n  \n  const chineseZodiac = calculateChineseZodiac(birthDate);\n  const westernZodiac = calculateWesternZodiac(birthDate);\n  \n  const energySignature = calculateEnergySignature(birthDate);\n  const dailyEnergy = calculateDailyEnergyScore(birthDate);\n  \n  const personality = generateComprehensiveInsights(fullName, birthDate);\n  \n  return {\n    // Core Numbers\n    lifePathNumber,\n    attitudeNumber,\n    generationNumber,\n    dayOfBirthNumber,\n    // Name Numbers\n    expressionNumber,\n    soulUrgeNumber,\n    personalityNumber,\n    maturityNumber,\n    // Astrology\n    chineseZodiac,\n    westernZodiac,\n    // Energy\n    energySignature,\n    dailyEnergy,\n    // Insights\n    personality,\n  };\n}\n\n// ============================================\n// DAILY ENERGY (for DailyEnergy component)\n// ============================================\n\nexport function calculateDailyEnergy(date: Date = new Date()): {\n  universalDay: number;\n  theme: string;\n  advice: string;\n  dos: string[];\n  donts: string[];\n} {\n  const dayNumber = calculateLifePathNumber(date);\n  \n  const dailyThemes: Record<number, {\n    theme: string;\n    advice: string;\n    dos: string[];\n    donts: string[];\n  }> = {\n    1: {\n      theme: 'New Beginnings',\n      advice: 'Start fresh projects and take initiative. Your leadership shines today.',\n      dos: ['Launch new ventures', 'Take the lead', 'Set intentions', 'Be assertive'],\n      donts: ['Follow blindly', 'Procrastinate', 'Be passive', 'Doubt yourself'],\n    },\n    2: {\n      theme: 'Cooperation',\n      advice: 'Focus on partnerships and diplomacy. Patience brings rewards.',\n      dos: ['Collaborate', 'Listen deeply', 'Seek balance', 'Show sensitivity'],\n      donts: ['Force outcomes', 'Go it alone', 'Be impatient', 'Ignore details'],\n    },\n    3: {\n      theme: 'Expression',\n      advice: 'Creativity flows freely. Express yourself and spread joy.',\n      dos: ['Create art', 'Socialize', 'Express feelings', 'Play'],\n      donts: ['Suppress creativity', 'Isolate', 'Overthink', 'Be too serious'],\n    },\n    4: {\n      theme: 'Foundation',\n      advice: 'Build solid foundations. Hard work pays off today.',\n      dos: ['Organize', 'Plan ahead', 'Work steadily', 'Be practical'],\n      donts: ['Cut corners', 'Avoid work', 'Be rigid', 'Resist structure'],\n    },\n    5: {\n      theme: 'Change',\n      advice: 'Embrace change and adventure. Freedom brings growth.',\n      dos: ['Try new things', 'Travel', 'Be flexible', 'Take risks'],\n      donts: ['Cling to routine', 'Be reckless', 'Overindulge', 'Fear change'],\n    },\n    6: {\n      theme: 'Love & Service',\n      advice: 'Focus on home, family, and service to others.',\n      dos: ['Nurture relationships', 'Create beauty', 'Help others', 'Balance give/take'],\n      donts: ['Neglect self', 'Control others', 'Perfectionism', 'Martyr yourself'],\n    },\n    7: {\n      theme: 'Reflection',\n      advice: 'Seek inner wisdom. Spiritual insights come through solitude.',\n      dos: ['Meditate', 'Study', 'Trust intuition', 'Seek truth'],\n      donts: ['Avoid introspection', 'Be superficial', 'Isolate too much', 'Overthink'],\n    },\n    8: {\n      theme: 'Achievement',\n      advice: 'Focus on material goals and career advancement.',\n      dos: ['Make deals', 'Lead projects', 'Manifest abundance', 'Assert authority'],\n      donts: ['Abuse power', 'Be greedy', 'Ignore ethics', 'Overwork'],\n    },\n    9: {\n      theme: 'Completion',\n      advice: 'Release what no longer serves you. Give generously.',\n      dos: ['Let go', 'Be charitable', 'Complete projects', 'Forgive'],\n      donts: ['Hold grudges', 'Start new things', 'Be selfish', 'Cling to past'],\n    },\n  };\n  \n  const lookupNumber = dayNumber > 9 ? (dayNumber === 11 ? 2 : dayNumber === 22 ? 4 : 6) : dayNumber;\n  const daily = dailyThemes[lookupNumber] || dailyThemes[1];\n  \n  return {\n    universalDay: dayNumber,\n    ...daily,\n  };\n}\n\n// ============================================\n// COMPATIBILITY - COMPREHENSIVE SYSTEM\n// ============================================\n\nexport interface DimensionScore {\n  score: number;\n  level: 'Low' | 'Moderate' | 'Good' | 'Excellent';\n  person1Value: number;\n  person2Value: number;\n  insight: string;\n}\n\nexport interface ZodiacCompatibility {\n  chineseScore: number;\n  chineseLevel: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent';\n  chineseInsight: string;\n  westernScore: number;\n  westernLevel: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent';\n  westernInsight: string;\n  elementHarmony: string;\n}\n\nexport interface ComprehensiveCompatibility {\n  overallScore: number;\n  level: 'Avoid' | 'Challenging' | 'Neutral' | 'Harmonious' | 'Ideal';\n  description: string;\n  \n  dimensions: {\n    lifePath: DimensionScore;\n    expression: DimensionScore;\n    soulUrge: DimensionScore;\n    personality: DimensionScore;\n    attitude: DimensionScore;\n    dayOfBirth: DimensionScore;\n  };\n  \n  zodiac: ZodiacCompatibility;\n  \n  strengths: string[];\n  challenges: string[];\n  growthOpportunities: string[];\n  communicationTips: string[];\n  \n  person1Profile: FullProfile;\n  person2Profile: FullProfile;\n}\n\n// Life Path compatibility matrix - based on numerology traditions\nconst lifePathCompatibility: Record<number, { ideal: number[]; good: number[]; challenging: number[] }> = {\n  1: { ideal: [3, 5], good: [1, 7, 9], challenging: [4, 6, 8] },\n  2: { ideal: [4, 8], good: [2, 6, 9], challenging: [5, 7] },\n  3: { ideal: [1, 5], good: [3, 6, 9], challenging: [4, 7, 8] },\n  4: { ideal: [2, 8], good: [4, 6, 7], challenging: [1, 3, 5] },\n  5: { ideal: [1, 3], good: [5, 7, 9], challenging: [2, 4, 6] },\n  6: { ideal: [2, 9], good: [3, 4, 6], challenging: [1, 5, 7] },\n  7: { ideal: [4, 5], good: [1, 7, 9], challenging: [2, 3, 6, 8] },\n  8: { ideal: [2, 4], good: [6, 8], challenging: [1, 3, 7, 9] },\n  9: { ideal: [2, 6], good: [1, 3, 5, 9], challenging: [4, 7, 8] },\n  11: { ideal: [2, 6, 9], good: [4, 7, 11], challenging: [1, 5, 8] },\n  22: { ideal: [4, 6, 8], good: [2, 22], challenging: [1, 3, 5, 7] },\n  33: { ideal: [6, 9], good: [2, 3, 33], challenging: [1, 4, 5, 7, 8] },\n};\n\n// Chinese zodiac animal compatibility\nconst chineseAnimalCompatibility: Record<string, { best: string[]; good: string[]; challenging: string[] }> = {\n  'Rat': { best: ['Dragon', 'Monkey'], good: ['Ox', 'Rat', 'Pig'], challenging: ['Horse', 'Rooster'] },\n  'Ox': { best: ['Snake', 'Rooster'], good: ['Rat', 'Ox', 'Rabbit'], challenging: ['Goat', 'Horse', 'Dog'] },\n  'Tiger': { best: ['Horse', 'Dog'], good: ['Dragon', 'Pig'], challenging: ['Monkey', 'Snake'] },\n  'Rabbit': { best: ['Goat', 'Pig'], good: ['Dog', 'Rabbit', 'Ox'], challenging: ['Rooster', 'Dragon'] },\n  'Dragon': { best: ['Rat', 'Monkey'], good: ['Tiger', 'Snake', 'Pig'], challenging: ['Dog', 'Rabbit'] },\n  'Snake': { best: ['Ox', 'Rooster'], good: ['Dragon', 'Horse'], challenging: ['Tiger', 'Pig'] },\n  'Horse': { best: ['Tiger', 'Goat'], good: ['Dog', 'Dragon'], challenging: ['Rat', 'Ox'] },\n  'Goat': { best: ['Rabbit', 'Horse'], good: ['Pig', 'Goat'], challenging: ['Ox', 'Dog', 'Rat'] },\n  'Monkey': { best: ['Rat', 'Dragon'], good: ['Snake', 'Monkey'], challenging: ['Tiger', 'Pig'] },\n  'Rooster': { best: ['Ox', 'Snake'], good: ['Dragon', 'Rooster'], challenging: ['Rabbit', 'Dog', 'Rat'] },\n  'Dog': { best: ['Tiger', 'Rabbit'], good: ['Horse', 'Dog', 'Pig'], challenging: ['Dragon', 'Ox', 'Goat', 'Rooster'] },\n  'Pig': { best: ['Rabbit', 'Goat'], good: ['Tiger', 'Rat', 'Dragon', 'Dog'], challenging: ['Snake', 'Monkey'] },\n};\n\n// Western zodiac element compatibility\nconst westernElementCompatibility: Record<string, { harmonious: string[]; neutral: string[]; challenging: string[] }> = {\n  'Fire': { harmonious: ['Fire', 'Air'], neutral: ['Earth'], challenging: ['Water'] },\n  'Earth': { harmonious: ['Earth', 'Water'], neutral: ['Fire'], challenging: ['Air'] },\n  'Air': { harmonious: ['Air', 'Fire'], neutral: ['Water'], challenging: ['Earth'] },\n  'Water': { harmonious: ['Water', 'Earth'], neutral: ['Air'], challenging: ['Fire'] },\n};\n\n// Western zodiac modality compatibility\nconst westernModalityCompatibility: Record<string, { harmonious: string[]; challenging: string[] }> = {\n  'Cardinal': { harmonious: ['Fixed', 'Mutable'], challenging: ['Cardinal'] },\n  'Fixed': { harmonious: ['Cardinal', 'Mutable'], challenging: ['Fixed'] },\n  'Mutable': { harmonious: ['Cardinal', 'Fixed'], challenging: ['Mutable'] },\n};\n\nfunction calculateNumberCompatibility(num1: number, num2: number, context: string): DimensionScore {\n  // Normalize master numbers for comparison\n  const n1 = num1 > 9 ? (num1 === 11 ? 2 : num1 === 22 ? 4 : 6) : num1;\n  const n2 = num2 > 9 ? (num2 === 11 ? 2 : num2 === 22 ? 4 : 6) : num2;\n  \n  const compat = lifePathCompatibility[num1] || lifePathCompatibility[n1];\n  \n  let score = 50;\n  let level: 'Low' | 'Moderate' | 'Good' | 'Excellent' = 'Moderate';\n  \n  if (num1 === num2) {\n    score = 85;\n    level = 'Excellent';\n  } else if (compat?.ideal.includes(num2) || compat?.ideal.includes(n2)) {\n    score = 90;\n    level = 'Excellent';\n  } else if (compat?.good.includes(num2) || compat?.good.includes(n2)) {\n    score = 70;\n    level = 'Good';\n  } else if (compat?.challenging.includes(num2) || compat?.challenging.includes(n2)) {\n    score = 35;\n    level = 'Low';\n  }\n  \n  const insights = getNumberCompatibilityInsight(num1, num2, context, level);\n  \n  return {\n    score,\n    level,\n    person1Value: num1,\n    person2Value: num2,\n    insight: insights,\n  };\n}\n\nfunction getNumberCompatibilityInsight(num1: number, num2: number, context: string, level: string): string {\n  const contextInsights: Record<string, Record<string, string>> = {\n    lifePath: {\n      'Excellent': `Your life purposes are deeply aligned. Both paths support each other's growth.`,\n      'Good': `Your life directions complement each other with room for mutual growth.`,\n      'Moderate': `Different life paths can bring new perspectives and learning opportunities.`,\n      'Low': `Your life directions may sometimes pull in different ways. Conscious effort needed.`,\n    },\n    expression: {\n      'Excellent': `Your communication styles are naturally in sync. Easy expression together.`,\n      'Good': `You communicate well with some adaptation. Understanding comes naturally.`,\n      'Moderate': `Different expression styles can enrich conversations with effort.`,\n      'Low': `Communication may require patience. Learn each other's language.`,\n    },\n    soulUrge: {\n      'Excellent': `Your hearts desire the same things. Deep emotional connection likely.`,\n      'Good': `Your inner desires are compatible. Emotional understanding flows well.`,\n      'Moderate': `Different inner motivations can create depth when understood.`,\n      'Low': `Your heart's desires differ. Respecting each other's needs is essential.`,\n    },\n    personality: {\n      'Excellent': `You present yourselves to the world similarly. Natural social harmony.`,\n      'Good': `Your outer personalities complement each other well in social settings.`,\n      'Moderate': `Different social styles can balance each other out.`,\n      'Low': `Your public personas may sometimes clash. Embrace the differences.`,\n    },\n    attitude: {\n      'Excellent': `Your daily approaches to life are beautifully aligned.`,\n      'Good': `Your attitudes complement each other in day-to-day interactions.`,\n      'Moderate': `Different daily rhythms can work with understanding.`,\n      'Low': `Your daily approaches differ. Finding common ground is key.`,\n    },\n    dayOfBirth: {\n      'Excellent': `Your natural talents and birth energies harmonize wonderfully.`,\n      'Good': `Your birth day energies support and enhance each other.`,\n      'Moderate': `Different birth energies bring variety to the relationship.`,\n      'Low': `Your birth energies may create friction. Awareness helps.`,\n    },\n  };\n  \n  return contextInsights[context]?.[level] || `Compatibility is ${level.toLowerCase()} in this dimension.`;\n}\n\nfunction calculateChineseZodiacCompatibility(z1: ChineseZodiac, z2: ChineseZodiac): { score: number; level: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent'; insight: string } {\n  const compat = chineseAnimalCompatibility[z1.animal];\n  \n  let score = 50;\n  let level: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent' = 'Neutral';\n  let insight = '';\n  \n  // Animal compatibility\n  if (z1.animal === z2.animal) {\n    score = 75;\n    level = 'Harmonious';\n    insight = `Two ${z1.animal}s understand each other's nature deeply.`;\n  } else if (compat?.best.includes(z2.animal)) {\n    score = 90;\n    level = 'Excellent';\n    insight = `${z1.animal} and ${z2.animal} are traditionally considered ideal partners in Chinese astrology.`;\n  } else if (compat?.good.includes(z2.animal)) {\n    score = 70;\n    level = 'Harmonious';\n    insight = `${z1.animal} and ${z2.animal} share a natural affinity and supportive energy.`;\n  } else if (compat?.challenging.includes(z2.animal)) {\n    score = 35;\n    level = 'Challenging';\n    insight = `${z1.animal} and ${z2.animal} may experience some friction, but this creates growth opportunities.`;\n  } else {\n    insight = `${z1.animal} and ${z2.animal} have a balanced, neutral relationship.`;\n  }\n  \n  // Element bonus\n  const elementCompat: Record<string, string[]> = {\n    'Wood': ['Water', 'Fire'],\n    'Fire': ['Wood', 'Earth'],\n    'Earth': ['Fire', 'Metal'],\n    'Metal': ['Earth', 'Water'],\n    'Water': ['Metal', 'Wood'],\n  };\n  \n  if (z1.element === z2.element) {\n    score += 5;\n  } else if (elementCompat[z1.element]?.includes(z2.element)) {\n    score += 10;\n  }\n  \n  score = Math.min(100, score);\n  \n  return { score, level, insight };\n}\n\nfunction calculateWesternZodiacCompatibility(z1: WesternZodiac, z2: WesternZodiac): { score: number; level: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent'; insight: string } {\n  let score = 50;\n  let level: 'Challenging' | 'Neutral' | 'Harmonious' | 'Excellent' = 'Neutral';\n  \n  const elemCompat = westernElementCompatibility[z1.element];\n  const modCompat = westernModalityCompatibility[z1.modality];\n  \n  // Element compatibility\n  if (z1.element === z2.element) {\n    score += 15;\n  } else if (elemCompat?.harmonious.includes(z2.element)) {\n    score += 25;\n  } else if (elemCompat?.challenging.includes(z2.element)) {\n    score -= 10;\n  }\n  \n  // Modality compatibility\n  if (modCompat?.harmonious.includes(z2.modality)) {\n    score += 15;\n  } else if (modCompat?.challenging.includes(z2.modality)) {\n    score -= 5;\n  }\n  \n  // Same sign bonus\n  if (z1.sign === z2.sign) {\n    score += 10;\n  }\n  \n  score = Math.max(0, Math.min(100, score));\n  \n  if (score >= 80) level = 'Excellent';\n  else if (score >= 60) level = 'Harmonious';\n  else if (score >= 40) level = 'Neutral';\n  else level = 'Challenging';\n  \n  const insight = z1.sign === z2.sign\n    ? `Two ${z1.sign}s share the same cosmic DNA and understand each other intuitively.`\n    : `${z1.sign} (${z1.element}/${z1.modality}) and ${z2.sign} (${z2.element}/${z2.modality}) ${\n        level === 'Excellent' ? 'create a powerful cosmic harmony.' :\n        level === 'Harmonious' ? 'flow together naturally.' :\n        level === 'Neutral' ? 'bring different but balanced energies.' :\n        'may need to work on understanding their different cosmic rhythms.'\n      }`;\n  \n  return { score, level, insight };\n}\n\nfunction generateStrengths(dimensions: ComprehensiveCompatibility['dimensions'], zodiac: ZodiacCompatibility): string[] {\n  const strengths: string[] = [];\n  \n  if (dimensions.lifePath.level === 'Excellent' || dimensions.lifePath.level === 'Good') {\n    strengths.push('Aligned life purposes create a strong foundation');\n  }\n  if (dimensions.soulUrge.level === 'Excellent' || dimensions.soulUrge.level === 'Good') {\n    strengths.push('Deep emotional understanding and shared inner values');\n  }\n  if (dimensions.expression.level === 'Excellent' || dimensions.expression.level === 'Good') {\n    strengths.push('Natural communication flow and mutual understanding');\n  }\n  if (dimensions.personality.level === 'Excellent' || dimensions.personality.level === 'Good') {\n    strengths.push('Harmonious social presence as a pair');\n  }\n  if (dimensions.attitude.level === 'Excellent' || dimensions.attitude.level === 'Good') {\n    strengths.push('Compatible daily rhythms and approaches');\n  }\n  if (zodiac.chineseLevel === 'Excellent' || zodiac.chineseLevel === 'Harmonious') {\n    strengths.push('Favorable Chinese zodiac pairing');\n  }\n  if (zodiac.westernLevel === 'Excellent' || zodiac.westernLevel === 'Harmonious') {\n    strengths.push('Cosmic harmony in Western astrology');\n  }\n  \n  if (strengths.length === 0) {\n    strengths.push('Opportunity for growth through differences');\n  }\n  \n  return strengths.slice(0, 5);\n}\n\nfunction generateChallenges(dimensions: ComprehensiveCompatibility['dimensions'], zodiac: ZodiacCompatibility): string[] {\n  const challenges: string[] = [];\n  \n  if (dimensions.lifePath.level === 'Low') {\n    challenges.push('Life directions may pull in different ways');\n  }\n  if (dimensions.soulUrge.level === 'Low') {\n    challenges.push('Inner desires and emotional needs differ');\n  }\n  if (dimensions.expression.level === 'Low') {\n    challenges.push('Communication styles require adaptation');\n  }\n  if (dimensions.personality.level === 'Low') {\n    challenges.push('Social approaches may sometimes clash');\n  }\n  if (dimensions.attitude.level === 'Low') {\n    challenges.push('Daily rhythms and habits may differ');\n  }\n  if (zodiac.chineseLevel === 'Challenging') {\n    challenges.push('Chinese zodiac indicates friction areas');\n  }\n  if (zodiac.westernLevel === 'Challenging') {\n    challenges.push('Elemental energies require balance');\n  }\n  \n  return challenges.slice(0, 4);\n}\n\nfunction generateGrowthOpportunities(dimensions: ComprehensiveCompatibility['dimensions']): string[] {\n  const opportunities: string[] = [];\n  \n  if (dimensions.lifePath.level === 'Moderate' || dimensions.lifePath.level === 'Low') {\n    opportunities.push('Learn to appreciate different life approaches');\n  }\n  if (dimensions.expression.level === 'Moderate' || dimensions.expression.level === 'Low') {\n    opportunities.push('Develop new communication skills together');\n  }\n  if (dimensions.soulUrge.level === 'Moderate' || dimensions.soulUrge.level === 'Low') {\n    opportunities.push('Explore each other\\'s emotional depths');\n  }\n  if (dimensions.personality.level === 'Moderate' || dimensions.personality.level === 'Low') {\n    opportunities.push('Expand social horizons through different perspectives');\n  }\n  \n  opportunities.push('Use differences as teachers for personal growth');\n  opportunities.push('Build bridges through patience and understanding');\n  \n  return opportunities.slice(0, 4);\n}\n\nfunction generateCommunicationTips(p1: FullProfile, p2: FullProfile): string[] {\n  const tips: string[] = [];\n  \n  // Based on Expression numbers\n  const exp1 = p1.expressionNumber;\n  const exp2 = p2.expressionNumber;\n  \n  if (exp1 === 1 || exp2 === 1) {\n    tips.push('Give space for individual expression and leadership');\n  }\n  if (exp1 === 2 || exp2 === 2) {\n    tips.push('Practice active listening and create safe spaces for sharing');\n  }\n  if (exp1 === 3 || exp2 === 3) {\n    tips.push('Use creativity and humor to lighten conversations');\n  }\n  if (exp1 === 4 || exp2 === 4) {\n    tips.push('Be practical and clear when discussing important matters');\n  }\n  if (exp1 === 5 || exp2 === 5) {\n    tips.push('Keep communication fresh and avoid routine');\n  }\n  if (exp1 === 6 || exp2 === 6) {\n    tips.push('Show care and concern in your words');\n  }\n  if (exp1 === 7 || exp2 === 7) {\n    tips.push('Allow time for reflection before expecting responses');\n  }\n  if (exp1 === 8 || exp2 === 8) {\n    tips.push('Be direct but tactful about practical matters');\n  }\n  if (exp1 === 9 || exp2 === 9) {\n    tips.push('Connect through shared ideals and bigger picture discussions');\n  }\n  \n  tips.push('Acknowledge and validate different communication styles');\n  \n  return tips.slice(0, 4);\n}\n\nexport function calculateComprehensiveCompatibility(\n  name1: string,\n  date1: Date,\n  name2: string,\n  date2: Date\n): ComprehensiveCompatibility {\n  // Calculate full profiles for both\n  const p1 = calculateComprehensiveProfile(name1, date1);\n  const p2 = calculateComprehensiveProfile(name2, date2);\n  \n  // Calculate dimension scores\n  const dimensions = {\n    lifePath: calculateNumberCompatibility(p1.lifePathNumber, p2.lifePathNumber, 'lifePath'),\n    expression: calculateNumberCompatibility(p1.expressionNumber, p2.expressionNumber, 'expression'),\n    soulUrge: calculateNumberCompatibility(p1.soulUrgeNumber, p2.soulUrgeNumber, 'soulUrge'),\n    personality: calculateNumberCompatibility(p1.personalityNumber, p2.personalityNumber, 'personality'),\n    attitude: calculateNumberCompatibility(p1.attitudeNumber, p2.attitudeNumber, 'attitude'),\n    dayOfBirth: calculateNumberCompatibility(p1.dayOfBirthNumber, p2.dayOfBirthNumber, 'dayOfBirth'),\n  };\n  \n  // Calculate zodiac compatibility\n  const chineseCompat = calculateChineseZodiacCompatibility(p1.chineseZodiac, p2.chineseZodiac);\n  const westernCompat = calculateWesternZodiacCompatibility(p1.westernZodiac, p2.westernZodiac);\n  \n  const zodiac: ZodiacCompatibility = {\n    chineseScore: chineseCompat.score,\n    chineseLevel: chineseCompat.level,\n    chineseInsight: chineseCompat.insight,\n    westernScore: westernCompat.score,\n    westernLevel: westernCompat.level,\n    westernInsight: westernCompat.insight,\n    elementHarmony: `${p1.chineseZodiac.element} meets ${p2.chineseZodiac.element}`,\n  };\n  \n  // Calculate weighted overall score\n  const weights = {\n    lifePath: 0.25,\n    expression: 0.15,\n    soulUrge: 0.20,\n    personality: 0.10,\n    attitude: 0.10,\n    dayOfBirth: 0.05,\n    chinese: 0.10,\n    western: 0.05,\n  };\n  \n  const overallScore = Math.round(\n    dimensions.lifePath.score * weights.lifePath +\n    dimensions.expression.score * weights.expression +\n    dimensions.soulUrge.score * weights.soulUrge +\n    dimensions.personality.score * weights.personality +\n    dimensions.attitude.score * weights.attitude +\n    dimensions.dayOfBirth.score * weights.dayOfBirth +\n    zodiac.chineseScore * weights.chinese +\n    zodiac.westernScore * weights.western\n  );\n  \n  // Determine overall level\n  let level: 'Avoid' | 'Challenging' | 'Neutral' | 'Harmonious' | 'Ideal';\n  if (overallScore < 30) level = 'Avoid';\n  else if (overallScore < 45) level = 'Challenging';\n  else if (overallScore < 60) level = 'Neutral';\n  else if (overallScore < 80) level = 'Harmonious';\n  else level = 'Ideal';\n  \n  const descriptions: Record<typeof level, string> = {\n    'Avoid': 'This pairing presents significant challenges that require careful navigation. Growth is possible but demands conscious effort and mutual understanding.',\n    'Challenging': 'There are friction points in this relationship, but they offer valuable opportunities for personal growth. Patience and open communication are essential.',\n    'Neutral': 'A balanced connection with potential in both directions. Your compatibility depends greatly on how you choose to navigate your differences.',\n    'Harmonious': 'Your energies flow together naturally. This pairing supports mutual growth and understanding, with natural resonance in key areas.',\n    'Ideal': 'Exceptional alignment across multiple dimensions! Your energies amplify each other\\'s strengths, creating a powerful and supportive connection.',\n  };\n  \n  return {\n    overallScore,\n    level,\n    description: descriptions[level],\n    dimensions,\n    zodiac,\n    strengths: generateStrengths(dimensions, zodiac),\n    challenges: generateChallenges(dimensions, zodiac),\n    growthOpportunities: generateGrowthOpportunities(dimensions),\n    communicationTips: generateCommunicationTips(p1, p2),\n    person1Profile: p1,\n    person2Profile: p2,\n  };\n}\n\n// Keep the simple compatibility function for backward compatibility\nexport function calculateCompatibility(date1: Date, date2: Date): {\n  score: number;\n  level: 'Avoid' | 'Challenging' | 'Neutral' | 'Harmonious' | 'Ideal';\n  description: string;\n  strengths: string[];\n  challenges: string[];\n} {\n  const result = calculateComprehensiveCompatibility('Person 1', date1, 'Person 2', date2);\n  return {\n    score: result.overallScore,\n    level: result.level,\n    description: result.description,\n    strengths: result.strengths,\n    challenges: result.challenges,\n  };\n}\n","path":null,"size_bytes":50397,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-h-[90vh] overflow-y-auto\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3877,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"server/db.ts":{"content":"import mongoose from \"mongoose\";\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\nif (!MONGODB_URI) {\n  console.warn(\"MONGODB_URI not set - database features will be disabled\");\n}\n\nlet isConnected = false;\n\nexport async function connectDB(): Promise<boolean> {\n  if (!MONGODB_URI) {\n    return false;\n  }\n\n  if (isConnected) {\n    return true;\n  }\n\n  try {\n    await mongoose.connect(MONGODB_URI);\n    isConnected = true;\n    console.log(\"Connected to MongoDB\");\n    return true;\n  } catch (error) {\n    console.error(\"Failed to connect to MongoDB:\", error);\n    return false;\n  }\n}\n\n// User Profile Schema - stores all user profile data\nconst userSchema = new mongoose.Schema({\n  odisId: { type: String, required: true, unique: true, index: true },\n  whopUserId: { type: String, sparse: true, index: true },\n  whopUsername: { type: String },\n  whopProfilePictureUrl: { type: String },\n  whopAccessLevel: { type: String, enum: ['customer', 'admin', 'no_access'] },\n  fullName: { type: String, required: true },\n  birthDate: { type: Date, required: true },\n  birthTime: { type: String },\n  birthLocation: { type: String },\n  isPro: { type: Boolean, default: false },\n  proPaymentReceiptId: { type: String, sparse: true, index: true },\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now },\n});\n\nuserSchema.pre(\"save\", function() {\n  this.updatedAt = new Date();\n});\n\nexport const UserModel = mongoose.model(\"User\", userSchema);\n\n// Daily Energy Reading Schema - stores AI-generated daily readings\nconst dailyEnergySchema = new mongoose.Schema({\n  odisId: { type: String, required: true, index: true },\n  date: { type: String, required: true },\n  personalDayNumber: { type: Number, required: true },\n  universalDayNumber: { type: Number, required: true },\n  energyScore: { type: Number, required: true },\n  theme: { type: String, required: true },\n  description: { type: String, required: true },\n  dos: [{ type: String }],\n  donts: [{ type: String }],\n  focusArea: { type: String, required: true },\n  affirmation: { type: String, required: true },\n  createdAt: { type: Date, default: Date.now },\n});\n\ndailyEnergySchema.index({ odisId: 1, date: 1 }, { unique: true });\n\nexport const DailyEnergyModel = mongoose.model(\"DailyEnergy\", dailyEnergySchema);\n\n// Personality Insights Schema - stores AI-generated personality analysis\nconst personalityInsightSchema = new mongoose.Schema({\n  odisId: { type: String, required: true, index: true },\n  overview: { type: String, required: true },\n  strengths: [{ type: String }],\n  challenges: [{ type: String }],\n  lifeLesson: { type: String, required: true },\n  careerPaths: [{ type: String }],\n  relationshipStyle: { type: String, required: true },\n  spiritualGifts: [{ type: String }],\n  profileSnapshot: {\n    fullName: String,\n    birthDate: String,\n    lifePathNumber: Number,\n    expressionNumber: Number,\n    soulUrgeNumber: Number,\n    westernZodiac: String,\n    chineseZodiac: String,\n  },\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now },\n});\n\nexport const PersonalityInsightModel = mongoose.model(\"PersonalityInsight\", personalityInsightSchema);\n\n// TypeScript interfaces\nexport interface DBUser {\n  id: string;\n  odisId: string;\n  whopUserId?: string | null;\n  whopUsername?: string | null;\n  whopProfilePictureUrl?: string | null;\n  whopAccessLevel?: 'customer' | 'admin' | 'no_access' | null;\n  fullName: string;\n  birthDate: Date;\n  birthTime?: string | null;\n  birthLocation?: string | null;\n  isPro: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface DBDailyEnergy {\n  id: string;\n  odisId: string;\n  date: string;\n  personalDayNumber: number;\n  universalDayNumber: number;\n  energyScore: number;\n  theme: string;\n  description: string;\n  dos: string[];\n  donts: string[];\n  focusArea: string;\n  affirmation: string;\n  createdAt: Date;\n}\n\nexport interface DBPersonalityInsight {\n  id: string;\n  odisId: string;\n  overview: string;\n  strengths: string[];\n  challenges: string[];\n  lifeLesson: string;\n  careerPaths: string[];\n  relationshipStyle: string;\n  spiritualGifts: string[];\n  profileSnapshot: {\n    fullName?: string | null;\n    birthDate?: string | null;\n    lifePathNumber?: number | null;\n    expressionNumber?: number | null;\n    soulUrgeNumber?: number | null;\n    westernZodiac?: string | null;\n    chineseZodiac?: string | null;\n  };\n  createdAt: Date;\n  updatedAt: Date;\n}\n","path":null,"size_bytes":4445,"size_tokens":null},"client/src/components/LoadingScreen.tsx":{"content":"import { useState, useEffect, useRef } from 'react';\nimport { Sparkles, Star, Moon, Sun, Zap } from 'lucide-react';\nimport { calculateComprehensiveProfile } from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\n\ninterface LoadingScreenProps {\n  onComplete: () => void;\n  profile?: ProfileData;\n}\n\nconst PERSONALITY_CACHE_KEY = 'gg33-personality-insights';\nconst DAILY_ENERGY_CACHE_KEY = 'gg33-daily-energy';\n\nconst loadingStages = [\n  { message: 'Mapping your numerology grid...', icon: Star, duration: 800 },\n  { message: 'Calculating your cosmic signature...', icon: Sparkles, duration: 900 },\n  { message: 'Generating your personal insights...', icon: Zap, duration: 1500 },\n  { message: 'Charting your daily energy...', icon: Moon, duration: 1500 },\n  { message: 'Finalizing your profile...', icon: Sun, duration: 500 },\n];\n\n// Calculate personal day number\nfunction calculatePersonalDay(birthDate: Date): number {\n  const today = new Date();\n  const birthMonth = birthDate.getMonth() + 1;\n  const birthDay = birthDate.getDate();\n  const currentMonth = today.getMonth() + 1;\n  const currentDay = today.getDate();\n  const currentYear = today.getFullYear();\n  \n  let personalYear = birthMonth + birthDay + currentYear;\n  while (personalYear > 9 && personalYear !== 11 && personalYear !== 22 && personalYear !== 33) {\n    personalYear = personalYear.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  let personalMonth = personalYear + currentMonth;\n  while (personalMonth > 9 && personalMonth !== 11 && personalMonth !== 22 && personalMonth !== 33) {\n    personalMonth = personalMonth.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  let personalDay = personalMonth + currentDay;\n  while (personalDay > 9 && personalDay !== 11 && personalDay !== 22 && personalDay !== 33) {\n    personalDay = personalDay.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  \n  return personalDay;\n}\n\n// Calculate universal day number\nfunction calculateUniversalDay(): number {\n  const today = new Date();\n  const month = today.getMonth() + 1;\n  const day = today.getDate();\n  const year = today.getFullYear();\n  \n  let sum = month + day + year;\n  while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {\n    sum = sum.toString().split('').reduce((a, b) => a + parseInt(b), 0);\n  }\n  return sum;\n}\n\nexport function LoadingScreen({ onComplete, profile }: LoadingScreenProps) {\n  const [currentStage, setCurrentStage] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [aiReady, setAiReady] = useState(false);\n  const aiGenerationStarted = useRef(false);\n\n  // Generate AI insights when profile is available\n  useEffect(() => {\n    if (!profile || aiGenerationStarted.current) return;\n    aiGenerationStarted.current = true;\n\n    const generateInsights = async () => {\n      const todayKey = new Date().toISOString().split('T')[0];\n      \n      // Check if we already have cached data for THIS specific odisId - if so, skip generation\n      try {\n        const cachedPersonality = localStorage.getItem(PERSONALITY_CACHE_KEY);\n        const cachedDaily = localStorage.getItem(DAILY_ENERGY_CACHE_KEY);\n        \n        if (cachedPersonality && cachedDaily) {\n          const personality = JSON.parse(cachedPersonality);\n          const daily = JSON.parse(cachedDaily);\n          \n          // Cache key MUST include odisId to avoid false matches after reset\n          const expectedProfileKey = `${profile.odisId}-${profile.fullName}`;\n          const expectedDailyKey = `${profile.odisId}-${todayKey}`;\n          \n          if (personality.profileKey === expectedProfileKey && daily.cacheKey === expectedDailyKey) {\n            setAiReady(true);\n            return;\n          }\n        }\n      } catch (e) {\n        // If cache check fails, continue with generation\n      }\n\n      const fullProfile = calculateComprehensiveProfile(\n        profile.fullName,\n        profile.birthDate,\n        profile.birthTime,\n        profile.birthLocation\n      );\n\n      const personalDayNumber = calculatePersonalDay(profile.birthDate);\n      const universalDayNumber = calculateUniversalDay();\n      const todayDate = new Date().toLocaleDateString('en-US', { \n        weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' \n      });\n\n      const aiProfileData = {\n        name: profile.fullName.split(' ')[0],\n        birthDate: profile.birthDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }),\n        lifePathNumber: fullProfile.lifePathNumber,\n        expressionNumber: fullProfile.expressionNumber,\n        soulUrgeNumber: fullProfile.soulUrgeNumber,\n        personalityNumber: fullProfile.personalityNumber,\n        maturityNumber: fullProfile.maturityNumber,\n        westernZodiac: fullProfile.westernZodiac.sign,\n        westernElement: fullProfile.westernZodiac.element,\n        chineseZodiac: fullProfile.chineseZodiac.animal,\n        chineseElement: fullProfile.chineseZodiac.element,\n      };\n\n      try {\n        // Generate and save personality insights to database\n        const personalityRes = await fetch('/api/personality', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            odisId: profile.odisId,\n            profile: aiProfileData,\n          }),\n        });\n        if (personalityRes.ok) {\n          const personalityData = await personalityRes.json();\n          localStorage.setItem(PERSONALITY_CACHE_KEY, JSON.stringify({\n            data: personalityData.insight || personalityData,\n            profileKey: `${profile.odisId}-${profile.fullName}`,\n          }));\n        }\n\n        // Generate and save daily energy to database\n        const dailyRes = await fetch('/api/daily-energy', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            odisId: profile.odisId,\n            profile: aiProfileData,\n            personalDayNumber,\n            universalDayNumber,\n            energyScore: 50,\n            todayDate,\n            date: todayKey,\n          }),\n        });\n        if (dailyRes.ok) {\n          const dailyData = await dailyRes.json();\n          localStorage.setItem(DAILY_ENERGY_CACHE_KEY, JSON.stringify({\n            data: dailyData.energy || dailyData,\n            cacheKey: `${profile.odisId}-${todayKey}`,\n          }));\n        }\n      } catch (error) {\n        console.error('Error generating AI insights:', error);\n      } finally {\n        // Always set aiReady to true, even if AI calls fail\n        // This prevents the loading screen from hanging\n        setAiReady(true);\n      }\n    };\n\n    generateInsights();\n  }, [profile]);\n\n  useEffect(() => {\n    const totalDuration = loadingStages.reduce((sum, s) => sum + s.duration, 0);\n    let elapsed = 0;\n\n    const interval = setInterval(() => {\n      elapsed += 50;\n      const newProgress = Math.min((elapsed / totalDuration) * 100, 100);\n      setProgress(newProgress);\n\n      // Calculate current stage\n      let accumulatedDuration = 0;\n      for (let i = 0; i < loadingStages.length; i++) {\n        accumulatedDuration += loadingStages[i].duration;\n        if (elapsed < accumulatedDuration) {\n          setCurrentStage(i);\n          break;\n        }\n      }\n\n      // Only complete when both animation is done AND AI is ready (or no profile)\n      if (elapsed >= totalDuration) {\n        clearInterval(interval);\n        if (!profile || aiReady) {\n          setTimeout(onComplete, 300);\n        }\n      }\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, [onComplete, profile, aiReady]);\n\n  // If animation is done but AI is still loading, wait for AI\n  useEffect(() => {\n    if (progress >= 100 && aiReady && profile) {\n      setTimeout(onComplete, 300);\n    }\n  }, [progress, aiReady, onComplete, profile]);\n\n  const stage = loadingStages[currentStage];\n  const StageIcon = stage.icon;\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-background\"\n      data-testid=\"loading-screen\"\n    >\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -top-1/4 -left-1/4 w-1/2 h-1/2 bg-amber-a3 rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute -bottom-1/4 -right-1/4 w-1/2 h-1/2 bg-violet-a3 rounded-full blur-3xl animate-pulse\" style={{ animationDelay: '0.5s' }} />\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1/3 h-1/3 bg-amber-a2 rounded-full blur-3xl animate-pulse\" style={{ animationDelay: '1s' }} />\n      </div>\n\n      <div className=\"relative z-10 text-center space-y-8 px-4 max-w-md\">\n        <div className=\"w-24 h-24 mx-auto rounded-xl bg-gold-gradient flex items-center justify-center shadow-2xl animate-scale-in\">\n          <StageIcon className=\"w-12 h-12 text-gray-1 animate-pulse\" />\n        </div>\n\n        <div className=\"space-y-2\">\n          <h2 className=\"text-5 font-semibold gradient-text animate-fade-in\">\n            Reading Your Energy\n          </h2>\n          <p className=\"text-3 text-gray-11 animate-fade-in\" style={{ animationDelay: '0.1s' }}>\n            {stage.message}\n          </p>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div className=\"w-full h-2 bg-gray-a3 rounded-full overflow-hidden\">\n            <div \n              className=\"h-full bg-gold-gradient rounded-full transition-all duration-100 ease-out\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          <p className=\"text-1 text-gray-10\">\n            {Math.round(progress)}% complete\n          </p>\n        </div>\n\n        <div className=\"flex justify-center gap-3\">\n          {loadingStages.map((s, i) => {\n            const Icon = s.icon;\n            return (\n              <div\n                key={i}\n                className={`w-8 h-8 rounded-md flex items-center justify-center transition-all duration-300 ${\n                  i < currentStage \n                    ? 'bg-amber-9 text-gray-1' \n                    : i === currentStage \n                      ? 'bg-amber-a4 text-amber-9 animate-pulse' \n                      : 'bg-gray-a3 text-gray-9'\n                }`}\n              >\n                <Icon className=\"w-4 h-4\" />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10411,"size_tokens":null},"client/src/components/PersonalityInsights.tsx":{"content":"import { useQuery } from '@tanstack/react-query';\nimport { calculateComprehensiveProfile } from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Sparkles, Zap, Palette, Lightbulb, Brain } from 'lucide-react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { apiRequest } from '@/lib/queryClient';\n\ninterface PersonalityInsightsProps {\n  profile: ProfileData;\n}\n\ninterface PersonalityResponse {\n  overview: string;\n  strengths: string[];\n  challenges: string[];\n  lifeLesson: string;\n  careerPaths: string[];\n  relationshipStyle: string;\n  spiritualGifts: string[];\n}\n\nexport function PersonalityInsights({ profile }: PersonalityInsightsProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const aiProfileData = {\n    name: profile.fullName.split(' ')[0],\n    birthDate: profile.birthDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }),\n    lifePathNumber: fullProfile.lifePathNumber,\n    expressionNumber: fullProfile.expressionNumber,\n    soulUrgeNumber: fullProfile.soulUrgeNumber,\n    personalityNumber: fullProfile.personalityNumber,\n    maturityNumber: fullProfile.maturityNumber,\n    westernZodiac: fullProfile.westernZodiac.sign,\n    westernElement: fullProfile.westernZodiac.element,\n    chineseZodiac: fullProfile.chineseZodiac.animal,\n    chineseElement: fullProfile.chineseZodiac.element,\n  };\n\n  const { data: existingInsight, isLoading: isCheckingExisting } = useQuery({\n    queryKey: ['/api/personality', profile.odisId],\n    queryFn: async () => {\n      const response = await fetch(`/api/personality/${profile.odisId}`);\n      if (response.status === 404) {\n        return null;\n      }\n      if (!response.ok) throw new Error('Failed to fetch personality insight');\n      const data = await response.json();\n      return data.insight as PersonalityResponse;\n    },\n    staleTime: Infinity,\n    retry: false,\n  });\n\n  const { data: newInsight, isLoading: isGenerating } = useQuery({\n    queryKey: ['/api/personality/generate', profile.odisId],\n    queryFn: async () => {\n      const response = await apiRequest('POST', '/api/personality', {\n        odisId: profile.odisId,\n        profile: aiProfileData,\n      });\n      const data = await response.json();\n      return data.insight as PersonalityResponse;\n    },\n    enabled: existingInsight === null && !isCheckingExisting,\n    retry: 2,\n  });\n\n  const displayData = existingInsight || newInsight;\n  const isLoading = isCheckingExisting || (isGenerating && !displayData);\n\n  const fallbackData = {\n    overview: fullProfile.personality.paragraph,\n    strengths: fullProfile.personality.strengths,\n    challenges: fullProfile.personality.challenges,\n    luckyColors: fullProfile.personality.luckyColors,\n  };\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative h-full\" data-testid=\"card-personality\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 via-transparent to-transparent pointer-events-none\" />\n      \n      <CardContent className=\"relative p-6 sm:p-8 flex flex-col h-full\">\n        <div className=\"flex items-center gap-4 mb-5\">\n          <div className=\"w-12 h-12 rounded-xl bg-gold-gradient flex items-center justify-center flex-shrink-0\">\n            <Brain className=\"w-6 h-6 text-gray-1\" />\n          </div>\n          <div>\n            <h2 className=\"text-5 font-semibold\">Personality Insights</h2>\n            {isLoading && <p className=\"text-2 text-gray-10\">Generating personalized insights...</p>}\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"space-y-4 flex-1\">\n            <Skeleton className=\"h-5 w-full\" />\n            <Skeleton className=\"h-5 w-full\" />\n            <Skeleton className=\"h-5 w-3/4\" />\n            <div className=\"pt-4\">\n              <Skeleton className=\"h-7 w-28 mb-3\" />\n              <div className=\"flex gap-2\">\n                <Skeleton className=\"h-7 w-24\" />\n                <Skeleton className=\"h-7 w-24\" />\n                <Skeleton className=\"h-7 w-24\" />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <p className=\"text-3 text-gray-11 leading-relaxed mb-5\" data-testid=\"text-personality-paragraph\">\n              {displayData?.overview || fallbackData.overview}\n            </p>\n\n            <div className=\"space-y-5 flex-1\">\n              <div>\n                <h4 className=\"text-2 font-medium text-gray-10 mb-3 flex items-center gap-2\">\n                  <Sparkles className=\"w-4 h-4 text-amber-9\" />\n                  Your Strengths\n                </h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {(displayData?.strengths || fallbackData.strengths || []).slice(0, 5).map((strength, i) => (\n                    <Badge key={i} color=\"amber\" variant=\"outline\" data-testid={`badge-strength-${i}`}>\n                      {strength}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n\n              {(displayData?.challenges || fallbackData.challenges) && (displayData?.challenges || fallbackData.challenges).length > 0 && (\n                <div>\n                  <h4 className=\"text-2 font-medium text-gray-10 mb-3 flex items-center gap-2\">\n                    <Zap className=\"w-4 h-4 text-violet-9\" />\n                    Growth Areas\n                  </h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {(displayData?.challenges || fallbackData.challenges).slice(0, 4).map((challenge, i) => (\n                      <Badge key={i} variant=\"outline\" data-testid={`badge-challenge-${i}`}>\n                        {challenge}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {displayData?.spiritualGifts && displayData.spiritualGifts.length > 0 && (\n                <div>\n                  <h4 className=\"text-2 font-medium text-gray-10 mb-3 flex items-center gap-2\">\n                    <Palette className=\"w-4 h-4 text-blue-9\" />\n                    Spiritual Gifts\n                  </h4>\n                  <p className=\"text-3 text-gray-11\">{displayData.spiritualGifts.join(', ')}</p>\n                </div>\n              )}\n            </div>\n\n            <div className=\"mt-5 pt-5 border-t border-gray-6\">\n              <div className=\"flex items-start gap-3\">\n                <Lightbulb className=\"w-5 h-5 text-amber-9 flex-shrink-0 mt-0.5\" />\n                <p className=\"text-2 text-gray-11 italic\" data-testid=\"text-life-lesson\">\n                  {displayData?.lifeLesson || `Trust your Life Path ${fullProfile.lifePathNumber} energy to guide you forward.`}\n                </p>\n              </div>\n            </div>\n          </>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":7037,"size_tokens":null},"client/src/components/NumerologyNumbers.tsx":{"content":"import { calculateComprehensiveProfile } from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Sparkles, Heart, Brain, Target, Hash } from 'lucide-react';\n\ninterface NumerologyNumbersProps {\n  profile: ProfileData;\n}\n\nexport function NumerologyNumbers({ profile }: NumerologyNumbersProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const numbers = [\n    { label: 'Expression', value: fullProfile.expressionNumber, icon: Heart, color: 'text-pink-9' },\n    { label: 'Soul Urge', value: fullProfile.soulUrgeNumber, icon: Sparkles, color: 'text-violet-9' },\n    { label: 'Personality', value: fullProfile.personalityNumber, icon: Brain, color: 'text-blue-9' },\n    { label: 'Maturity', value: fullProfile.maturityNumber, icon: Target, color: 'text-green-9' },\n  ];\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-numerology-numbers\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 to-transparent pointer-events-none\" />\n      \n      <CardHeader className=\"relative pb-2\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center\">\n            <Hash className=\"w-5 h-5 text-gray-1\" />\n          </div>\n          <CardTitle className=\"text-4\">Core Numbers</CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"relative\">\n        <div className=\"grid grid-cols-2 gap-3\">\n          {numbers.map(({ label, value, icon: Icon, color }) => (\n            <div key={label} className=\"text-center p-4 rounded-md bg-gray-a3 border border-gray-5/30\">\n              <div className=\"flex items-center justify-center gap-2 mb-1\">\n                <Icon className={`w-4 h-4 ${color}`} />\n                <span className=\"text-5 font-semibold\" data-testid={`text-${label.toLowerCase().replace(' ', '-')}`}>\n                  {value}\n                </span>\n              </div>\n              <p className=\"text-1 text-gray-10\">{label}</p>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":2346,"size_tokens":null},"client/src/components/ProfileOverview.tsx":{"content":"import { useLocation } from 'wouter';\nimport { useQuery } from '@tanstack/react-query';\nimport { \n  calculateComprehensiveProfile, \n  getNumberMeaning \n} from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\nimport { Button } from '@/components/ui/button';\nimport { Heart, Sparkles, Brain, Target, Calendar, Star, Zap, Hash, Sun, TrendingUp, ChevronRight, Lock, Crown } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\ninterface WhopUserData {\n  profilePictureUrl: string | null;\n  username: string;\n  name: string | null;\n}\n\ninterface ProfileOverviewProps {\n  profile: ProfileData;\n  whopUser?: WhopUserData | null;\n  isPro?: boolean;\n}\n\nfunction getWesternZodiacImage(sign: string): string {\n  const signLower = sign.toLowerCase();\n  return `/images/${signLower}.png?v=2`;\n}\n\nfunction getChineseZodiacImage(animal: string): string {\n  const animalLower = animal.toLowerCase();\n  return `/images/${animalLower}.png?v=2`;\n}\n\ninterface NumberCardProps {\n  number: number;\n  label: string;\n  type: string;\n  icon: typeof Star;\n  iconColor: string;\n  bgColor: string;\n  onClick: () => void;\n}\n\nfunction NumberCard({ number, label, type, icon: Icon, iconColor, bgColor, onClick }: NumberCardProps) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"text-center p-2 sm:p-3 rounded-lg bg-gray-a3 hover-elevate active-elevate-2 cursor-pointer transition-all group relative\"\n      data-testid={`button-${type}-number`}\n    >\n      <div className={`w-8 h-8 sm:w-9 sm:h-9 mx-auto mb-2 rounded-lg ${bgColor} flex items-center justify-center`}>\n        <Icon className={`w-4 h-4 ${iconColor}`} />\n      </div>\n      <p className=\"text-4 sm:text-5 font-bold text-gray-12\">{number}</p>\n      <p className=\"text-0 sm:text-1 text-gray-10 mt-1\">{label}</p>\n      <ChevronRight className=\"w-3 h-3 text-gray-8 absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\" />\n    </button>\n  );\n}\n\ninterface MembershipInfo {\n  hasMembership: boolean;\n  membershipId: string | null;\n  status: string | null;\n  manageUrl: string | null;\n  renewalPeriodEnd: string | null;\n  cancelAtPeriodEnd: boolean;\n}\n\nexport function ProfileOverview({ profile, whopUser, isPro = false }: ProfileOverviewProps) {\n  const [, setLocation] = useLocation();\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const { data: membership } = useQuery<MembershipInfo>({\n    queryKey: ['/api/membership'],\n    staleTime: 0,\n    refetchOnWindowFocus: true,\n    refetchOnMount: true,\n  });\n\n  const lifePathMeaning = getNumberMeaning(fullProfile.lifePathNumber);\n  const firstName = profile.fullName.split(' ')[0];\n  const initials = profile.fullName.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\n  \n  const westernImage = getWesternZodiacImage(fullProfile.westernZodiac.sign);\n  const chineseImage = getChineseZodiacImage(fullProfile.chineseZodiac.animal);\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-profile-overview\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 via-transparent to-transparent pointer-events-none\" />\n      \n      <CardContent className=\"relative p-6 sm:p-8\">\n        <div className=\"flex flex-col gap-6\">\n          <div className=\"flex flex-col sm:flex-row sm:items-stretch justify-between gap-4\">\n            <div className=\"flex items-center gap-4\">\n              {whopUser?.profilePictureUrl ? (\n                <Avatar className=\"w-16 h-16 rounded-xl flex-shrink-0\">\n                  <AvatarImage \n                    src={whopUser.profilePictureUrl} \n                    alt={whopUser.name || firstName}\n                    className=\"object-cover\"\n                  />\n                  <AvatarFallback className=\"w-16 h-16 rounded-xl bg-gradient-to-br from-amber-8 to-amber-9 text-white text-xl font-bold\">\n                    {initials}\n                  </AvatarFallback>\n                </Avatar>\n              ) : (\n                <div className=\"w-16 h-16 rounded-xl bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-xl font-bold text-white\">{initials}</span>\n                </div>\n              )}\n              <div className=\"min-w-0\">\n                <p className=\"text-2 text-gray-10\">Welcome back,</p>\n                <h2 className=\"text-6 font-bold text-gray-12 truncate\" data-testid=\"text-user-name\">{firstName}</h2>\n                <div className=\"flex items-center gap-2 mt-1\">\n                  <Calendar className=\"w-4 h-4 text-gray-9\" />\n                  <p className=\"text-2 text-gray-10\">\n                    {profile.birthDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 flex-wrap\">\n              <div className=\"flex items-center gap-4 px-5 py-3 rounded-xl bg-gradient-to-br from-amber-a3 to-amber-a2 border border-amber-a4\">\n                <p className=\"text-0 text-amber-10 uppercase tracking-widest font-medium\">Life Path</p>\n                <span className=\"text-6 font-bold text-amber-11 leading-none\" data-testid=\"text-life-path-number\">\n                  {fullProfile.lifePathNumber}\n                </span>\n                <div className=\"text-left border-l border-amber-a4 pl-4\">\n                  <p className=\"text-3 font-semibold text-gray-12 leading-tight\">{lifePathMeaning.title}</p>\n                  <p className=\"text-1 text-gray-10\">{lifePathMeaning.keywords[0]}</p>\n                </div>\n              </div>\n              \n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center p-4 rounded-xl bg-gradient-to-br from-gray-a3 to-gray-a2 border border-gray-a4\">\n              <p className=\"text-1 text-gray-9 uppercase tracking-widest font-medium mb-1\">Energy Signature</p>\n              <h3 className=\"text-4 sm:text-5 font-bold gradient-text\" data-testid=\"text-energy-signature\">\n                {fullProfile.energySignature}\n              </h3>\n            </div>\n\n            <div className=\"flex items-center gap-3 p-4 rounded-xl bg-gray-a3 border border-gray-a4\">\n              <img \n                src={westernImage} \n                alt={fullProfile.westernZodiac.sign}\n                className=\"w-12 h-12 rounded-lg object-cover\"\n              />\n              <div className=\"min-w-0 flex-1\">\n                <p className=\"text-1 text-gray-9 uppercase tracking-wider font-medium\">Western Zodiac</p>\n                <p className=\"text-3 font-semibold text-gray-12\">{fullProfile.westernZodiac.sign}</p>\n                <p className=\"text-2 text-gray-10\">{fullProfile.westernZodiac.element} Â· {fullProfile.westernZodiac.modality}</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 p-4 rounded-xl bg-gray-a3 border border-gray-a4\">\n              <img \n                src={chineseImage} \n                alt={fullProfile.chineseZodiac.animal}\n                className=\"w-12 h-12 rounded-lg object-cover\"\n              />\n              <div className=\"min-w-0 flex-1\">\n                <p className=\"text-1 text-gray-9 uppercase tracking-wider font-medium\">Chinese Zodiac</p>\n                <p className=\"text-3 font-semibold text-gray-12\">{fullProfile.chineseZodiac.animal}</p>\n                <p className=\"text-2 text-gray-10\">{fullProfile.chineseZodiac.element} Â· {fullProfile.chineseZodiac.yinYang}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n            <div className=\"rounded-xl bg-gray-a2 border border-gray-a4 p-4 sm:p-5 relative\">\n              <div className=\"flex items-center gap-2 mb-4 flex-wrap\">\n                <Hash className=\"w-4 h-4 text-violet-9\" />\n                <p className=\"text-2 font-semibold text-gray-11 uppercase tracking-wider\">Core Numbers</p>\n                {!isPro && (\n                  <span className=\"ml-auto flex items-center gap-1 text-0 text-amber-9\">\n                    <Lock className=\"w-3 h-3\" />\n                    Pro\n                  </span>\n                )}\n              </div>\n              <div className=\"grid grid-cols-4 gap-2 sm:gap-3\">\n                <NumberCard\n                  number={fullProfile.lifePathNumber}\n                  label=\"Life Path\"\n                  type=\"lifepath\"\n                  icon={Star}\n                  iconColor=\"text-amber-9\"\n                  bgColor=\"bg-amber-a3\"\n                  onClick={() => setLocation(`/number/lifepath/${fullProfile.lifePathNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.attitudeNumber}\n                  label=\"Attitude\"\n                  type=\"attitude\"\n                  icon={Zap}\n                  iconColor=\"text-green-9\"\n                  bgColor=\"bg-green-a3\"\n                  onClick={() => setLocation(`/number/attitude/${fullProfile.attitudeNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.generationNumber}\n                  label=\"Generation\"\n                  type=\"generation\"\n                  icon={TrendingUp}\n                  iconColor=\"text-blue-9\"\n                  bgColor=\"bg-blue-a3\"\n                  onClick={() => setLocation(`/number/generation/${fullProfile.generationNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.dayOfBirthNumber}\n                  label=\"Day of Birth\"\n                  type=\"dayofbirth\"\n                  icon={Sun}\n                  iconColor=\"text-orange-9\"\n                  bgColor=\"bg-orange-a3\"\n                  onClick={() => setLocation(`/number/dayofbirth/${fullProfile.dayOfBirthNumber}`)}\n                />\n              </div>\n            </div>\n\n            <div className=\"rounded-xl bg-gray-a2 border border-gray-a4 p-4 sm:p-5 relative\">\n              <div className=\"flex items-center gap-2 mb-4 flex-wrap\">\n                <Sparkles className=\"w-4 h-4 text-pink-9\" />\n                <p className=\"text-2 font-semibold text-gray-11 uppercase tracking-wider\">Name Numbers</p>\n                {!isPro && (\n                  <span className=\"ml-auto flex items-center gap-1 text-0 text-amber-9\">\n                    <Lock className=\"w-3 h-3\" />\n                    Pro\n                  </span>\n                )}\n              </div>\n              <div className=\"grid grid-cols-4 gap-2 sm:gap-3\">\n                <NumberCard\n                  number={fullProfile.expressionNumber}\n                  label=\"Expression\"\n                  type=\"expression\"\n                  icon={Heart}\n                  iconColor=\"text-pink-9\"\n                  bgColor=\"bg-pink-a3\"\n                  onClick={() => setLocation(`/number/expression/${fullProfile.expressionNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.soulUrgeNumber}\n                  label=\"Soul Urge\"\n                  type=\"soulurge\"\n                  icon={Sparkles}\n                  iconColor=\"text-violet-9\"\n                  bgColor=\"bg-violet-a3\"\n                  onClick={() => setLocation(`/number/soulurge/${fullProfile.soulUrgeNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.personalityNumber}\n                  label=\"Personality\"\n                  type=\"personality\"\n                  icon={Brain}\n                  iconColor=\"text-cyan-9\"\n                  bgColor=\"bg-cyan-a3\"\n                  onClick={() => setLocation(`/number/personality/${fullProfile.personalityNumber}`)}\n                />\n                <NumberCard\n                  number={fullProfile.maturityNumber}\n                  label=\"Maturity\"\n                  type=\"maturity\"\n                  icon={Target}\n                  iconColor=\"text-teal-9\"\n                  bgColor=\"bg-teal-a3\"\n                  onClick={() => setLocation(`/number/maturity/${fullProfile.maturityNumber}`)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":12517,"size_tokens":null},"client/src/components/ProfileHeader.tsx":{"content":"import { \n  calculateComprehensiveProfile, \n  getNumberMeaning \n} from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Sparkles } from 'lucide-react';\n\ninterface ProfileHeaderProps {\n  profile: ProfileData;\n}\n\nexport function ProfileHeader({ profile }: ProfileHeaderProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const lifePathMeaning = getNumberMeaning(fullProfile.lifePathNumber);\n  const firstName = profile.fullName.split(' ')[0];\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-profile-header\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-amber-a2 via-transparent to-violet-a2 pointer-events-none\" />\n      \n      <CardContent className=\"relative py-6\">\n        <div className=\"flex flex-col md:flex-row items-center gap-6\">\n          <div className=\"flex-shrink-0 text-center md:text-left\">\n            <p className=\"text-1 text-gray-11\">Welcome back,</p>\n            <h2 className=\"text-6 font-semibold text-gray-12\" data-testid=\"text-user-name\">{firstName}</h2>\n            <div className=\"flex items-center gap-2 mt-2 justify-center md:justify-start flex-wrap\">\n              <Badge variant=\"outline\" data-testid=\"badge-life-path\">\n                Life Path {fullProfile.lifePathNumber}\n              </Badge>\n              <span className=\"text-1 text-gray-10\">\n                {profile.birthDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n              </span>\n            </div>\n          </div>\n          \n          <div className=\"flex-1 text-center py-4 px-6 rounded-lg bg-gray-a3 border border-gray-5/50\">\n            <p className=\"text-0 text-gray-10 uppercase tracking-wider mb-1\">Your Energy Signature</p>\n            <h3 className=\"text-5 font-semibold gradient-text\" data-testid=\"text-energy-signature\">\n              {fullProfile.energySignature}\n            </h3>\n            <p className=\"text-2 text-gray-11 mt-1 italic flex items-center justify-center gap-1\">\n              <Sparkles className=\"w-3 h-3 text-amber-9\" />\n              \"{lifePathMeaning.title}\"\n            </p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":2439,"size_tokens":null},"client/src/components/ZodiacInfo.tsx":{"content":"import { calculateComprehensiveProfile } from '@/lib/numerology';\nimport { ProfileData } from '@/components/ProfileSetup';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Sparkles, Star, Flame, Wind, Droplets, Mountain, Zap, Moon } from 'lucide-react';\n\ninterface ZodiacInfoProps {\n  profile: ProfileData;\n}\n\nconst elementIcons: Record<string, typeof Flame> = {\n  'Fire': Flame,\n  'Water': Droplets,\n  'Earth': Mountain,\n  'Air': Wind,\n  'Wood': Sparkles,\n  'Metal': Zap,\n};\n\nexport function ZodiacInfo({ profile }: ZodiacInfoProps) {\n  const fullProfile = calculateComprehensiveProfile(\n    profile.fullName,\n    profile.birthDate,\n    profile.birthTime,\n    profile.birthLocation\n  );\n\n  const ElementIcon = elementIcons[fullProfile.westernZodiac.element] || Star;\n  const ChineseElementIcon = elementIcons[fullProfile.chineseZodiac.element] || Star;\n\n  return (\n    <Card variant=\"frosted\" className=\"overflow-hidden relative\" data-testid=\"card-zodiac-info\">\n      <div className=\"absolute inset-0 bg-gradient-to-br from-violet-a2 to-transparent pointer-events-none\" />\n      \n      <CardHeader className=\"relative pb-2\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-lg bg-gradient-to-br from-violet-8 to-violet-9 flex items-center justify-center\">\n            <Moon className=\"w-5 h-5 text-white\" />\n          </div>\n          <CardTitle className=\"text-4\">Zodiac Signs</CardTitle>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4 relative\">\n        <div className=\"p-4 rounded-lg bg-gray-a3 border border-gray-5/30\">\n          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n            <div className=\"flex items-center gap-2\">\n              <ElementIcon className=\"w-5 h-5 text-amber-9\" />\n              <span className=\"text-3 font-medium\">{fullProfile.westernZodiac.sign}</span>\n            </div>\n            <div className=\"flex gap-2 flex-wrap\">\n              <Badge variant=\"outline\" size=\"sm\">{fullProfile.westernZodiac.element}</Badge>\n              <Badge variant=\"outline\" size=\"sm\">{fullProfile.westernZodiac.modality}</Badge>\n            </div>\n          </div>\n          <p className=\"text-1 text-gray-10 mt-2\">\n            Ruled by {fullProfile.westernZodiac.rulingPlanet}\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-3\">\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"text-4 mb-1\" data-testid=\"text-zodiac-animal\">{fullProfile.chineseZodiac.animal}</p>\n            <p className=\"text-0 text-gray-10\">Chinese</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"flex items-center justify-center mb-1\">\n              <ChineseElementIcon className=\"w-5 h-5 text-amber-9\" />\n            </p>\n            <p className=\"text-0 text-gray-10\">{fullProfile.chineseZodiac.element}</p>\n          </div>\n          <div className=\"text-center p-3 rounded-md bg-gray-a3\">\n            <p className=\"flex items-center justify-center mb-1\">\n              <Star className=\"w-5 h-5 text-amber-9\" />\n            </p>\n            <p className=\"text-0 text-gray-10\">{fullProfile.chineseZodiac.yinYang}</p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","path":null,"size_bytes":3399,"size_tokens":null},"server/gemini.ts":{"content":"import { GoogleGenAI } from \"@google/genai\";\n\n// Gemini AI integration for personalized numerology insights\n// Following @google/genai SDK pattern from integration blueprint\nconst ai = new GoogleGenAI({ apiKey: process.env.GEMINI_API_KEY || \"\" });\n\n// Model configuration with fallback\nconst PRIMARY_MODEL = \"gemini-2.5-pro\";\nconst FALLBACK_MODEL = \"gemini-flash-latest\";\n\n// Helper function to generate content with automatic fallback\nasync function generateWithFallback(prompt: string): Promise<string> {\n  try {\n    console.log(`Attempting generation with ${PRIMARY_MODEL}...`);\n    const response = await ai.models.generateContent({\n      model: PRIMARY_MODEL,\n      contents: prompt,\n    });\n    \n    if (!response.text) {\n      throw new Error(\"Empty response from primary model\");\n    }\n    \n    return response.text;\n  } catch (primaryError) {\n    console.warn(`Primary model (${PRIMARY_MODEL}) failed:`, primaryError);\n    console.log(`Falling back to ${FALLBACK_MODEL}...`);\n    \n    try {\n      const fallbackResponse = await ai.models.generateContent({\n        model: FALLBACK_MODEL,\n        contents: prompt,\n      });\n      \n      if (!fallbackResponse.text) {\n        throw new Error(\"Empty response from fallback model\");\n      }\n      \n      console.log(`Successfully generated with fallback model ${FALLBACK_MODEL}`);\n      return fallbackResponse.text;\n    } catch (fallbackError) {\n      console.error(`Fallback model (${FALLBACK_MODEL}) also failed:`, fallbackError);\n      throw fallbackError;\n    }\n  }\n}\n\n// Helper function to clean JSON response from Gemini\nfunction cleanJsonResponse(rawText: string): string {\n  let cleanJson = rawText.trim();\n  if (cleanJson.startsWith('```json')) {\n    cleanJson = cleanJson.slice(7);\n  }\n  if (cleanJson.startsWith('```')) {\n    cleanJson = cleanJson.slice(3);\n  }\n  if (cleanJson.endsWith('```')) {\n    cleanJson = cleanJson.slice(0, -3);\n  }\n  return cleanJson.trim();\n}\n\nexport interface UserNumerologyProfile {\n  name: string;\n  birthDate: string;\n  lifePathNumber: number;\n  expressionNumber: number;\n  soulUrgeNumber: number;\n  personalityNumber: number;\n  maturityNumber: number;\n  westernZodiac: string;\n  westernElement: string;\n  chineseZodiac: string;\n  chineseElement: string;\n}\n\nexport interface PersonalityInsightResponse {\n  overview: string;\n  strengths: string[];\n  challenges: string[];\n  lifeLesson: string;\n  careerPaths: string[];\n  relationshipStyle: string;\n  spiritualGifts: string[];\n}\n\nexport interface DailyEnergyResponse {\n  theme: string;\n  description: string;\n  dos: string[];\n  donts: string[];\n  focusArea: string;\n  affirmation: string;\n}\n\nexport async function generatePersonalityInsights(\n  profile: UserNumerologyProfile\n): Promise<PersonalityInsightResponse> {\n  const prompt = `You are a gifted intuitive reader who understands people deeply. Based on the following numerology and astrology data, write a warm, personal reading that feels like you're speaking directly to the person.\n\nHidden Profile Data (use this to inform your reading, but DO NOT mention these numbers or signs explicitly):\n- Life Path Number: ${profile.lifePathNumber}\n- Expression Number: ${profile.expressionNumber}\n- Soul Urge Number: ${profile.soulUrgeNumber}\n- Personality Number: ${profile.personalityNumber}\n- Maturity Number: ${profile.maturityNumber}\n- Western Zodiac: ${profile.westernZodiac} (${profile.westernElement} sign)\n- Chinese Zodiac: ${profile.chineseZodiac} (${profile.chineseElement} element)\n\nCRITICAL STYLE REQUIREMENTS:\n1. Write in SECOND PERSON - use \"You\" and \"Your\" (NOT the person's name, NOT third person)\n2. DO NOT mention any numbers (like \"Life Path 4\" or \"Expression 11\")\n3. DO NOT mention zodiac signs (like \"Gemini\" or \"Monkey\")\n4. Simply DESCRIBE the person's traits, energy, and personality naturally - as if you're reading their soul\n5. Be warm, insightful, and make them feel truly seen and understood\n6. Focus on WHO they are, not what numbers or signs they have\n\nCRITICAL FORMAT REQUIREMENTS:\n- \"strengths\" MUST be exactly 5 single words (1-2 words max, e.g., \"Leadership\", \"Creativity\")\n- \"challenges\" MUST be exactly 4 single words (1-2 words max, e.g., \"Balance\", \"Trust\")\n- \"careerPaths\" MUST be exactly 3 short phrases (2-4 words each)\n- \"spiritualGifts\" MUST be exactly 3 short phrases (2-3 words each)\n- DO NOT use full sentences for strengths, challenges, careerPaths, or spiritualGifts\n\nYou MUST respond with valid JSON only, no other text. Use this exact format:\n{\n  \"overview\": \"A detailed 3-4 sentence paragraph describing WHO they are. Use 'You' and 'Your'. Do NOT mention any numbers or zodiac signs. Just describe their essence, personality, and energy naturally.\",\n  \"strengths\": [\"Leadership\", \"Creativity\", \"Intuition\", \"Resilience\", \"Empathy\"],\n  \"challenges\": [\"Balance\", \"Trust\", \"Patience\", \"Boundaries\"],\n  \"lifeLesson\": \"One personalized sentence about their core life lesson. Use 'You' or 'Your'. No numbers or signs.\",\n  \"careerPaths\": [\"Creative arts\", \"Leadership roles\", \"Healing professions\"],\n  \"relationshipStyle\": \"A 1-2 sentence description of how they approach relationships. Use 'You'. No numbers or signs.\",\n  \"spiritualGifts\": [\"Deep intuition\", \"Natural healing\", \"Empathic connection\"]\n}`;\n\n  try {\n    const rawText = await generateWithFallback(prompt);\n    console.log(\"Gemini personality response:\", rawText);\n    \n    const cleanJson = cleanJsonResponse(rawText);\n    return JSON.parse(cleanJson);\n  } catch (error) {\n    console.error(\"Error generating personality insights:\", error);\n    throw error;\n  }\n}\n\nexport interface CompatibilityProfile {\n  name: string;\n  lifePathNumber: number;\n  expressionNumber: number;\n  soulUrgeNumber: number;\n  personalityNumber: number;\n  attitudeNumber: number;\n  dayOfBirthNumber: number;\n  westernZodiac: string;\n  westernElement: string;\n  chineseZodiac: string;\n  chineseElement: string;\n  energySignature: string;\n}\n\nexport interface CompatibilityInsightResponse {\n  overviewNarrative: string;\n  emotionalConnection: string;\n  communicationDynamic: string;\n  growthPotential: string;\n  dailyLifeTogether: string;\n  advice: string;\n}\n\nexport async function generateCompatibilityInsights(\n  person1: CompatibilityProfile,\n  person2: CompatibilityProfile,\n  overallScore: number,\n  level: string\n): Promise<CompatibilityInsightResponse> {\n  const prompt = `You are an expert numerologist and relationship counselor. Based on the following two complete numerology and astrology profiles, generate a deeply personalized compatibility analysis.\n\nPerson 1 - ${person1.name}:\n- Life Path: ${person1.lifePathNumber}\n- Expression: ${person1.expressionNumber}\n- Soul Urge: ${person1.soulUrgeNumber}\n- Personality: ${person1.personalityNumber}\n- Attitude: ${person1.attitudeNumber}\n- Day of Birth: ${person1.dayOfBirthNumber}\n- Western Zodiac: ${person1.westernZodiac} (${person1.westernElement})\n- Chinese Zodiac: ${person1.chineseZodiac} (${person1.chineseElement})\n- Energy Signature: ${person1.energySignature}\n\nPerson 2 - ${person2.name}:\n- Life Path: ${person2.lifePathNumber}\n- Expression: ${person2.expressionNumber}\n- Soul Urge: ${person2.soulUrgeNumber}\n- Personality: ${person2.personalityNumber}\n- Attitude: ${person2.attitudeNumber}\n- Day of Birth: ${person2.dayOfBirthNumber}\n- Western Zodiac: ${person2.westernZodiac} (${person2.westernElement})\n- Chinese Zodiac: ${person2.chineseZodiac} (${person2.chineseElement})\n- Energy Signature: ${person2.energySignature}\n\nOverall Compatibility Score: ${overallScore}% (${level})\n\nGenerate a comprehensive, personalized compatibility reading that:\n1. Analyzes how their specific numbers interact - not generic advice\n2. Considers both their numerology AND astrology signs together\n3. Provides genuine insight into their relationship dynamics\n4. Is balanced - acknowledges both strengths and challenges\n5. Uses ${person1.name} and ${person2.name}'s names to make it personal\n\nIMPORTANT: Be specific to THESE two people. Reference their actual numbers and signs. Don't give generic relationship advice.\n\nYou MUST respond with valid JSON only, no other text. Use this exact format:\n{\n  \"overviewNarrative\": \"A 3-4 sentence personalized narrative about their unique connection based on how their specific numbers and signs interact together. Mention their names.\",\n  \"emotionalConnection\": \"2-3 sentences about their emotional compatibility based on their Soul Urge numbers and zodiac elements. Be specific.\",\n  \"communicationDynamic\": \"2-3 sentences about how they communicate based on Expression and Personality numbers. Be specific.\",\n  \"growthPotential\": \"2-3 sentences about what they can learn from each other based on their Life Paths and challenges.\",\n  \"dailyLifeTogether\": \"2-3 sentences about how their Attitude numbers and daily energies would work together.\",\n  \"advice\": \"2-3 sentences of specific, actionable advice for this particular pairing based on their numbers.\"\n}`;\n\n  try {\n    const rawText = await generateWithFallback(prompt);\n    console.log(\"Gemini compatibility response:\", rawText);\n    \n    const cleanJson = cleanJsonResponse(rawText);\n    return JSON.parse(cleanJson);\n  } catch (error) {\n    console.error(\"Error generating compatibility insights:\", error);\n    return {\n      overviewNarrative: `${person1.name} and ${person2.name} bring unique energies to their connection. Their compatibility shows ${level.toLowerCase()} alignment with interesting dynamics to explore.`,\n      emotionalConnection: `With Soul Urge numbers ${person1.soulUrgeNumber} and ${person2.soulUrgeNumber}, there's potential for meaningful emotional understanding with conscious effort.`,\n      communicationDynamic: `Expression numbers ${person1.expressionNumber} and ${person2.expressionNumber} suggest distinct communication styles that can complement each other.`,\n      growthPotential: `Life Paths ${person1.lifePathNumber} and ${person2.lifePathNumber} offer opportunities for mutual growth and learning.`,\n      dailyLifeTogether: `Their Attitude numbers (${person1.attitudeNumber} and ${person2.attitudeNumber}) indicate how they approach daily life together.`,\n      advice: `Focus on understanding each other's core needs and communicate openly about your differences.`,\n    };\n  }\n}\n\nexport async function generateDailyEnergy(\n  profile: UserNumerologyProfile,\n  personalDayNumber: number,\n  universalDayNumber: number,\n  todayDate: string\n): Promise<DailyEnergyResponse> {\n  const prompt = `You are a gifted intuitive guide providing personalized daily guidance. Create a warm, personal daily energy reading that speaks directly to the person.\n\nHidden Profile Data (use this to inform your reading, but DO NOT mention these numbers or signs explicitly):\n- Life Path Number: ${profile.lifePathNumber}\n- Expression Number: ${profile.expressionNumber}\n- Soul Urge Number: ${profile.soulUrgeNumber}\n- Western Zodiac: ${profile.westernZodiac}\n- Chinese Zodiac: ${profile.chineseZodiac}\n- Personal Day Number: ${personalDayNumber}\n- Universal Day Number: ${universalDayNumber}\n- Today's Date: ${todayDate}\n\nCRITICAL STYLE REQUIREMENTS:\n1. Write in SECOND PERSON - use \"You\" and \"Your\" (NOT the person's name)\n2. DO NOT mention any numbers (like \"Personal Day 4\" or \"Life Path 11\")\n3. DO NOT mention zodiac signs\n4. Simply DESCRIBE what today's energy feels like for them naturally\n5. Be warm, encouraging, and make them feel guided\n6. Focus on the ENERGY and FEELING of the day, not technical details\n\nCRITICAL FORMAT REQUIREMENTS:\n- \"dos\" MUST be exactly 3 items, each 2-3 words ONLY (e.g., \"Take initiative\", \"Trust instincts\")\n- \"donts\" MUST be exactly 3 items, each 2-3 words ONLY (e.g., \"Rush decisions\", \"Overcommit\")\n- \"theme\" MUST be 2-3 words only\n- \"focusArea\" MUST be 2-4 words only\n- DO NOT use full sentences for dos, donts, theme, or focusArea\n\nYou MUST respond with valid JSON only, no other text. Use this exact format:\n{\n  \"theme\": \"Creative Flow\",\n  \"description\": \"A personalized 2 sentence description using 'You' and 'Your'. Describe what today's energy feels like for them. No numbers or signs.\",\n  \"dos\": [\"Take initiative\", \"Trust instincts\", \"Connect deeply\"],\n  \"donts\": [\"Rush decisions\", \"Overcommit\", \"Ignore rest\"],\n  \"focusArea\": \"Personal creativity\",\n  \"affirmation\": \"A personalized affirmation using 'You' or 'I am'. No numbers or signs.\"\n}`;\n\n  try {\n    const rawText = await generateWithFallback(prompt);\n    console.log(\"Gemini daily energy response:\", rawText);\n    \n    const cleanJson = cleanJsonResponse(rawText);\n    return JSON.parse(cleanJson);\n  } catch (error) {\n    console.error(\"Error generating daily energy:\", error);\n    throw error;\n  }\n}\n\n// ============================================\n// CUECHATS - AI CHAT FUNCTIONALITY\n// ============================================\n\n// Letter to number mapping for name calculations\nconst letterValues: Record<string, number> = {\n  'A': 1, 'J': 1, 'S': 1,\n  'B': 2, 'K': 2, 'T': 2,\n  'C': 3, 'L': 3, 'U': 3,\n  'D': 4, 'M': 4, 'V': 4,\n  'E': 5, 'N': 5, 'W': 5,\n  'F': 6, 'O': 6, 'X': 6,\n  'G': 7, 'P': 7, 'Y': 7,\n  'H': 8, 'Q': 8, 'Z': 8,\n  'I': 9, 'R': 9,\n};\n\nconst vowels = ['A', 'E', 'I', 'O', 'U'];\n\nfunction reduceToSingleDigit(num: number, preserveMasterNumbers = true): number {\n  while (num > 9) {\n    if (preserveMasterNumbers && (num === 11 || num === 22 || num === 33)) {\n      return num;\n    }\n    num = num.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);\n  }\n  return num;\n}\n\nfunction calculateLifePathNumber(birthDate: Date): number {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  const year = birthDate.getFullYear();\n  \n  const monthReduced = reduceToSingleDigit(month, true);\n  const dayReduced = reduceToSingleDigit(day, true);\n  const yearReduced = reduceToSingleDigit(\n    year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0),\n    true\n  );\n  \n  const total = monthReduced + dayReduced + yearReduced;\n  return reduceToSingleDigit(total, true);\n}\n\nfunction calculateExpressionNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  const sum = cleanName.split('').reduce((total, letter) => total + (letterValues[letter] || 0), 0);\n  return reduceToSingleDigit(sum, true);\n}\n\nfunction calculateSoulUrgeNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  const sum = cleanName.split('').filter(l => vowels.includes(l)).reduce((total, letter) => total + (letterValues[letter] || 0), 0);\n  return reduceToSingleDigit(sum, true);\n}\n\nfunction calculatePersonalityNumber(fullName: string): number {\n  const cleanName = fullName.toUpperCase().replace(/[^A-Z]/g, '');\n  const sum = cleanName.split('').filter(l => !vowels.includes(l)).reduce((total, letter) => total + (letterValues[letter] || 0), 0);\n  return reduceToSingleDigit(sum, true);\n}\n\nfunction calculateMaturityNumber(lifePath: number, expression: number): number {\n  return reduceToSingleDigit(lifePath + expression, true);\n}\n\nfunction calculateAttitudeNumber(birthDate: Date): number {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  return reduceToSingleDigit(month + day, true);\n}\n\nfunction calculateDayOfBirthNumber(birthDate: Date): number {\n  return reduceToSingleDigit(birthDate.getDate(), true);\n}\n\nfunction calculatePersonalDayNumber(birthDate: Date): number {\n  const today = new Date();\n  const month = today.getMonth() + 1;\n  const day = today.getDate();\n  const year = today.getFullYear();\n  \n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const universalDayNumber = reduceToSingleDigit(month + day + reduceToSingleDigit(year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0), false), false);\n  \n  return reduceToSingleDigit(lifePathNumber + universalDayNumber, true);\n}\n\nfunction calculateUniversalDayNumber(): number {\n  const today = new Date();\n  const month = today.getMonth() + 1;\n  const day = today.getDate();\n  const year = today.getFullYear();\n  \n  const yearSum = year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0);\n  return reduceToSingleDigit(month + day + yearSum, true);\n}\n\nfunction getWesternZodiac(birthDate: Date): { sign: string; element: string } {\n  const month = birthDate.getMonth() + 1;\n  const day = birthDate.getDate();\n  \n  const zodiacData: Array<{ sign: string; element: string; startMonth: number; startDay: number; endMonth: number; endDay: number }> = [\n    { sign: 'Capricorn', element: 'Earth', startMonth: 12, startDay: 22, endMonth: 1, endDay: 19 },\n    { sign: 'Aquarius', element: 'Air', startMonth: 1, startDay: 20, endMonth: 2, endDay: 18 },\n    { sign: 'Pisces', element: 'Water', startMonth: 2, startDay: 19, endMonth: 3, endDay: 20 },\n    { sign: 'Aries', element: 'Fire', startMonth: 3, startDay: 21, endMonth: 4, endDay: 19 },\n    { sign: 'Taurus', element: 'Earth', startMonth: 4, startDay: 20, endMonth: 5, endDay: 20 },\n    { sign: 'Gemini', element: 'Air', startMonth: 5, startDay: 21, endMonth: 6, endDay: 20 },\n    { sign: 'Cancer', element: 'Water', startMonth: 6, startDay: 21, endMonth: 7, endDay: 22 },\n    { sign: 'Leo', element: 'Fire', startMonth: 7, startDay: 23, endMonth: 8, endDay: 22 },\n    { sign: 'Virgo', element: 'Earth', startMonth: 8, startDay: 23, endMonth: 9, endDay: 22 },\n    { sign: 'Libra', element: 'Air', startMonth: 9, startDay: 23, endMonth: 10, endDay: 22 },\n    { sign: 'Scorpio', element: 'Water', startMonth: 10, startDay: 23, endMonth: 11, endDay: 21 },\n    { sign: 'Sagittarius', element: 'Fire', startMonth: 11, startDay: 22, endMonth: 12, endDay: 21 },\n  ];\n  \n  for (const z of zodiacData) {\n    if (z.startMonth === 12 && z.endMonth === 1) {\n      if ((month === 12 && day >= z.startDay) || (month === 1 && day <= z.endDay)) {\n        return { sign: z.sign, element: z.element };\n      }\n    } else if ((month === z.startMonth && day >= z.startDay) || (month === z.endMonth && day <= z.endDay)) {\n      return { sign: z.sign, element: z.element };\n    }\n  }\n  \n  return { sign: 'Unknown', element: 'Unknown' };\n}\n\nfunction getChineseZodiac(birthDate: Date): { animal: string; element: string } {\n  const year = birthDate.getFullYear();\n  const animals = ['Rat', 'Ox', 'Tiger', 'Rabbit', 'Dragon', 'Snake', 'Horse', 'Goat', 'Monkey', 'Rooster', 'Dog', 'Pig'];\n  const elements = ['Metal', 'Metal', 'Water', 'Water', 'Wood', 'Wood', 'Fire', 'Fire', 'Earth', 'Earth'];\n  \n  const animalIndex = (year - 4) % 12;\n  const elementIndex = year % 10;\n  \n  return {\n    animal: animals[animalIndex],\n    element: elements[elementIndex]\n  };\n}\n\nfunction calculateEnergySignature(birthDate: Date): string {\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const { element } = getChineseZodiac(birthDate);\n  \n  const energyMap: Record<number, string> = {\n    1: 'Fire Initiator',\n    2: 'Water Harmonizer',\n    3: 'Air Creator',\n    4: 'Earth Stabilizer',\n    5: 'Wind Changer',\n    6: 'Heart Healer',\n    7: 'Mind Seeker',\n    8: 'Power Manifester',\n    9: 'Soul Completer',\n    11: 'Light Bearer',\n    22: 'Reality Architect',\n    33: 'Love Teacher',\n  };\n  \n  return `${element} ${energyMap[lifePathNumber] || 'Energy'}`;\n}\n\nexport interface ChatMessage {\n  role: 'user' | 'assistant';\n  content: string;\n}\n\nexport interface ChatUserProfile {\n  fullName: string;\n  birthDate: Date;\n  birthTime?: string;\n  birthLocation?: string;\n}\n\nexport interface ChatResponse {\n  message: string;\n}\n\n// Chat model - using pro for quality\nconst CHAT_MODEL = \"gemini-2.5-pro\";\n\n// Build user context once - this is the expensive calculation that should only happen once per session\nexport function buildUserContext(profile: ChatUserProfile): { systemContext: string; firstName: string } {\n  const birthDate = new Date(profile.birthDate);\n  \n  // Calculate all numerology numbers\n  const lifePathNumber = calculateLifePathNumber(birthDate);\n  const expressionNumber = calculateExpressionNumber(profile.fullName);\n  const soulUrgeNumber = calculateSoulUrgeNumber(profile.fullName);\n  const personalityNumber = calculatePersonalityNumber(profile.fullName);\n  const attitudeNumber = calculateAttitudeNumber(birthDate);\n  const dayOfBirthNumber = calculateDayOfBirthNumber(birthDate);\n  const personalDayNumber = calculatePersonalDayNumber(birthDate);\n  const universalDayNumber = calculateUniversalDayNumber();\n  \n  // Get astrology data\n  const westernZodiac = getWesternZodiac(birthDate);\n  const chineseZodiac = getChineseZodiac(birthDate);\n  \n  // Format today's date\n  const today = new Date();\n  const todayFormatted = today.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });\n\n  const firstName = profile.fullName.split(' ')[0];\n  const maturityNumber = calculateMaturityNumber(lifePathNumber, expressionNumber);\n  const energySignature = calculateEnergySignature(birthDate);\n\n  const systemContext = `You're ${firstName}'s numerology-savvy friend. You know them deeply through their chart - always show this.\n\n${firstName.toUpperCase()}'S FULL PROFILE:\n- Life Path ${lifePathNumber} (core life purpose)\n- Expression ${expressionNumber} (how they express themselves)\n- Soul Urge ${soulUrgeNumber} (deepest desires)\n- Personality ${personalityNumber} (outer persona)\n- Attitude ${attitudeNumber} (daily approach)\n- Day of Birth ${dayOfBirthNumber} (natural talents)\n- Maturity ${maturityNumber} (where they're heading)\n- Energy Signature: ${energySignature}\n- Western: ${westernZodiac.sign} (${westernZodiac.element} element)\n- Chinese: ${chineseZodiac.animal} (${chineseZodiac.element} element)\n- Today: ${todayFormatted}\n- Personal Day ${personalDayNumber}, Universal Day ${universalDayNumber}\n\nHOW TO RESPOND:\n1. ALWAYS explain WHY using their specific numbers/signs - this is the whole point\n2. Reference at least 2 profile traits per answer (e.g., \"Your Life Path 4 loves structure, and your Monkey energy craves variety...\")\n3. Connect recommendations to their chart (e.g., \"Japan's Dragon founding year vibes with your Monkey - that's a power alliance in Chinese astrology\")\n4. Keep it conversational - like a knowledgeable friend, not a formal reading\n5. Be concise but substantive: 3-5 sentences, or use a quick list with reasons\n6. For timing questions, use their Personal Day ${personalDayNumber} and Universal Day ${universalDayNumber}\n7. Make them feel truly understood - you KNOW them through these numbers\n\nDON'T:\n- Give vague answers without tying to their profile\n- Just list suggestions without the \"why\"\n- Sound like a formal advisor or use stiff language\n- Start with \"Great question!\" or generic greetings`;\n\n  return { systemContext, firstName };\n}\n\n// Build prompt using pre-computed context (for session-based chat - more efficient)\nfunction buildChatPromptWithContext(\n  userMessage: string,\n  systemContext: string,\n  firstName: string,\n  conversationHistory: ChatMessage[]\n): string {\n  const historyText = conversationHistory.length > 0\n    ? conversationHistory.slice(-6).map(msg => `${msg.role === 'user' ? 'User' : 'AI'}: ${msg.content}`).join('\\n\\n')\n    : '';\n\n  return `${systemContext}\n\n${historyText ? `CHAT:\\n${historyText}\\n\\n` : ''}${firstName}: ${userMessage}\n\nYou:`;\n}\n\n// Legacy: Build prompt from scratch (calculates everything each time)\nfunction buildChatPrompt(\n  userMessage: string,\n  profile: ChatUserProfile,\n  conversationHistory: ChatMessage[]\n): string {\n  const { systemContext, firstName } = buildUserContext(profile);\n  return buildChatPromptWithContext(userMessage, systemContext, firstName, conversationHistory);\n}\n\nexport async function generateChatResponse(\n  userMessage: string,\n  profile: ChatUserProfile,\n  conversationHistory: ChatMessage[]\n): Promise<ChatResponse> {\n  const prompt = buildChatPrompt(userMessage, profile, conversationHistory);\n\n  try {\n    console.log(`Chat: Using fast model ${CHAT_MODEL}...`);\n    const response = await ai.models.generateContent({\n      model: CHAT_MODEL,\n      contents: prompt,\n    });\n    \n    const rawText = response.text || \"\";\n    console.log(\"Gemini chat response:\", rawText);\n    \n    return { message: rawText.trim() };\n  } catch (error) {\n    console.error(\"Error generating chat response:\", error);\n    throw error;\n  }\n}\n\n// Session-based chat - uses pre-computed context (more efficient)\nexport async function generateChatResponseWithContext(\n  userMessage: string,\n  systemContext: string,\n  firstName: string,\n  conversationHistory: ChatMessage[]\n): Promise<ChatResponse> {\n  const prompt = buildChatPromptWithContext(userMessage, systemContext, firstName, conversationHistory);\n\n  try {\n    console.log(`Chat (session): Using fast model ${CHAT_MODEL}...`);\n    const response = await ai.models.generateContent({\n      model: CHAT_MODEL,\n      contents: prompt,\n    });\n    \n    const rawText = response.text || \"\";\n    console.log(\"Gemini chat response:\", rawText);\n    \n    return { message: rawText.trim() };\n  } catch (error) {\n    console.error(\"Error generating chat response:\", error);\n    throw error;\n  }\n}\n\nexport async function* generateChatResponseStream(\n  userMessage: string,\n  profile: ChatUserProfile,\n  conversationHistory: ChatMessage[]\n): AsyncGenerator<string> {\n  const prompt = buildChatPrompt(userMessage, profile, conversationHistory);\n\n  try {\n    console.log(`Chat stream: Using fast model ${CHAT_MODEL}...`);\n    const response = await ai.models.generateContentStream({\n      model: CHAT_MODEL,\n      contents: prompt,\n    });\n    \n    for await (const chunk of response) {\n      if (chunk.text) {\n        yield chunk.text;\n      }\n    }\n  } catch (error) {\n    console.error(\"Error generating chat stream:\", error);\n    throw error;\n  }\n}\n","path":null,"size_bytes":25683,"size_tokens":null},"client/src/lib/zodiacSymbols.ts":{"content":"// Western Zodiac Symbols (Unicode)\nexport const westernZodiacSymbols: Record<string, string> = {\n  'Aries': 'â™ˆ',\n  'Taurus': 'â™‰',\n  'Gemini': 'â™Š',\n  'Cancer': 'â™‹',\n  'Leo': 'â™Œ',\n  'Virgo': 'â™',\n  'Libra': 'â™Ž',\n  'Scorpio': 'â™',\n  'Sagittarius': 'â™',\n  'Capricorn': 'â™‘',\n  'Aquarius': 'â™’',\n  'Pisces': 'â™“',\n};\n\n// Chinese Zodiac Animal Representations\nexport const chineseZodiacSymbols: Record<string, string> = {\n  'Rat': 'ðŸ€',\n  'Ox': 'ðŸ‚',\n  'Tiger': 'ðŸ…',\n  'Rabbit': 'ðŸ‡',\n  'Dragon': 'ðŸ‰',\n  'Snake': 'ðŸ',\n  'Horse': 'ðŸŽ',\n  'Goat': 'ðŸ',\n  'Monkey': 'ðŸ’',\n  'Rooster': 'ðŸ“',\n  'Dog': 'ðŸ•',\n  'Pig': 'ðŸ–',\n};\n\nexport function getWesternZodiacSymbol(sign: string): string {\n  return westernZodiacSymbols[sign] || 'â˜…';\n}\n\nexport function getChineseZodiacSymbol(animal: string): string {\n  return chineseZodiacSymbols[animal] || 'â˜…';\n}\n","path":null,"size_bytes":892,"size_tokens":null},"client/src/lib/numerologyContent.ts":{"content":"export interface LifePathContent {\n  number: number;\n  title: string;\n  description: string;\n  darkSide: string;\n  lessonsToLearn: string;\n  work: string;\n  love: string;\n  health: string;\n  accomplishment: string;\n}\n\nexport interface ExpressionContent {\n  number: number;\n  title: string;\n  description: string;\n  talents: string;\n  challenges: string;\n  career: string;\n}\n\nexport interface SoulUrgeContent {\n  number: number;\n  title: string;\n  description: string;\n  innerDesires: string;\n  fulfillment: string;\n}\n\nexport interface PersonalityContent {\n  number: number;\n  title: string;\n  description: string;\n  firstImpression: string;\n  socialStyle: string;\n}\n\nexport interface AttitudeContent {\n  number: number;\n  title: string;\n  description: string;\n  harmoniousBehavior: string;\n  darkSide: string;\n}\n\nexport interface GenerationContent {\n  number: number;\n  title: string;\n  description: string;\n  collectiveEnergy: string;\n}\n\nexport interface DayOfBirthContent {\n  number: number;\n  title: string;\n  description: string;\n  specialGifts: string;\n}\n\nexport interface MaturityContent {\n  number: number;\n  title: string;\n  description: string;\n  laterLifeGoals: string;\n}\n\nexport const lifePathContent: Record<number, LifePathContent> = {\n  1: {\n    number: 1,\n    title: \"The Pioneer\",\n    description: \"Life Path 1 represents the energy of new beginnings, independence, and leadership. You are here to learn how to stand on your own two feet, trust your instincts, and forge your own path in life. As a natural-born leader, you possess an innate ability to initiate projects and inspire others to follow your vision. Your journey involves developing self-confidence, assertiveness, and the courage to be original. You are meant to be a trailblazer who introduces new ideas and methods to the world. Your individuality is your greatest asset, and your life's purpose is to express your unique identity while helping others find theirs.\",\n    darkSide: \"When operating from a lower vibration, Life Path 1 can become domineering, aggressive, and overly self-centered. There's a tendency toward arrogance, stubbornness, and an unwillingness to accept help or advice from others. You may struggle with being too competitive, needing to win at all costs, or becoming a bully. Impatience and a quick temper can alienate those around you. The shadow side also includes fear of being dependent on others, which can lead to isolation and loneliness.\",\n    lessonsToLearn: \"Your primary lessons involve learning to balance independence with cooperation, confidence with humility, and leadership with service. You must learn that true strength includes the ability to listen to others and consider different perspectives. Developing patience, especially with those who don't match your pace, is crucial. Learning to collaborate without losing your sense of self, and understanding that asking for help is not a sign of weakness, are key growth areas.\",\n    work: \"Life Path 1s excel in positions of leadership and entrepreneurship. You thrive when you can work independently or lead a team toward a common goal. Careers that suit you include CEO, entrepreneur, inventor, military leader, politician, project manager, or any field requiring innovation and self-motivation. You perform best when given autonomy and the freedom to implement your ideas. Avoid roles that are too routine or where you must constantly defer to others.\",\n    love: \"In relationships, you need a partner who respects your independence and supports your ambitions. You're attracted to confident individuals who have their own goals and don't try to control you. The ideal partner is someone who is strong enough to stand beside you as an equal. You show love through action and protection. Challenges arise when you become too focused on your own pursuits or try to dominate the relationship. Learning to share power and make space for your partner's needs is essential for lasting love.\",\n    health: \"Life Path 1s tend to push themselves hard and may neglect self-care in pursuit of their goals. Stress-related conditions, headaches, and issues with the heart and blood pressure are common concerns. Physical activity is essential for your well-being, particularly competitive sports or solo activities like running or weightlifting. You need to guard against burnout by building regular rest into your schedule. Pay attention to your head, eyes, and adrenal system.\",\n    accomplishment: \"Your ultimate accomplishment is achieving self-mastery and using your leadership abilities to make a positive impact on the world. Success comes when you learn to lead with wisdom rather than ego, inspiring others through your example rather than force. You are here to pioneer new paths, start important initiatives, and demonstrate that individuality and independence can coexist with meaningful connections to others.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Peacemaker\",\n    description: \"Life Path 2 embodies the energy of cooperation, diplomacy, and sensitivity. You are here to master the art of relationships, learning to create harmony and balance in all areas of life. Your natural gifts include intuition, empathy, and the ability to see both sides of any situation. You are a natural mediator and peacemaker, skilled at bringing people together and resolving conflicts. Your sensitivity allows you to pick up on subtle energies that others miss. Partnership and collaboration are central to your life purpose, and you find your greatest fulfillment through meaningful connections with others.\",\n    darkSide: \"The shadow side of Life Path 2 includes excessive passivity, codependency, and losing yourself in relationships. You may struggle with indecisiveness, fear of confrontation, and suppressing your own needs to keep the peace. There's a tendency toward manipulation through guilt or martyrdom. Hypersensitivity can make you easily hurt by criticism, leading to resentment that builds up over time. You may become clingy, possessive, or overly dependent on others for your sense of self-worth.\",\n    lessonsToLearn: \"Your primary lessons involve developing self-confidence and learning to assert your own needs while maintaining harmony. You must learn that setting boundaries is not selfish but necessary for healthy relationships. Developing emotional resilience and not taking everything personally is crucial. Learning to make decisions without excessive deliberation and standing up for yourself without guilt are key growth areas. You're learning that true partnership includes honoring your own needs.\",\n    work: \"Life Path 2s excel in supportive and collaborative roles. You thrive in positions that require diplomacy, mediation, or working closely with others. Careers that suit you include counselor, therapist, mediator, diplomat, human resources specialist, social worker, or any role in the helping professions. You also do well in the arts, particularly music, where your sensitivity can be expressed. Avoid highly competitive environments or roles that require constant self-promotion.\",\n    love: \"In relationships, you seek deep emotional connection and genuine partnership. You're naturally devoted and attentive to your partner's needs, sometimes to a fault. The ideal relationship for you is one of true equality where both partners support each other's growth. You show love through acts of service, emotional availability, and creating a harmonious home. Challenges arise when you lose yourself in the relationship or fail to communicate your needs. Learning to maintain your identity while being a supportive partner is essential.\",\n    health: \"Life Path 2s are particularly sensitive to their environment and the emotions of others, which can affect your physical health. You may experience issues with the nervous system, digestive problems from internalizing stress, or reproductive system concerns. Emotional well-being directly impacts your physical health. Gentle exercise like yoga, swimming, or tai chi suits you well. Creating a peaceful home environment and learning stress-management techniques are essential for your health.\",\n    accomplishment: \"Your ultimate accomplishment is creating harmony and meaningful connections while maintaining your own sense of self. Success comes when you learn to be a true partnerâ€”supportive yet self-assured, diplomatic yet honest about your needs. You are here to demonstrate that sensitivity is strength and that the world needs peacemakers who can bridge differences and bring people together.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Communicator\",\n    description: \"Life Path 3 carries the vibration of creativity, self-expression, and joy. You are here to learn to express yourself authentically and inspire others through your creative gifts. Natural talents include communication, artistic ability, and an infectious enthusiasm for life. You have a gift for words, whether spoken or written, and often possess multiple creative talents. Your optimism and humor brighten any room you enter. Joy and self-expression are central to your life purpose, and you're meant to share your creative gifts with the world while uplifting others.\",\n    darkSide: \"The shadow side of Life Path 3 includes superficiality, scattered energy, and avoiding emotional depth. You may struggle with following through on projects, preferring the excitement of starting over the discipline of finishing. There's a tendency toward escapism through pleasure-seeking, gossip, or excessive talking without meaningful content. You may use humor to deflect serious situations or hide your insecurities. Mood swings and dramatic emotional expressions can strain relationships.\",\n    lessonsToLearn: \"Your primary lessons involve learning to channel your creative energy into focused expression. You must learn discipline and follow-through, completing what you start rather than jumping to new projects. Developing emotional depth and authenticity in your relationships is crucial. Learning to handle criticism constructively and not take yourself too seriously are key growth areas. You're learning that true joy comes from meaningful creation, not superficial pleasures.\",\n    work: \"Life Path 3s excel in creative and communicative fields. You thrive in positions that allow self-expression and interaction with others. Careers that suit you include writer, artist, actor, musician, public speaker, marketing professional, teacher, or entertainer. You also do well in social media, journalism, or any field requiring creativity and charm. Avoid monotonous work or environments that stifle your creative expression.\",\n    love: \"In relationships, you bring fun, creativity, and abundant affection. You need a partner who appreciates your playful spirit and supports your creative endeavors. The ideal relationship is one filled with laughter, communication, and shared adventures. You show love through words of affirmation, creative gestures, and quality time. Challenges arise when you avoid serious conversations or let your social life take priority over your relationship. Learning to go deeper emotionally while maintaining joy is essential.\",\n    health: \"Life Path 3s need to pay attention to their throat, vocal cords, and communication-related areas. Scattered energy can lead to nervous system issues or exhaustion from overextending socially. You may be prone to mood fluctuations that affect your physical health. Creative expression is therapeutic for youâ€”suppressing it can lead to depression. Regular exercise helps channel excess energy, and you benefit from activities that are fun and social rather than routine.\",\n    accomplishment: \"Your ultimate accomplishment is mastering authentic self-expression and using your creativity to inspire joy in others. Success comes when you learn to channel your talents into meaningful work that uplifts humanity. You are here to demonstrate that creativity and joy are not frivolous but essential to human flourishing, and that words and art have the power to heal and transform.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Builder\",\n    description: \"Life Path 4 represents the energy of structure, stability, and hard work. You are here to build lasting foundationsâ€”whether in your career, relationships, or for society. Your natural gifts include practicality, reliability, and an exceptional work ethic. You have the patience and determination to turn dreams into reality through persistent effort. Order and organization bring you comfort, and you excel at creating systems that stand the test of time. Security and stability are central to your life purpose, and you're meant to demonstrate that success comes through dedication and integrity.\",\n    darkSide: \"The shadow side of Life Path 4 includes rigidity, stubbornness, and resistance to change. You may become so focused on work that you neglect relationships, health, and fun. There's a tendency toward pessimism, seeing only limitations rather than possibilities. You may struggle with perfectionism, becoming critical of yourself and others who don't meet your high standards. Fear of change can keep you trapped in unsatisfying situations, and you may become narrow-minded or judgmental.\",\n    lessonsToLearn: \"Your primary lessons involve learning to balance work with rest and structure with flexibility. You must learn that life requires adaptability and that change, while uncomfortable, is necessary for growth. Developing trust in the process of life and letting go of the need to control every detail is crucial. Learning to see the bigger picture and allow for spontaneity are key growth areas. You're learning that true security comes from within, not from external circumstances.\",\n    work: \"Life Path 4s excel in structured environments requiring attention to detail and perseverance. You thrive in positions that involve building, organizing, or systematizing. Careers that suit you include engineer, architect, accountant, project manager, administrator, craftsperson, or any field requiring precision and reliability. You also do well in law enforcement, military, or banking. Avoid chaotic environments or roles that require constant improvisation.\",\n    love: \"In relationships, you offer stability, loyalty, and unwavering commitment. You need a partner who appreciates your reliability and shares your values around security and family. The ideal relationship is built on trust, shared goals, and practical partnership. You show love through providing, protecting, and being there consistently. Challenges arise when you become too focused on work or try to control the relationship. Learning to be more spontaneous and emotionally expressive is essential.\",\n    health: \"Life Path 4s tend to hold tension in their bodies, particularly in the bones, joints, and structural systems. You may be prone to issues with the back, knees, or teeth. Overwork can lead to chronic fatigue or stress-related conditions. You benefit from consistent exercise routines and structured health practices. Pay attention to your elimination systems and ensure you're getting adequate rest. Regular, measured physical activity like hiking, strength training, or swimming suits you well.\",\n    accomplishment: \"Your ultimate accomplishment is building something of lasting value that serves others and stands the test of time. Success comes when you learn to balance your tremendous work capacity with the ability to enjoy the fruits of your labor. You are here to demonstrate that patience, persistence, and integrity are the foundations of all lasting achievement.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Freedom Seeker\",\n    description: \"Life Path 5 embodies the energy of freedom, adventure, and change. You are here to experience life fully through your senses and to embrace change as the constant of existence. Your natural gifts include adaptability, versatility, and an insatiable curiosity about life. You're drawn to travel, variety, and new experiences. Communication and quick thinking come naturally to you. Freedom and experience are central to your life purpose, and you're meant to demonstrate that growth comes through embracing change and expanding horizons.\",\n    darkSide: \"The shadow side of Life Path 5 includes excess, irresponsibility, and an inability to commit. You may struggle with addiction, whether to substances, sensations, or constant change. There's a tendency toward restlessness that prevents you from building anything lasting. You may become scattered, unreliable, or perpetually dissatisfied. Fear of commitment can sabotage relationships and career advancement. Using freedom as an excuse to avoid responsibility is a common trap.\",\n    lessonsToLearn: \"Your primary lessons involve learning to find freedom within commitment and variety within stability. You must learn that true freedom comes from self-discipline, not from avoiding all constraints. Developing focus and the ability to see things through, even when they become routine, is crucial. Learning that depth of experience can be as valuable as breadth is a key growth area. You're learning to distinguish between healthy change and escapism.\",\n    work: \"Life Path 5s excel in dynamic environments requiring adaptability and communication. You thrive in positions that involve variety, travel, or connecting with many different people. Careers that suit you include sales, marketing, travel industry, journalism, public relations, promoter, or any field requiring versatility and quick thinking. You also do well as entrepreneurs or in any role that offers freedom and variety. Avoid routine desk jobs or highly structured environments.\",\n    love: \"In relationships, you bring excitement, spontaneity, and a sense of adventure. You need a partner who gives you space and shares your love of new experiences. The ideal relationship is one that feels like a partnership in adventure rather than a constraint. You show love through creating exciting experiences together and keeping things fresh. Challenges arise when you become restless or feel trapped. Learning to find adventure within commitment and to be present with your partner is essential.\",\n    health: \"Life Path 5s need to be careful about excess and overindulgence. You may be prone to issues with the five senses, the nervous system, or conditions related to lifestyle choices. Moderation is your health keyâ€”you tend to push limits in ways that can affect your wellbeing. Regular exercise helps channel your restless energy, and variety in your fitness routine keeps you engaged. Pay attention to your lungs, liver, and sensory organs.\",\n    accomplishment: \"Your ultimate accomplishment is mastering the art of constructive change and using your experiences to grow in wisdom. Success comes when you learn to channel your love of freedom into purposeful exploration that benefits yourself and others. You are here to demonstrate that life is meant to be lived fully and that embracing change with wisdom leads to true liberation.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Nurturer\",\n    description: \"Life Path 6 carries the vibration of responsibility, love, and service. You are here to learn about unconditional love, family, and community. Your natural gifts include nurturing, healing, and creating beauty and harmony. You have a deep sense of responsibility toward those you love and often take on the role of caretaker. Home and family are central to your identity. Love and service are your life purpose, and you're meant to demonstrate the power of caring for others while maintaining healthy boundaries.\",\n    darkSide: \"The shadow side of Life Path 6 includes martyrdom, meddling, and codependency. You may become so focused on helping others that you neglect yourself or become controlling under the guise of caring. There's a tendency toward perfectionism, especially regarding home and family, that can create unrealistic expectations. You may struggle with anxiety when things aren't harmonious or become self-righteous about your way of doing things. Guilt and over-responsibility can be paralyzing.\",\n    lessonsToLearn: \"Your primary lessons involve learning to help others without enabling them and to love without conditions or control. You must learn that you cannot fix everyone and that sometimes the most loving act is to let others learn their own lessons. Developing healthy boundaries while maintaining an open heart is crucial. Learning to accept imperfection in yourself and others is a key growth area. You're learning that true service includes self-care.\",\n    work: \"Life Path 6s excel in caring and service-oriented professions. You thrive in positions that allow you to help, heal, or create beauty. Careers that suit you include healthcare professional, teacher, counselor, interior designer, chef, social worker, or any role in the service industry. You also do well in fields related to home, family, or community. Avoid purely competitive environments or roles that feel soulless.\",\n    love: \"In relationships, you are devoted, nurturing, and committed to creating a beautiful life together. You need a partner who appreciates your caring nature and reciprocates your devotion. The ideal relationship is one built on mutual respect, shared domestic values, and deep emotional connection. You show love through caring actions, creating a comfortable home, and being there through thick and thin. Challenges arise when you become controlling or sacrifice too much of yourself. Learning to receive as well as give is essential.\",\n    health: \"Life Path 6s tend to carry the weight of others' problems, which can affect your health. You may be prone to issues with the heart, circulation, or reproductive system. Worry and anxiety can manifest as physical symptoms. You benefit from activities that help you relax and release responsibility, such as gardening, cooking, or artistic pursuits. Pay attention to your chest, breasts, and digestive system. Learning to set boundaries is directly related to your physical health.\",\n    accomplishment: \"Your ultimate accomplishment is creating a life filled with love, beauty, and meaningful service while maintaining your own wellbeing. Success comes when you learn to care for others from a place of fullness rather than obligation. You are here to demonstrate that love in actionâ€”through family, community, and serviceâ€”is the highest expression of human potential.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Seeker\",\n    description: \"Life Path 7 represents the energy of wisdom, introspection, and spiritual seeking. You are here to discover the deeper truths of existence and develop your inner wisdom. Your natural gifts include analytical thinking, intuition, and the ability to see beyond surface appearances. You're drawn to mystery, research, and understanding how things work at a fundamental level. Truth and wisdom are central to your life purpose, and you're meant to demonstrate that there is more to life than the material world.\",\n    darkSide: \"The shadow side of Life Path 7 includes isolation, cynicism, and intellectual arrogance. You may become so absorbed in your inner world that you disconnect from others and reality. There's a tendency toward paranoia, suspicion, or feeling misunderstood. You may use intellectualism to avoid emotional intimacy or become cold and aloof. Perfectionism in your search for truth can lead to paralysis. Secret addictions or escapism may develop as coping mechanisms.\",\n    lessonsToLearn: \"Your primary lessons involve learning to balance the inner and outer worlds and to trust as well as analyze. You must learn that knowledge without application is incomplete and that wisdom includes emotional intelligence. Developing faith in life's process while maintaining healthy skepticism is crucial. Learning to share your insights with others and to be present in your body are key growth areas. You're learning that connection to others is part of spiritual growth.\",\n    work: \"Life Path 7s excel in fields requiring research, analysis, and deep thinking. You thrive in positions that allow solitude and mental exploration. Careers that suit you include scientist, researcher, analyst, philosopher, writer, psychologist, or any specialized technical field. You also do well in spiritual teaching, alternative healing, or investigative work. Avoid superficial work environments or positions requiring constant social interaction.\",\n    love: \"In relationships, you offer depth, loyalty, and a unique perspective on life. You need a partner who respects your need for solitude and shares your interest in meaningful conversation. The ideal relationship is one where both partners have their own inner lives while sharing a deep mental and spiritual connection. You show love through understanding, respecting boundaries, and sharing your insights. Challenges arise when you become too withdrawn or analytical about emotions. Learning to be emotionally present and vulnerable is essential.\",\n    health: \"Life Path 7s need to pay attention to their nervous system, skin, and digestive system. You may be sensitive to your environment and prone to conditions related to stress or overthinking. Meditation, nature, and solitude are therapeutic for you. You benefit from spiritual practices that quiet the mind. Pay attention to your pineal gland, spine, and neural pathways. Ensuring adequate sleep and managing anxiety are important for your wellbeing.\",\n    accomplishment: \"Your ultimate accomplishment is attaining genuine wisdom and using it to enlighten yourself and others. Success comes when you learn to share your insights in accessible ways and to trust life's mysteries. You are here to demonstrate that the search for truth is one of humanity's highest callings and that inner peace comes from understanding rather than controlling.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Powerhouse\",\n    description: \"Life Path 8 embodies the energy of power, abundance, and achievement. You are here to master the material world and learn to wield power responsibly. Your natural gifts include business acumen, organizational ability, and the drive to succeed. You understand how things work in the physical world and have the ambition to achieve significant goals. Power and abundance are central to your life purpose, and you're meant to demonstrate that material success and spiritual integrity can coexist.\",\n    darkSide: \"The shadow side of Life Path 8 includes greed, authoritarianism, and workaholism. You may become so focused on success that you sacrifice relationships, health, and ethics. There's a tendency toward materialism, measuring worth only in financial terms. You may struggle with power dynamics, becoming either domineering or, paradoxically, afraid of your own power. Ruthlessness in pursuit of goals can alienate others. Financial extremesâ€”either feast or famineâ€”may mark your life until lessons are learned.\",\n    lessonsToLearn: \"Your primary lessons involve learning to balance material success with spiritual values and to use power for the greater good. You must learn that true abundance includes more than money and that power without wisdom is destructive. Developing generosity and understanding that giving and receiving are interconnected is crucial. Learning to value people over achievements and to handle both success and failure with grace are key growth areas.\",\n    work: \"Life Path 8s excel in positions of authority and business leadership. You thrive in environments where you can organize, manage, and achieve tangible results. Careers that suit you include executive, entrepreneur, banker, real estate developer, lawyer, or any position in management and finance. You also do well in politics, athletics, or any competitive field. Avoid positions with no growth potential or where you have no authority.\",\n    love: \"In relationships, you are generous, protective, and committed to building a secure life together. You need a partner who respects your ambition and contributes to your shared vision of success. The ideal relationship is one where both partners are equals, combining their strengths to create abundance together. You show love through providing, achieving, and creating security. Challenges arise when work takes priority over relationship or when power struggles emerge. Learning to be vulnerable and prioritize connection over achievement is essential.\",\n    health: \"Life Path 8s may experience issues related to stress, blood pressure, and the cardiovascular system. Workaholism can lead to burnout, and the pressure you put on yourself affects your body. You may be prone to conditions affecting the bones, teeth, and structural systems. Regular exercise, particularly strength training, suits you well. Pay attention to your heart, circulation, and stress levels. Finding balance between work and relaxation is crucial for your long-term health.\",\n    accomplishment: \"Your ultimate accomplishment is achieving material success while maintaining integrity and using your power to benefit others. Success comes when you learn that true wealth includes health, relationships, and peace of mind. You are here to demonstrate that abundance is our birthright when we align our ambitions with the greater good.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Humanitarian\",\n    description: \"Life Path 9 carries the vibration of completion, compassion, and universal love. You are here to develop selfless service and to see yourself as a citizen of the world. Your natural gifts include wisdom, compassion, and the ability to see the big picture. You've lived many lifetimes and carry the wisdom of the ages. You're drawn to causes greater than yourself and have a natural understanding of human nature. Compassion and service are central to your life purpose, and you're meant to demonstrate that giving is receiving.\",\n    darkSide: \"The shadow side of Life Path 9 includes martyrdom, resentment, and living in the past. You may become so focused on others that you neglect your own needs, leading to burnout and bitterness. There's a tendency toward self-righteousness or feeling superior to those less evolved. You may struggle with letting goâ€”of people, situations, or grievances. Emotional manipulation through guilt or playing the victim can be issues. Avoiding personal responsibility by focusing on saving the world is a common trap.\",\n    lessonsToLearn: \"Your primary lessons involve learning to give without expectation and to let go with grace. You must learn that you cannot save everyone and that sometimes the lesson is in the losing. Developing healthy boundaries while maintaining an open heart is crucial. Learning to receive as well as give and to focus on your own growth while serving others are key areas. You're learning that endings are as natural as beginnings.\",\n    work: \"Life Path 9s excel in humanitarian and creative fields. You thrive in positions that allow you to make a positive difference in the world. Careers that suit you include philanthropist, counselor, teacher, artist, healer, diplomat, or any role in humanitarian organizations. You also do well in the arts, publishing, or any field with a global reach. Avoid petty work environments or purely profit-driven positions.\",\n    love: \"In relationships, you bring wisdom, compassion, and a broad perspective on life. You need a partner who shares your values and supports your humanitarian interests. The ideal relationship is one where both partners are committed to growth and service, seeing their union as a way to do more good together. You show love through understanding, forgiveness, and supporting your partner's highest potential. Challenges arise when you sacrifice yourself completely or hold onto past hurts. Learning to receive love and to be fully present in the relationship is essential.\",\n    health: \"Life Path 9s may experience issues related to the immune system, nervous system, or conditions involving overall vitality. Carrying the weight of the world can affect your health. You may be prone to anxiety, depression, or conditions related to suppressed emotions. Creative expression and meaningful work are therapeutic for you. Pay attention to your blood, lymphatic system, and overall energy levels. Regular rest and learning to let go of what you cannot control are essential.\",\n    accomplishment: \"Your ultimate accomplishment is achieving wisdom through experience and using your understanding to serve humanity. Success comes when you learn that letting go is as important as holding on and that your service to others is also your personal salvation. You are here to demonstrate that we are all one and that love is the ultimate truth.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Illuminator\",\n    description: \"Life Path 11 is a Master Number carrying the amplified vibration of intuition, spiritual insight, and inspiration. You are here to channel higher wisdom and illuminate the path for others. Your natural gifts include heightened intuition, visionary thinking, and the ability to inspire masses. You exist as a bridge between the physical and spiritual worlds. Spiritual teaching and inspiration are central to your life purpose, and you're meant to demonstrate that higher consciousness can be grounded in practical reality.\",\n    darkSide: \"The shadow side of Life Path 11 includes nervous tension, self-doubt, and impracticality. The intensity of your vibration can lead to anxiety, phobias, or feeling overwhelmed by your own sensitivity. There's a tendency toward delusion, impracticality, or becoming lost in fantasy. You may struggle with grounding your visions in reality or fear your own power. Extreme highs and lows, and difficulty functioning in the mundane world, can be challenges.\",\n    lessonsToLearn: \"Your primary lessons involve learning to ground your spiritual gifts in practical reality and to trust your intuition while maintaining discernment. You must learn to manage your sensitivity without becoming overwhelmed or shutting down. Developing patience with the pace of physical reality and finding practical outlets for your inspiration are crucial. You're learning that being a spiritual messenger requires being fully human first.\",\n    work: \"Life Path 11s excel in inspirational and spiritual fields. You thrive in positions that allow you to channel insights and inspire others. Careers that suit you include spiritual teacher, counselor, artist, musician, inventor, or any role involving inspiration and enlightenment. You also do well in media, lighting design, or any field where you can illuminate. Avoid harsh, materialistic environments or positions without meaning.\",\n    love: \"In relationships, you bring inspiration, deep understanding, and a spiritual connection. You need a partner who appreciates your sensitivity and supports your spiritual journey. The ideal relationship is one of soul connection where both partners grow spiritually together. You show love through inspiration, intuition, and deep emotional presence. Challenges arise when you become too sensitive or retreat into fantasy. Learning to be present and grounded while maintaining your spiritual connection is essential.\",\n    health: \"Life Path 11s have highly sensitive nervous systems that require extra care. You may be prone to anxiety, nervous disorders, or conditions related to electrical sensitivity. The intensity of your vibration can lead to exhaustion if not managed properly. You benefit greatly from meditation, nature, and spiritual practices. Pay attention to your nervous system, eyes, and energy field. Grounding practices and regular rest are essential for your wellbeing.\",\n    accomplishment: \"Your ultimate accomplishment is mastering your gifts and becoming a clear channel for higher wisdom. Success comes when you learn to live your vision while staying grounded in reality. You are here to demonstrate that spiritual illumination is possible for all and that the light you carry can inspire others to find their own.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Builder\",\n    description: \"Life Path 22 is a Master Number carrying the amplified vibration of practical idealism and building dreams into reality. You are here to leave a lasting legacy through monumental achievements that benefit humanity. Your natural gifts include visionary thinking combined with practical ability, leadership on a grand scale, and the power to manifest your dreams. You have the potential to achieve more than most. Master building and lasting achievement are central to your life purpose, and you're meant to demonstrate that big dreams can become reality.\",\n    darkSide: \"The shadow side of Life Path 22 includes enormous pressure, workaholism, and potential for spectacular failure. The weight of your potential can be crushing, leading to anxiety or paralysis. There's a tendency toward becoming overwhelmed by the scope of your vision or burning out from trying to do too much. You may struggle with perfectionism, control issues, or imposing your vision on others. The higher the potential, the greater the fall when lessons are not learned.\",\n    lessonsToLearn: \"Your primary lessons involve learning to pace yourself and work with others to achieve your vision. You must learn that even monumental achievements happen one step at a time. Developing patience, delegation skills, and trust in your team is crucial. Learning to balance your grand vision with practical steps and to take care of yourself along the way are key growth areas. You're learning that the process is as important as the outcome.\",\n    work: \"Life Path 22s excel in positions requiring large-scale vision and practical implementation. You thrive in roles that allow you to build something of lasting significance. Careers that suit you include architect, diplomat, international business leader, political leader, or any role involving large-scale organization and achievement. You also do well as an entrepreneur, director, or in positions where you can shape major outcomes. Avoid small-minded environments or positions without impact.\",\n    love: \"In relationships, you bring vision, commitment, and the desire to build something meaningful together. You need a partner who can stand beside you as an equal in your grand endeavors. The ideal relationship is one where both partners are committed to achieving something significant together. You show love through inclusion in your vision, providing abundantly, and building a life together. Challenges arise when work consumes everything or when you become too controlling. Learning to be present and to value the relationship as much as the achievements is essential.\",\n    health: \"Life Path 22s may experience issues related to chronic stress, the nervous system, and structural problems. The pressure you put on yourself can lead to serious health consequences if not managed. You may be prone to conditions affecting the spine, bones, and circulatory system. Regular exercise, adequate rest, and stress management are crucial. Pay attention to your skeletal system, heart, and overall stress levels. Building sustainable work habits is essential for long-term health.\",\n    accomplishment: \"Your ultimate accomplishment is manifesting a vision that transforms the world while maintaining your humanity. Success comes when you learn that your greatest achievement is not what you build but who you become in the process. You are here to demonstrate that with discipline, vision, and persistence, dreams of any scale can become reality.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Teacher\",\n    description: \"Life Path 33 is the highest Master Number, carrying the amplified vibration of compassionate teaching and selfless service. You are here to uplift humanity through love, teaching, and healing. Your natural gifts include profound compassion, healing abilities, and the power to inspire through example. You embody the highest potential of love in action. Selfless service and spiritual teaching are central to your life purpose, and you're meant to demonstrate that love is the most powerful force in the universe.\",\n    darkSide: \"The shadow side of Life Path 33 includes martyrdom, messiah complex, and burnout from over-giving. You may sacrifice yourself completely, leading to resentment or collapse. There's a tendency toward taking on others' pain or believing you must save everyone. You may struggle with boundaries, feeling guilty when you can't help, or becoming self-righteous about your service. The weight of this number can lead to depression if its energy is not properly channeled.\",\n    lessonsToLearn: \"Your primary lessons involve learning to serve from a place of fullness and to love without losing yourself. You must learn that you cannot help others from an empty vessel and that self-care is not selfish. Developing healthy boundaries while maintaining your open heart is crucial. Learning to empower others rather than creating dependence and to accept your humanity while holding your spiritual vision are key growth areas. You're learning that the greatest teaching is example.\",\n    work: \"Life Path 33s excel in healing, teaching, and service professions at the highest level. You thrive in positions that allow you to touch many lives with your compassion. Careers that suit you include spiritual leader, healer, counselor, teacher of teachers, or any role involving healing and uplifting humanity. You also do well in philanthropic leadership, humanitarian organizations, or any position where you can serve on a large scale. Avoid self-serving or superficial environments.\",\n    love: \"In relationships, you bring unconditional love, profound understanding, and spiritual depth. You need a partner who can receive your love and support your mission. The ideal relationship is one of deep spiritual partnership where both partners are committed to serving love together. You show love through complete acceptance, healing presence, and selfless giving. Challenges arise when you give too much or expect spiritual perfection. Learning to receive love and accept imperfection in yourself and your partner is essential.\",\n    health: \"Life Path 33s must be particularly careful about energy depletion and taking on others' pain. You may be prone to conditions related to the heart, immune system, or chronic fatigue. Your sensitivity to others can affect you physically. You benefit greatly from healing practices, nature, and spiritual sustenance. Pay attention to your heart, blood, and energy field. Regular practices to clear and restore your energy are essential for your wellbeing.\",\n    accomplishment: \"Your ultimate accomplishment is becoming a pure channel for divine love and using that love to heal and teach. Success comes when you learn to love fully while maintaining your own wholeness. You are here to demonstrate that selfless love is the highest achievement and that one person's heart opened fully can transform the world.\"\n  }\n};\n\nexport const expressionContent: Record<number, ExpressionContent> = {\n  1: {\n    number: 1,\n    title: \"The Leader\",\n    description: \"Expression Number 1 reveals that you are meant to express yourself as a leader and pioneer. Your name carries the vibration of independence, originality, and self-reliance. You have natural talents for innovation, starting new ventures, and inspiring others to action. Your destiny is to express your unique individuality and to lead by example. You're here to show the world how to be courageously authentic.\",\n    talents: \"Your core talents include innovative thinking, self-motivation, courage, determination, and the ability to work independently. You have a natural gift for seeing new possibilities and the drive to make them reality. Leadership comes naturally to you, as does the ability to remain focused on your goals despite obstacles.\",\n    challenges: \"Your challenges include learning to collaborate without losing your sense of self, developing patience with those who don't share your pace, and balancing confidence with humility. You may struggle with accepting help or considering others' perspectives.\",\n    career: \"Ideal careers include entrepreneur, CEO, inventor, military leader, political figure, project manager, athlete, or any field where you can pioneer and lead.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Diplomat\",\n    description: \"Expression Number 2 reveals that you are meant to express yourself through cooperation, diplomacy, and partnership. Your name carries the vibration of harmony, sensitivity, and relationship. You have natural talents for mediation, emotional intelligence, and bringing people together. Your destiny is to be a peacemaker who helps others find common ground.\",\n    talents: \"Your core talents include intuition, diplomacy, patience, cooperation, and emotional sensitivity. You have a natural gift for understanding others' feelings and creating harmony in groups. Partnership and collaboration come naturally to you.\",\n    challenges: \"Your challenges include developing assertiveness, making decisions confidently, setting healthy boundaries, and not losing yourself in relationships. You may struggle with indecisiveness or excessive sensitivity to criticism.\",\n    career: \"Ideal careers include diplomat, counselor, mediator, therapist, human resources, social worker, musician, or any field requiring tact and cooperation.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Artist\",\n    description: \"Expression Number 3 reveals that you are meant to express yourself through creativity, communication, and joy. Your name carries the vibration of self-expression, enthusiasm, and artistic ability. You have natural talents for words, arts, and inspiring others with your optimism. Your destiny is to create and communicate in ways that uplift humanity.\",\n    talents: \"Your core talents include creativity, communication, optimism, imagination, and social charm. You have a natural gift for expressing ideas in engaging ways and bringing joy to others. Multiple artistic talents often mark your expression.\",\n    challenges: \"Your challenges include developing discipline and focus, following through on projects, going deeper emotionally, and not scattering your energy. You may struggle with superficiality or avoiding serious matters.\",\n    career: \"Ideal careers include writer, artist, actor, musician, speaker, teacher, marketing professional, entertainer, or any field involving creative expression.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Organizer\",\n    description: \"Expression Number 4 reveals that you are meant to express yourself through structure, stability, and practical achievement. Your name carries the vibration of order, reliability, and hard work. You have natural talents for organization, building systems, and turning ideas into tangible reality. Your destiny is to create lasting foundations.\",\n    talents: \"Your core talents include organization, determination, practicality, loyalty, and attention to detail. You have a natural gift for creating order out of chaos and building things that last. Reliability and consistency mark your expression.\",\n    challenges: \"Your challenges include developing flexibility, embracing change, not overworking, and seeing beyond limitations. You may struggle with rigidity or becoming too focused on work at the expense of other life areas.\",\n    career: \"Ideal careers include engineer, architect, accountant, project manager, contractor, administrator, or any field requiring methodical work and precision.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Communicator\",\n    description: \"Expression Number 5 reveals that you are meant to express yourself through freedom, versatility, and progressive thinking. Your name carries the vibration of change, adventure, and sensory experience. You have natural talents for communication, adaptability, and promoting new ideas. Your destiny is to be an agent of constructive change.\",\n    talents: \"Your core talents include versatility, quick thinking, communication, adaptability, and resourcefulness. You have a natural gift for navigating change and helping others embrace new perspectives. Multiple languages or communication skills often mark your expression.\",\n    challenges: \"Your challenges include developing commitment, finding focus, moderating excesses, and building lasting structures. You may struggle with restlessness or avoiding responsibilities.\",\n    career: \"Ideal careers include sales, marketing, travel industry, journalism, public relations, promoter, or any field requiring adaptability and communication.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Nurturer\",\n    description: \"Expression Number 6 reveals that you are meant to express yourself through service, responsibility, and nurturing. Your name carries the vibration of love, family, and community. You have natural talents for caregiving, creating beauty, and bringing harmony to your environment. Your destiny is to serve love through responsible action.\",\n    talents: \"Your core talents include nurturing, responsibility, artistic sense, counseling ability, and creating harmony. You have a natural gift for taking care of others and making environments more beautiful. Domestic arts and healing often mark your expression.\",\n    challenges: \"Your challenges include setting healthy boundaries, not meddling, avoiding martyrdom, and receiving as well as giving. You may struggle with codependency or excessive worry about loved ones.\",\n    career: \"Ideal careers include healthcare, teaching, counseling, interior design, culinary arts, social work, or any field involving service and nurturing.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Analyst\",\n    description: \"Expression Number 7 reveals that you are meant to express yourself through wisdom, analysis, and spiritual seeking. Your name carries the vibration of introspection, research, and truth-seeking. You have natural talents for deep thinking, intuition, and uncovering hidden knowledge. Your destiny is to seek truth and share wisdom.\",\n    talents: \"Your core talents include analytical thinking, intuition, research ability, technical skill, and spiritual awareness. You have a natural gift for understanding complex subjects and seeing beyond appearances. Specialization and expertise often mark your expression.\",\n    challenges: \"Your challenges include connecting with others, trusting feelings as well as logic, sharing your insights, and being present in your body. You may struggle with isolation or excessive skepticism.\",\n    career: \"Ideal careers include scientist, researcher, analyst, philosopher, psychologist, technical specialist, or any field requiring deep investigation.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Executive\",\n    description: \"Expression Number 8 reveals that you are meant to express yourself through power, abundance, and material achievement. Your name carries the vibration of authority, business acumen, and manifestation. You have natural talents for organizing large endeavors, managing resources, and achieving tangible success. Your destiny is to master the material world responsibly.\",\n    talents: \"Your core talents include business sense, leadership, organization, judgment, and the ability to achieve. You have a natural gift for managing resources and building enterprises. Executive ability and financial acumen often mark your expression.\",\n    challenges: \"Your challenges include balancing material and spiritual pursuits, using power ethically, and valuing people over achievements. You may struggle with workaholism or defining yourself through success.\",\n    career: \"Ideal careers include executive, entrepreneur, banker, real estate, lawyer, athletic coach, or any field involving management and achievement.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Humanitarian\",\n    description: \"Expression Number 9 reveals that you are meant to express yourself through compassion, wisdom, and universal service. Your name carries the vibration of selflessness, broad perspective, and completion. You have natural talents for understanding human nature, creative arts, and inspiring others toward higher ideals. Your destiny is to serve humanity's evolution.\",\n    talents: \"Your core talents include wisdom, compassion, artistic ability, broad vision, and charisma. You have a natural gift for touching many lives and seeing the bigger picture. Multitalented expression and universal appeal often mark your destiny.\",\n    challenges: \"Your challenges include letting go, focusing on your own needs, avoiding martyrdom, and living in the present. You may struggle with holding onto past hurts or being too idealistic.\",\n    career: \"Ideal careers include humanitarian work, arts, counseling, teaching, philanthropy, or any field with global reach and service orientation.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Inspirer\",\n    description: \"Expression Number 11 is a Master Number revealing that you are meant to express yourself through inspiration, intuition, and spiritual illumination. Your name carries a heightened vibration of vision, sensitivity, and the ability to channel higher wisdom. Your destiny is to inspire and illuminate the path for others.\",\n    talents: \"Your core talents include intuition, inspiration, visionary thinking, artistic sensitivity, and the ability to uplift. You have a natural gift for channeling higher insights and inspiring others. Psychic ability and creative genius often mark your expression.\",\n    challenges: \"Your challenges include managing nervous energy, staying grounded, not becoming overwhelmed, and translating visions into reality. You may struggle with anxiety or impracticality.\",\n    career: \"Ideal careers include spiritual teacher, inspirational speaker, artist, inventor, counselor, or any field where you can inspire and illuminate.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Builder\",\n    description: \"Expression Number 22 is a Master Number revealing that you are meant to express yourself through large-scale achievement and practical idealism. Your name carries the vibration of mastery, organizational genius, and the ability to turn dreams into lasting reality. Your destiny is to build something of enduring significance.\",\n    talents: \"Your core talents include vision, practical ability, leadership on a large scale, organizational genius, and manifestation power. You have a natural gift for achieving the seemingly impossible. Monumental accomplishments often mark your expression.\",\n    challenges: \"Your challenges include managing pressure, not becoming overwhelmed, working with others, and maintaining balance. You may struggle with the weight of your potential or workaholism.\",\n    career: \"Ideal careers include architect, diplomat, international leader, large-scale entrepreneur, or any field requiring massive vision and practical execution.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Teacher\",\n    description: \"Expression Number 33 is the highest Master Number, revealing that you are meant to express yourself through compassionate teaching and healing. Your name carries the vibration of the master healer, selfless service, and unconditional love. Your destiny is to teach love by embodying it.\",\n    talents: \"Your core talents include healing presence, teaching ability, profound compassion, creative expression, and the ability to touch hearts. You have a natural gift for uplifting humanity through your very being. Healing and transformational work often mark your expression.\",\n    challenges: \"Your challenges include maintaining boundaries, not sacrificing yourself, staying grounded, and accepting your humanity. You may struggle with burnout or the weight of others' pain.\",\n    career: \"Ideal careers include spiritual leader, healer, humanitarian leader, counselor, teacher of teachers, or any field involving healing and serving on a large scale.\"\n  }\n};\n\nexport const soulUrgeContent: Record<number, SoulUrgeContent> = {\n  1: {\n    number: 1,\n    title: \"The Independent\",\n    description: \"Soul Urge 1 reveals that at your core, you deeply desire independence, achievement, and being number one. Your heart yearns to stand on your own, to be recognized for your unique contributions, and to lead rather than follow. You feel most alive when you're pioneering something new, when you can express your individuality, and when you're in control of your own destiny. This inner drive toward self-determination is the fire that fuels your soul.\",\n    innerDesires: \"Your deepest desires include being recognized as an individual, achieving personal goals, leading others, starting new ventures, and expressing your originality. You long to be first, to be innovative, and to make your unique mark on the world.\",\n    fulfillment: \"You find soul satisfaction through personal achievement, independence, original creation, and being recognized for your unique contributions. Success on your own terms and the freedom to chart your own course bring you deep joy.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Partner\",\n    description: \"Soul Urge 2 reveals that at your core, you deeply desire harmony, partnership, and emotional connection. Your heart yearns for meaningful relationships, peace, and the joy of genuine collaboration. You feel most alive when you're in harmonious relationships, when you can support and be supported, and when there is balance and beauty around you. This inner drive toward connection and harmony is the deepest longing of your soul.\",\n    innerDesires: \"Your deepest desires include loving partnership, harmony in relationships, being needed and appreciated, peaceful environments, and deep emotional bonds. You long to share your life with someone and to create beauty and balance.\",\n    fulfillment: \"You find soul satisfaction through intimate relationships, being a supportive partner, creating harmony, and feeling deeply connected to others. Love, partnership, and emotional intimacy bring you the greatest joy.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Expresser\",\n    description: \"Soul Urge 3 reveals that at your core, you deeply desire self-expression, joy, and creative fulfillment. Your heart yearns to express itself through words, art, or any creative medium. You feel most alive when you're creating, communicating, and spreading joy. This inner drive toward joyful expression is what makes your soul sing.\",\n    innerDesires: \"Your deepest desires include expressing yourself creatively, being admired for your talents, experiencing joy and pleasure, inspiring others, and living with enthusiasm. You long to create beautiful things and share them with the world.\",\n    fulfillment: \"You find soul satisfaction through creative expression, joyful experiences, inspiring communication, and appreciation from others. Making others laugh or feel moved by your creations brings you deep fulfillment.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Builder\",\n    description: \"Soul Urge 4 reveals that at your core, you deeply desire security, stability, and tangible accomplishment. Your heart yearns for solid foundations, practical achievement, and knowing that your work will endure. You feel most alive when you're building something lasting, when there is order around you, and when you can see the concrete results of your efforts.\",\n    innerDesires: \"Your deepest desires include creating lasting security, building tangible things, having order and routine, being reliable and dependable, and leaving a lasting legacy. You long for stability and the satisfaction of solid work.\",\n    fulfillment: \"You find soul satisfaction through completing projects, creating security for yourself and loved ones, building lasting structures, and being recognized for your reliability. Order, accomplishment, and stability bring you deep peace.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Adventurer\",\n    description: \"Soul Urge 5 reveals that at your core, you deeply desire freedom, variety, and sensory experience. Your heart yearns for adventure, change, and the full experience of being alive. You feel most alive when you're free to explore, when life offers variety and excitement, and when you can experience new things. This inner drive toward freedom and experience is your soul's deepest calling.\",\n    innerDesires: \"Your deepest desires include freedom of movement and choice, variety and change, sensory pleasures, travel and adventure, and meeting new people. You long to experience all that life has to offer.\",\n    fulfillment: \"You find soul satisfaction through adventure, variety, travel, freedom, and new experiences. Breaking free from routine and exploring new horizons brings you the greatest joy.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Caregiver\",\n    description: \"Soul Urge 6 reveals that at your core, you deeply desire love, family, and the chance to nurture others. Your heart yearns to care for those you love, to create a beautiful home, and to see your loved ones thrive. You feel most alive when you're taking care of others, when your home is harmonious, and when love surrounds you.\",\n    innerDesires: \"Your deepest desires include nurturing family, creating a beautiful home, being needed by loved ones, serving those you love, and experiencing deep domestic harmony. You long for a life filled with love and beauty.\",\n    fulfillment: \"You find soul satisfaction through caring for others, creating beauty in your environment, seeing loved ones flourish, and being at the center of a loving family or community. Domestic happiness and service bring you deep joy.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Seeker\",\n    description: \"Soul Urge 7 reveals that at your core, you deeply desire truth, wisdom, and understanding life's mysteries. Your heart yearns for knowledge, solitude for contemplation, and answers to life's big questions. You feel most alive when you're learning, researching, and discovering hidden truths. This inner drive toward understanding is your soul's deepest calling.\",\n    innerDesires: \"Your deepest desires include understanding truth, gaining knowledge and wisdom, having time for contemplation, uncovering mysteries, and achieving inner peace. You long for wisdom and spiritual understanding.\",\n    fulfillment: \"You find soul satisfaction through learning, research, spiritual exploration, moments of insight, and deep contemplation. Discovering truth and achieving inner wisdom bring you the greatest peace.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Achiever\",\n    description: \"Soul Urge 8 reveals that at your core, you deeply desire power, abundance, and material achievement. Your heart yearns for success, recognition, and the ability to make things happen in the world. You feel most alive when you're achieving, building, and wielding influence. This inner drive toward power and abundance is your soul's deepest motivation.\",\n    innerDesires: \"Your deepest desires include achieving financial abundance, gaining recognition and status, wielding power and influence, building an empire, and being successful. You long for mastery of the material world.\",\n    fulfillment: \"You find soul satisfaction through achievement, accumulating wealth, gaining respect and status, and making an impact on the world. Success and abundance bring you deep satisfaction.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Giver\",\n    description: \"Soul Urge 9 reveals that at your core, you deeply desire to serve humanity and make the world a better place. Your heart yearns for universal love, compassion, and the fulfillment that comes from giving to others. You feel most alive when you're helping, when you're connected to a cause greater than yourself, and when you can see the impact of your service.\",\n    innerDesires: \"Your deepest desires include serving humanity, making a positive difference, expressing universal love, leaving the world better than you found it, and being connected to something greater than yourself. You long for meaning through service.\",\n    fulfillment: \"You find soul satisfaction through humanitarian work, selfless giving, creative expression that touches many, and knowing you've made a positive impact. Service to others and universal love bring you the deepest joy.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Illuminated\",\n    description: \"Soul Urge 11 is a Master Number revealing that at your core, you deeply desire spiritual illumination, inspiration, and connection to higher wisdom. Your heart yearns to understand life's spiritual dimensions and to inspire others toward enlightenment. You feel most alive when you're receiving insights, inspiring others, and connected to the divine.\",\n    innerDesires: \"Your deepest desires include spiritual enlightenment, inspiring others, receiving divine guidance, understanding higher truths, and being a channel for light. You long for profound spiritual connection and the ability to illuminate.\",\n    fulfillment: \"You find soul satisfaction through spiritual experiences, inspiring moments, channeling higher wisdom, and uplifting others. Connection to the divine and serving as a light for others brings you deep peace.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Manifester\",\n    description: \"Soul Urge 22 is a Master Number revealing that at your core, you deeply desire to build something of lasting significance that benefits humanity. Your heart yearns to turn your greatest dreams into reality and to leave a legacy that endures. You feel most alive when you're manifesting visions on a grand scale.\",\n    innerDesires: \"Your deepest desires include building something monumental, leaving a lasting legacy, making dreams reality, serving humanity through achievement, and mastering the material and spiritual worlds. You long to create something that will outlive you.\",\n    fulfillment: \"You find soul satisfaction through large-scale achievement, seeing your visions manifested, building lasting structures, and knowing your work serves the greater good. Manifesting dreams into reality brings you deep fulfillment.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Cosmic Parent\",\n    description: \"Soul Urge 33 is the highest Master Number revealing that at your core, you deeply desire to heal and teach through unconditional love. Your heart yearns to serve as a parent to humanity, nurturing and guiding all beings toward their highest potential. You feel most alive when you're loving, healing, and uplifting others.\",\n    innerDesires: \"Your deepest desires include healing through love, teaching spiritual truths, serving as a guide for humanity, experiencing unconditional love, and helping others reach their highest potential. You long to be a pure channel for divine love.\",\n    fulfillment: \"You find soul satisfaction through healing work, unconditional loving, teaching by example, and seeing others awaken. Being a vessel for divine love and helping transform lives brings you the greatest joy.\"\n  }\n};\n\nexport const personalityContent: Record<number, PersonalityContent> = {\n  1: {\n    number: 1,\n    title: \"The Leader\",\n    description: \"Personality Number 1 reveals that you project an image of strength, independence, and leadership to the world. Others see you as confident, capable, and self-reliant. Your outer persona suggests someone who knows what they want and isn't afraid to go after it. You come across as ambitious, determined, and original.\",\n    firstImpression: \"When people first meet you, they see a strong, confident individual who appears to be a natural leader. You project an air of independence and self-sufficiency. People sense that you are someone who takes initiative and prefers to chart your own course.\",\n    socialStyle: \"In social situations, you tend to take charge or stand out as an individual. You're not one to blend into the crowd. Others may look to you for direction, or they may perceive you as somewhat aloof or competitive. You dress and present yourself in ways that emphasize your individuality.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Diplomat\",\n    description: \"Personality Number 2 reveals that you project an image of gentleness, cooperation, and approachability to the world. Others see you as friendly, diplomatic, and easy to be with. Your outer persona suggests someone who is caring, supportive, and attuned to others' feelings.\",\n    firstImpression: \"When people first meet you, they see a warm, friendly individual who appears approachable and non-threatening. You project an air of harmony and cooperation. People sense that you are someone who listens well and cares about others.\",\n    socialStyle: \"In social situations, you tend to be accommodating and diplomatic. You're skilled at putting others at ease and facilitating connections. Others may rely on you to smooth over conflicts or bring people together. You dress and present yourself in refined, harmonious ways.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Entertainer\",\n    description: \"Personality Number 3 reveals that you project an image of creativity, charm, and expressiveness to the world. Others see you as sociable, entertaining, and fun to be around. Your outer persona suggests someone who is artistic, witty, and full of life.\",\n    firstImpression: \"When people first meet you, they see a charming, expressive individual who seems to light up the room. You project an air of creativity and enthusiasm. People sense that you are someone who knows how to have fun and make others smile.\",\n    socialStyle: \"In social situations, you tend to be the life of the party or the creative spark. You're skilled at conversation and entertainment. Others are drawn to your wit and charm. You dress and present yourself in expressive, colorful, or fashionable ways.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Rock\",\n    description: \"Personality Number 4 reveals that you project an image of reliability, stability, and practicality to the world. Others see you as dependable, hardworking, and trustworthy. Your outer persona suggests someone who is organized, responsible, and grounded.\",\n    firstImpression: \"When people first meet you, they see a steady, reliable individual who appears practical and down-to-earth. You project an air of competence and stability. People sense that you are someone they can count on.\",\n    socialStyle: \"In social situations, you tend to be consistent and dependable. You're not flashy but rather solid and trustworthy. Others may turn to you for practical advice or help. You dress and present yourself in conservative, appropriate, and practical ways.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Free Spirit\",\n    description: \"Personality Number 5 reveals that you project an image of excitement, versatility, and freedom to the world. Others see you as dynamic, adventurous, and interesting. Your outer persona suggests someone who is open to new experiences and lives life fully.\",\n    firstImpression: \"When people first meet you, they see an energetic, exciting individual who appears interesting and multifaceted. You project an air of freedom and adventure. People sense that you are someone who has fascinating experiences to share.\",\n    socialStyle: \"In social situations, you tend to be dynamic and engaging, often the center of attention through your stories or ideas. You're skilled at making connections and keeping things interesting. You dress and present yourself in trendy, unique, or unconventional ways.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Nurturer\",\n    description: \"Personality Number 6 reveals that you project an image of warmth, responsibility, and caring to the world. Others see you as nurturing, trustworthy, and domestic. Your outer persona suggests someone who values family, home, and service to others.\",\n    firstImpression: \"When people first meet you, they see a warm, responsible individual who appears caring and supportive. You project an air of stability and nurturing. People sense that you are someone who takes care of others.\",\n    socialStyle: \"In social situations, you tend to be the caretaker or the one who ensures everyone is comfortable. You're skilled at making others feel welcome and cared for. You dress and present yourself in comfortable, tasteful, and harmonious ways.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Thinker\",\n    description: \"Personality Number 7 reveals that you project an image of depth, mystery, and intelligence to the world. Others see you as thoughtful, reserved, and perhaps somewhat enigmatic. Your outer persona suggests someone who has a rich inner life and deep knowledge.\",\n    firstImpression: \"When people first meet you, they see a quiet, thoughtful individual who appears intelligent and somewhat mysterious. You project an air of depth and contemplation. People sense that there is much more to you than meets the eye.\",\n    socialStyle: \"In social situations, you tend to be reserved, preferring deeper conversations to small talk. You're skilled at listening and observing. Others may find you intriguing but somewhat hard to know. You dress and present yourself in refined, understated, or quality-focused ways.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Executive\",\n    description: \"Personality Number 8 reveals that you project an image of power, success, and authority to the world. Others see you as ambitious, capable, and influential. Your outer persona suggests someone who is successful or destined for success.\",\n    firstImpression: \"When people first meet you, they see a confident, authoritative individual who appears successful and powerful. You project an air of capability and ambition. People sense that you are someone who gets things done and commands respect.\",\n    socialStyle: \"In social situations, you tend to be impressive and commanding. You're skilled at projecting success and authority. Others may be intimidated or impressed by you. You dress and present yourself in quality, status-conscious, or professional ways.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Sage\",\n    description: \"Personality Number 9 reveals that you project an image of wisdom, compassion, and broad perspective to the world. Others see you as understanding, worldly, and humanitarian. Your outer persona suggests someone who cares about the greater good and has lived richly.\",\n    firstImpression: \"When people first meet you, they see a warm, wise individual who appears understanding and sophisticated. You project an air of compassion and worldliness. People sense that you have wisdom to share and care about humanity.\",\n    socialStyle: \"In social situations, you tend to be gracious and inclusive, making everyone feel valued. You're skilled at seeing the big picture and connecting with diverse people. You dress and present yourself in artistic, culturally aware, or sophisticated ways.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Intuitive\",\n    description: \"Personality Number 11 is a Master Number revealing that you project an image of inspiration, intuition, and spiritual awareness to the world. Others see you as special, sensitive, and potentially psychic. Your outer persona suggests someone who is tuned into higher frequencies.\",\n    firstImpression: \"When people first meet you, they see an inspiring, sensitive individual who appears to have unusual insight or awareness. You project an air of spirituality and intuition. People sense that you are someone who sees beyond the ordinary.\",\n    socialStyle: \"In social situations, you tend to be inspiring or somewhat otherworldly. You're skilled at picking up on energies and unspoken dynamics. Others may be drawn to your light or find you somewhat intense. You present yourself in unique, artistic, or spiritually conscious ways.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master\",\n    description: \"Personality Number 22 is a Master Number revealing that you project an image of tremendous capability, vision, and practical power to the world. Others see you as someone capable of great achievements and possessing unusual organizational ability.\",\n    firstImpression: \"When people first meet you, they see a powerful, capable individual who appears to have vision and practical mastery. You project an air of authority combined with inspired vision. People sense that you are someone who can achieve the extraordinary.\",\n    socialStyle: \"In social situations, you tend to be impressive and commanding, yet purposeful. You're skilled at organizing and leading. Others may feel they are in the presence of someone destined for significant accomplishments. You present yourself in professional, quality, and purposeful ways.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Healer\",\n    description: \"Personality Number 33 is the highest Master Number revealing that you project an image of profound compassion, healing presence, and spiritual teaching to the world. Others see you as a healer, teacher, or someone with an unusually loving presence.\",\n    firstImpression: \"When people first meet you, they see a warm, healing individual who radiates compassion and understanding. You project an air of unconditional acceptance and spiritual depth. People sense that you are someone who can help them feel better.\",\n    socialStyle: \"In social situations, you tend to be nurturing and healing in your presence. You're skilled at making others feel loved and accepted. Others may seek you out for comfort or guidance. You present yourself in warm, comforting, and harmonious ways.\"\n  }\n};\n\nexport const attitudeContent: Record<number, AttitudeContent> = {\n  1: {\n    number: 1,\n    title: \"The Pioneer\",\n    description: \"Attitude Number 1 reveals your initial approach to life situations is one of independence, initiative, and leadership. When facing new circumstances, your first instinct is to take charge, act decisively, and rely on yourself. You naturally approach life as a leader who forges their own path.\",\n    harmoniousBehavior: \"In your best expression, you approach life with courage, confidence, and the willingness to pioneer new territory. You're decisive, self-motivated, and inspire others through your example. You see challenges as opportunities to demonstrate your capabilities and create something original.\",\n    darkSide: \"When imbalanced, you may become domineering, aggressive, or unwilling to consider others' perspectives. Stubbornness, impatience, and a need to win at all costs can emerge. You may push people away with an overly competitive or self-centered approach.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Mediator\",\n    description: \"Attitude Number 2 reveals your initial approach to life situations is one of cooperation, diplomacy, and sensitivity. When facing new circumstances, your first instinct is to seek harmony, consider others' feelings, and find ways to collaborate. You naturally approach life as a peacemaker.\",\n    harmoniousBehavior: \"In your best expression, you approach life with tact, empathy, and genuine care for others. You're patient, supportive, and skilled at bringing people together. You see relationships as central to life and value harmony over personal victory.\",\n    darkSide: \"When imbalanced, you may become passive, indecisive, or overly dependent on others. Excessive sensitivity, people-pleasing, and losing yourself in relationships can emerge. You may avoid necessary confrontation or suppress your own needs.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Optimist\",\n    description: \"Attitude Number 3 reveals your initial approach to life situations is one of optimism, creativity, and expression. When facing new circumstances, your first instinct is to find the bright side, express yourself, and bring joy to the situation. You naturally approach life as a creative communicator.\",\n    harmoniousBehavior: \"In your best expression, you approach life with enthusiasm, humor, and creative vision. You're expressive, sociable, and skilled at uplifting others. You see life as an opportunity for joy and self-expression, and you spread positivity wherever you go.\",\n    darkSide: \"When imbalanced, you may become superficial, scattered, or avoid anything too serious. Excessive talking, drama, or using humor to deflect can emerge. You may escape into pleasure rather than dealing with difficult realities.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Organizer\",\n    description: \"Attitude Number 4 reveals your initial approach to life situations is one of practicality, organization, and diligence. When facing new circumstances, your first instinct is to create order, make a plan, and work systematically. You naturally approach life as a builder who values structure.\",\n    harmoniousBehavior: \"In your best expression, you approach life with reliability, determination, and practical wisdom. You're organized, hardworking, and skilled at creating lasting foundations. You see value in patience, persistence, and doing things properly.\",\n    darkSide: \"When imbalanced, you may become rigid, pessimistic, or workaholic. Stubbornness, resistance to change, and limiting yourself to only what you can see can emerge. You may miss opportunities by being too cautious or practical.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Adventurer\",\n    description: \"Attitude Number 5 reveals your initial approach to life situations is one of curiosity, adaptability, and desire for experience. When facing new circumstances, your first instinct is to explore, adapt, and embrace the change. You naturally approach life as an adventurer seeking new experiences.\",\n    harmoniousBehavior: \"In your best expression, you approach life with enthusiasm, flexibility, and open-mindedness. You're resourceful, communicative, and skilled at navigating change. You see life as an adventure to be experienced fully and embrace variety.\",\n    darkSide: \"When imbalanced, you may become restless, irresponsible, or prone to excess. Inability to commit, scattered energy, and addiction to stimulation can emerge. You may run from responsibilities or never find contentment.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Caretaker\",\n    description: \"Attitude Number 6 reveals your initial approach to life situations is one of responsibility, nurturing, and concern for others. When facing new circumstances, your first instinct is to care for those involved, create harmony, and take responsibility. You naturally approach life as a caregiver.\",\n    harmoniousBehavior: \"In your best expression, you approach life with love, responsibility, and desire to serve. You're nurturing, reliable, and skilled at creating harmony. You see your role as caring for others and making your environment more beautiful.\",\n    darkSide: \"When imbalanced, you may become controlling, martyr-like, or anxious. Meddling in others' affairs, expecting perfection, and sacrificing yourself unhealthily can emerge. You may enable dependence or lose yourself in caretaking.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Analyst\",\n    description: \"Attitude Number 7 reveals your initial approach to life situations is one of analysis, contemplation, and seeking understanding. When facing new circumstances, your first instinct is to observe, analyze, and understand before acting. You naturally approach life as a seeker of truth.\",\n    harmoniousBehavior: \"In your best expression, you approach life with wisdom, insight, and depth. You're thoughtful, intuitive, and skilled at understanding complex matters. You see value in looking beneath the surface and finding deeper meaning.\",\n    darkSide: \"When imbalanced, you may become isolated, skeptical, or lost in analysis. Over-thinking, distrust, and disconnection from emotions can emerge. You may retreat into your mind and miss the experience of life.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Director\",\n    description: \"Attitude Number 8 reveals your initial approach to life situations is one of ambition, authority, and focus on results. When facing new circumstances, your first instinct is to take control, organize resources, and achieve objectives. You naturally approach life as an executive seeking success.\",\n    harmoniousBehavior: \"In your best expression, you approach life with confidence, efficiency, and powerful intention. You're organized, goal-oriented, and skilled at manifesting results. You see potential for success and know how to make things happen.\",\n    darkSide: \"When imbalanced, you may become domineering, materialistic, or ruthless. Workaholism, power struggles, and measuring worth only by success can emerge. You may sacrifice relationships or ethics in pursuit of achievement.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Philosopher\",\n    description: \"Attitude Number 9 reveals your initial approach to life situations is one of wisdom, compassion, and broader perspective. When facing new circumstances, your first instinct is to see the bigger picture, consider the humanitarian aspects, and approach with understanding. You naturally approach life as a wise philosopher.\",\n    harmoniousBehavior: \"In your best expression, you approach life with wisdom, tolerance, and genuine care for humanity. You're understanding, forgiving, and skilled at seeing the universal aspects of any situation. You see life as a journey toward greater love and understanding.\",\n    darkSide: \"When imbalanced, you may become self-righteous, detached, or stuck in the past. Resentment, living in memories, and using idealism to escape reality can emerge. You may fail to take care of your own needs while focusing on the world.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Visionary\",\n    description: \"Attitude Number 11 is a Master Number revealing your initial approach to life situations is one of inspiration, intuition, and higher awareness. When facing new circumstances, your first instinct is to tune into the spiritual dimension and seek inspired guidance. You naturally approach life as a visionary.\",\n    harmoniousBehavior: \"In your best expression, you approach life with inspiration, intuition, and faith. You're insightful, inspiring, and skilled at perceiving what others miss. You see the spiritual potential in every situation and can illuminate the path for others.\",\n    darkSide: \"When imbalanced, you may become anxious, impractical, or overwhelmed. Nervous tension, escapism into fantasy, and inability to ground your visions can emerge. You may struggle to function in the practical world.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Planner\",\n    description: \"Attitude Number 22 is a Master Number revealing your initial approach to life situations is one of vision combined with practical mastery. When facing new circumstances, your first instinct is to see the grand potential and immediately begin organizing its manifestation. You naturally approach life as a master builder.\",\n    harmoniousBehavior: \"In your best expression, you approach life with inspired vision and practical capability. You're organized, visionary, and skilled at turning dreams into reality. You see possibilities that others miss and have the ability to manifest them.\",\n    darkSide: \"When imbalanced, you may become overwhelmed, controlling, or crushed by pressure. Taking on too much, demanding perfection, and workaholism can emerge. You may struggle under the weight of your own potential.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Healer\",\n    description: \"Attitude Number 33 is the highest Master Number revealing your initial approach to life situations is one of unconditional love and healing presence. When facing new circumstances, your first instinct is to approach with compassion, seek to heal, and see the divine in everyone. You naturally approach life as a master teacher of love.\",\n    harmoniousBehavior: \"In your best expression, you approach life with profound love, compassion, and healing intent. You're nurturing on a cosmic scale and skilled at uplifting others through your presence. You see the potential for healing and transformation everywhere.\",\n    darkSide: \"When imbalanced, you may become martyred, depleted, or burdened by others' pain. Taking on too much, neglecting yourself, and messiah complex can emerge. You may lose yourself in trying to save everyone.\"\n  }\n};\n\nexport const generationContent: Record<number, GenerationContent> = {\n  1: {\n    number: 1,\n    title: \"The Pioneers\",\n    description: \"Generation Number 1 indicates you are part of a collective energy focused on independence, innovation, and new beginnings. Your generation carries the vibration of pioneers and leaders who are here to break new ground and establish new ways of doing things. You share with your generation mates a drive toward individuality and self-determination.\",\n    collectiveEnergy: \"Your generation is characterized by a pioneering spirit, emphasis on individual rights and expression, and the drive to create new systems. You collectively challenge traditions and push boundaries. Leadership, entrepreneurship, and innovative thinking are hallmarks of your generational group.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Peacemakers\",\n    description: \"Generation Number 2 indicates you are part of a collective energy focused on cooperation, diplomacy, and harmony. Your generation carries the vibration of peacemakers who are here to build bridges and create understanding between different groups. You share with your generation mates a sensitivity to relationships and a desire for balance.\",\n    collectiveEnergy: \"Your generation is characterized by emphasis on partnership, equality in relationships, and diplomatic solutions. You collectively value cooperation over competition and seek to create harmony in society. Emotional intelligence, mediation, and collaborative approaches are hallmarks of your generational group.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Expressors\",\n    description: \"Generation Number 3 indicates you are part of a collective energy focused on creativity, communication, and self-expression. Your generation carries the vibration of artists and communicators who are here to express new ideas and bring joy to the world. You share with your generation mates an optimistic, creative approach to life.\",\n    collectiveEnergy: \"Your generation is characterized by creative innovation, new forms of communication, and emphasis on joy and self-expression. You collectively value creativity, entertainment, and the power of communication. Artistic expression, media innovation, and social connectivity are hallmarks of your generational group.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Builders\",\n    description: \"Generation Number 4 indicates you are part of a collective energy focused on building, structure, and practical achievement. Your generation carries the vibration of builders who are here to create lasting foundations and systems. You share with your generation mates a strong work ethic and focus on tangible results.\",\n    collectiveEnergy: \"Your generation is characterized by focus on building lasting structures, valuing hard work, and creating stable systems. You collectively approach problems practically and seek to leave tangible legacies. Infrastructure building, systematic approaches, and valuing tradition are hallmarks of your generational group.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Changers\",\n    description: \"Generation Number 5 indicates you are part of a collective energy focused on change, freedom, and progress. Your generation carries the vibration of change agents who are here to break free from old restrictions and experience life fully. You share with your generation mates a love of freedom and embrace of change.\",\n    collectiveEnergy: \"Your generation is characterized by rapid change, valuing freedom, and embracing new experiences. You collectively challenge restrictions and seek to expand human experience. Travel, communication technology, and breaking free from traditions are hallmarks of your generational group.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Nurturers\",\n    description: \"Generation Number 6 indicates you are part of a collective energy focused on family, community, and social responsibility. Your generation carries the vibration of nurturers who are here to care for others and create harmonious communities. You share with your generation mates a strong sense of responsibility and care for others.\",\n    collectiveEnergy: \"Your generation is characterized by focus on family values, community responsibility, and nurturing care. You collectively value home, family, and service to others. Healthcare, education, and community building are hallmarks of your generational group.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Seekers\",\n    description: \"Generation Number 7 indicates you are part of a collective energy focused on wisdom, spirituality, and truth-seeking. Your generation carries the vibration of seekers who are here to explore the mysteries of life and develop deeper understanding. You share with your generation mates a questioning nature and spiritual curiosity.\",\n    collectiveEnergy: \"Your generation is characterized by spiritual seeking, scientific inquiry, and pursuit of deeper truth. You collectively value wisdom, analysis, and inner development. Research, spirituality, and technological innovation are hallmarks of your generational group.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Achievers\",\n    description: \"Generation Number 8 indicates you are part of a collective energy focused on power, achievement, and material success. Your generation carries the vibration of achievers who are here to master the material world and build empires. You share with your generation mates an ambitious drive and focus on results.\",\n    collectiveEnergy: \"Your generation is characterized by economic ambition, power dynamics, and material achievement. You collectively value success, efficiency, and financial mastery. Business innovation, wealth creation, and power structures are hallmarks of your generational group.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Humanitarians\",\n    description: \"Generation Number 9 indicates you are part of a collective energy focused on humanitarianism, global awareness, and completion of cycles. Your generation carries the vibration of wise ones who are here to serve humanity and bring closure to old patterns. You share with your generation mates a broad perspective and compassionate nature.\",\n    collectiveEnergy: \"Your generation is characterized by global awareness, humanitarian concerns, and letting go of outdated systems. You collectively value compassion, diversity, and service to humanity. Philanthropy, global consciousness, and transformational endings are hallmarks of your generational group.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Illuminators\",\n    description: \"Generation Number 11 is a Master Number indicating you are part of a collective energy focused on spiritual awakening, inspiration, and raising consciousness. Your generation carries the heightened vibration of illuminators who are here to bring light and spiritual awareness to humanity.\",\n    collectiveEnergy: \"Your generation is characterized by spiritual awakening, intuitive development, and inspired innovation. You collectively serve as a bridge between physical and spiritual realities. Consciousness expansion, enlightenment movements, and inspirational leadership are hallmarks of your generational group.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Builders\",\n    description: \"Generation Number 22 is a Master Number indicating you are part of a collective energy focused on building on a massive scale and making practical the highest ideals. Your generation carries the vibration of master builders who are here to manifest significant changes in physical reality.\",\n    collectiveEnergy: \"Your generation is characterized by the ability to manifest large-scale change and build lasting structures for humanity. You collectively combine vision with practical ability. Global infrastructure, major institutional change, and practical idealism are hallmarks of your generational group.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Teachers\",\n    description: \"Generation Number 33 is the highest Master Number indicating you are part of a collective energy focused on healing, teaching, and unconditional love on a global scale. Your generation carries the vibration of master teachers who are here to uplift humanity through love.\",\n    collectiveEnergy: \"Your generation is characterized by profound healing potential, spiritual teaching, and the manifestation of unconditional love. You collectively serve as healers and teachers for humanity. Global healing movements, spiritual teaching, and unconditional service are hallmarks of your generational group.\"\n  }\n};\n\nexport const dayOfBirthContent: Record<number, DayOfBirthContent> = {\n  1: {\n    number: 1,\n    title: \"The Initiator\",\n    description: \"Being born on the 1st, 10th, 19th, or 28th gives you the special gift of initiation and leadership. You entered the world with the energy of new beginnings, independence, and originality. This day of birth adds a pioneering quality to your personality, giving you the confidence to start new things and the courage to go first. You have a natural ability to take initiative and a strong sense of individuality.\",\n    specialGifts: \"Your birth day gifts include leadership ability, originality, self-confidence, determination, and pioneering spirit. You naturally know how to begin things and have the courage to act independently. You bring innovation and initiative to whatever you do.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Cooperator\",\n    description: \"Being born on the 2nd, 11th, 20th, or 29th gives you the special gift of sensitivity and cooperation. You entered the world with the energy of partnership, intuition, and diplomacy. This day of birth adds a gentle, receptive quality to your personality, giving you the ability to work well with others and sense what is needed. You have a natural ability to create harmony and form meaningful connections.\",\n    specialGifts: \"Your birth day gifts include intuition, diplomacy, patience, sensitivity, and cooperative spirit. You naturally know how to work with others and have the ability to sense unspoken dynamics. You bring harmony and balance to whatever you do.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Expresser\",\n    description: \"Being born on the 3rd, 12th, 21st, or 30th gives you the special gift of creativity and expression. You entered the world with the energy of joy, communication, and artistic ability. This day of birth adds a creative, expressive quality to your personality, giving you the ability to communicate effectively and bring joy to others. You have a natural ability to express yourself and inspire others.\",\n    specialGifts: \"Your birth day gifts include creativity, communication ability, optimism, imagination, and social charm. You naturally know how to express yourself and have the ability to uplift others. You bring creativity and joy to whatever you do.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Builder\",\n    description: \"Being born on the 4th, 13th, 22nd, or 31st gives you the special gift of practical ability and determination. You entered the world with the energy of building, organization, and hard work. This day of birth adds a solid, reliable quality to your personality, giving you the ability to create lasting structures and see projects through to completion. You have a natural ability to organize and build.\",\n    specialGifts: \"Your birth day gifts include organizational ability, determination, practicality, reliability, and building capacity. You naturally know how to create order and have the ability to work persistently toward goals. You bring stability and lasting results to whatever you do.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Adventurer\",\n    description: \"Being born on the 5th, 14th, or 23rd gives you the special gift of versatility and freedom. You entered the world with the energy of change, adventure, and sensory experience. This day of birth adds a dynamic, adaptable quality to your personality, giving you the ability to embrace change and communicate effectively. You have a natural ability to adapt and explore.\",\n    specialGifts: \"Your birth day gifts include versatility, quick thinking, adaptability, communication skills, and love of freedom. You naturally know how to navigate change and have the ability to connect with diverse people. You bring excitement and adaptability to whatever you do.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Nurturer\",\n    description: \"Being born on the 6th, 15th, or 24th gives you the special gift of nurturing and responsibility. You entered the world with the energy of love, family, and service. This day of birth adds a caring, responsible quality to your personality, giving you the ability to nurture others and create harmony. You have a natural ability to care for others and create beauty.\",\n    specialGifts: \"Your birth day gifts include nurturing ability, responsibility, artistic sense, domestic skills, and loving nature. You naturally know how to care for others and have the ability to create harmony. You bring love and beauty to whatever you do.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Thinker\",\n    description: \"Being born on the 7th, 16th, or 25th gives you the special gift of analysis and intuition. You entered the world with the energy of wisdom, introspection, and spiritual seeking. This day of birth adds a thoughtful, perceptive quality to your personality, giving you the ability to see beneath the surface and understand deeply. You have a natural ability to analyze and intuit.\",\n    specialGifts: \"Your birth day gifts include analytical ability, intuition, wisdom, research skills, and spiritual awareness. You naturally know how to investigate deeply and have the ability to perceive hidden truths. You bring depth and understanding to whatever you do.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Achiever\",\n    description: \"Being born on the 8th, 17th, or 26th gives you the special gift of material mastery and executive ability. You entered the world with the energy of power, abundance, and achievement. This day of birth adds an authoritative, capable quality to your personality, giving you the ability to organize, manage, and achieve. You have a natural ability to manifest and succeed.\",\n    specialGifts: \"Your birth day gifts include executive ability, business acumen, organizational skill, manifestation power, and ambition. You naturally know how to achieve goals and have the ability to manage resources effectively. You bring success and abundance to whatever you do.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Humanitarian\",\n    description: \"Being born on the 9th, 18th, or 27th gives you the special gift of wisdom and compassion. You entered the world with the energy of universal love, humanitarian service, and completion. This day of birth adds a wise, compassionate quality to your personality, giving you the ability to understand broadly and serve humanity. You have a natural ability to see the big picture and give selflessly.\",\n    specialGifts: \"Your birth day gifts include wisdom, compassion, artistic ability, broad vision, and humanitarian spirit. You naturally know how to see the universal aspects of life and have the ability to inspire and help many. You bring wisdom and compassion to whatever you do.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Inspirer\",\n    description: \"Being born on the 11th gives you the special Master Number gift of inspiration and intuition. You entered the world with the heightened energy of spiritual awareness, vision, and illumination. This day of birth adds an inspired, intuitive quality to your personality, giving you the ability to perceive beyond the ordinary and inspire others.\",\n    specialGifts: \"Your birth day gifts include heightened intuition, inspirational ability, psychic sensitivity, visionary thinking, and spiritual awareness. You naturally know how to tune into higher frequencies and have the ability to illuminate paths for others. You bring inspiration and light to whatever you do.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Master Builder\",\n    description: \"Being born on the 22nd gives you the special Master Number gift of practical idealism and large-scale building. You entered the world with the powerful energy of manifestation, organizational mastery, and the ability to turn dreams into reality. This day of birth adds a visionary yet practical quality to your personality.\",\n    specialGifts: \"Your birth day gifts include master organizing ability, visionary thinking, practical idealism, manifestation power, and large-scale building capacity. You naturally know how to envision and create significant things and have the ability to achieve the extraordinary. You bring mastery and manifestation to whatever you do.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Healer\",\n    description: \"While true 33 birth day is rare (would require the 33rd day which doesn't exist), those whose numerology otherwise brings them to 33 as a day influence carry the special gift of healing love and spiritual teaching. You entered the world with the highest vibration of compassionate service.\",\n    specialGifts: \"Your gifts include healing presence, profound compassion, teaching ability, spiritual depth, and unconditional love. You naturally know how to heal and uplift and have the ability to transform lives through love. You bring healing and unconditional love to whatever you do.\"\n  }\n};\n\nexport const maturityContent: Record<number, MaturityContent> = {\n  1: {\n    number: 1,\n    title: \"The Independent Leader\",\n    description: \"Maturity Number 1 indicates that your later life path leads toward greater independence, leadership, and self-determination. As you mature, you will increasingly be called to stand on your own, express your individuality, and take the lead in your life. Your later years are about becoming more authentically yourself and expressing your unique vision with confidence.\",\n    laterLifeGoals: \"Your maturity goals involve developing true self-reliance, expressing your originality fully, and leading by example. You're moving toward a life where you are the authority in your own experience. Success in later life comes through courage to be yourself and willingness to pioneer your own path.\"\n  },\n  2: {\n    number: 2,\n    title: \"The Peaceful Partner\",\n    description: \"Maturity Number 2 indicates that your later life path leads toward greater harmony, partnership, and emotional fulfillment. As you mature, you will increasingly be called to develop meaningful relationships, create balance, and serve as a peacemaker. Your later years are about deepening connections and finding peace through harmony.\",\n    laterLifeGoals: \"Your maturity goals involve developing true partnership, finding emotional fulfillment, and creating peace in your environment. You're moving toward a life of meaningful connection and balanced relationships. Success in later life comes through genuine cooperation and emotional wisdom.\"\n  },\n  3: {\n    number: 3,\n    title: \"The Creative Voice\",\n    description: \"Maturity Number 3 indicates that your later life path leads toward greater creative expression, joy, and communication. As you mature, you will increasingly be called to express yourself creatively, communicate your truth, and share your joy with the world. Your later years are about finding your authentic voice and creative fulfillment.\",\n    laterLifeGoals: \"Your maturity goals involve developing your creative gifts, expressing yourself authentically, and bringing more joy into life. You're moving toward a life of creative expression and joyful communication. Success in later life comes through authentic self-expression and sharing your gifts.\"\n  },\n  4: {\n    number: 4,\n    title: \"The Stable Foundation\",\n    description: \"Maturity Number 4 indicates that your later life path leads toward greater stability, accomplishment, and practical wisdom. As you mature, you will increasingly be called to build lasting structures, find security, and apply your practical skills. Your later years are about creating solid foundations and leaving tangible legacies.\",\n    laterLifeGoals: \"Your maturity goals involve building lasting security, applying practical wisdom, and leaving solid legacies. You're moving toward a life of stability and tangible accomplishment. Success in later life comes through persistent effort and building things that endure.\"\n  },\n  5: {\n    number: 5,\n    title: \"The Wise Explorer\",\n    description: \"Maturity Number 5 indicates that your later life path leads toward greater freedom, experience, and wisdom gained through variety. As you mature, you will increasingly be called to embrace change, seek new experiences, and share the wisdom you've gained through living fully. Your later years are about freedom and experiential wisdom.\",\n    laterLifeGoals: \"Your maturity goals involve embracing constructive change, experiencing life fully, and sharing the wisdom of experience. You're moving toward a life of freedom, variety, and adventure. Success in later life comes through remaining open to new experiences and adapting wisely to change.\"\n  },\n  6: {\n    number: 6,\n    title: \"The Loving Sage\",\n    description: \"Maturity Number 6 indicates that your later life path leads toward greater love, service, and domestic fulfillment. As you mature, you will increasingly be called to nurture others, create beauty, and serve love in your community. Your later years are about love, family, and meaningful service.\",\n    laterLifeGoals: \"Your maturity goals involve deepening love relationships, serving your community, and creating harmony in your environment. You're moving toward a life of love, beauty, and meaningful service. Success in later life comes through loving service and creating harmony.\"\n  },\n  7: {\n    number: 7,\n    title: \"The Spiritual Sage\",\n    description: \"Maturity Number 7 indicates that your later life path leads toward greater wisdom, spiritual development, and inner peace. As you mature, you will increasingly be called to seek truth, develop spiritually, and share the wisdom you've gained. Your later years are about inner development and spiritual fulfillment.\",\n    laterLifeGoals: \"Your maturity goals involve developing spiritual wisdom, finding inner peace, and sharing your insights with others. You're moving toward a life of contemplation, understanding, and spiritual fulfillment. Success in later life comes through inner development and living your truth.\"\n  },\n  8: {\n    number: 8,\n    title: \"The Accomplished Master\",\n    description: \"Maturity Number 8 indicates that your later life path leads toward greater achievement, abundance, and the responsible use of power. As you mature, you will increasingly be called to use your resources wisely, achieve significant goals, and leave a legacy of accomplishment. Your later years are about mastery and achievement.\",\n    laterLifeGoals: \"Your maturity goals involve achieving material mastery, using power responsibly, and leaving a significant legacy. You're moving toward a life of accomplishment, abundance, and respected authority. Success in later life comes through achieving worthy goals and using influence wisely.\"\n  },\n  9: {\n    number: 9,\n    title: \"The Universal Sage\",\n    description: \"Maturity Number 9 indicates that your later life path leads toward greater wisdom, humanitarian service, and universal love. As you mature, you will increasingly be called to let go, serve humanity, and embody the wisdom of completion. Your later years are about giving back and finding meaning through service.\",\n    laterLifeGoals: \"Your maturity goals involve developing universal wisdom, serving humanity selflessly, and letting go with grace. You're moving toward a life of compassion, wisdom, and meaningful contribution. Success in later life comes through selfless service and embodying universal love.\"\n  },\n  11: {\n    number: 11,\n    title: \"The Spiritual Illuminator\",\n    description: \"Maturity Number 11 is a Master Number indicating that your later life path leads toward greater spiritual illumination, inspiration, and service as a light-bringer. As you mature, you will increasingly be called to inspire others, channel higher wisdom, and serve as a bridge between worlds.\",\n    laterLifeGoals: \"Your maturity goals involve developing your spiritual gifts, inspiring others, and serving as a channel for higher wisdom. You're moving toward a life of illumination, inspiration, and spiritual service. Success in later life comes through sharing your light and inspiring others.\"\n  },\n  22: {\n    number: 22,\n    title: \"The Legacy Builder\",\n    description: \"Maturity Number 22 is a Master Number indicating that your later life path leads toward building significant lasting structures and manifesting your highest visions. As you mature, you will increasingly be called to achieve on a large scale and leave a lasting legacy for humanity.\",\n    laterLifeGoals: \"Your maturity goals involve manifesting your grandest visions, building something of lasting significance, and serving humanity through practical achievement. You're moving toward a life of masterful creation and enduring legacy. Success in later life comes through turning dreams into reality on a significant scale.\"\n  },\n  33: {\n    number: 33,\n    title: \"The Master Healer\",\n    description: \"Maturity Number 33 is the highest Master Number indicating that your later life path leads toward healing, teaching, and unconditional love on the highest level. As you mature, you will increasingly be called to heal, teach, and serve as an embodiment of divine love.\",\n    laterLifeGoals: \"Your maturity goals involve becoming a pure channel for healing love, teaching through example, and uplifting humanity. You're moving toward a life of profound service, unconditional love, and spiritual teaching. Success in later life comes through embodying love and helping others awaken.\"\n  }\n};\n\nexport function getNumberContent(number: number): number {\n  if (number === 11 || number === 22 || number === 33) {\n    return number;\n  }\n  if (number > 9) {\n    return getNumberContent(number.toString().split('').reduce((a, b) => a + parseInt(b), 0));\n  }\n  return number;\n}\n","path":null,"size_bytes":114841,"size_tokens":null},"client/src/pages/number-detail.tsx":{"content":"import { useLocation } from 'wouter';\nimport { useEffect, useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { ArrowLeft, Star, Heart, Brain, Sparkles, Target, Zap, Sun, Calendar, Hash, TrendingUp, Users, Clock } from 'lucide-react';\nimport { ProGatekeeper } from '@/components/ProGatekeeper';\nimport {\n  lifePathContent,\n  expressionContent,\n  soulUrgeContent,\n  personalityContent,\n  attitudeContent,\n  generationContent,\n  dayOfBirthContent,\n  maturityContent,\n  getNumberContent,\n  type LifePathContent,\n  type ExpressionContent,\n  type SoulUrgeContent,\n  type PersonalityContent,\n  type AttitudeContent,\n  type GenerationContent,\n  type DayOfBirthContent,\n  type MaturityContent\n} from '@/lib/numerologyContent';\n\ntype NumberType = 'lifepath' | 'expression' | 'soulurge' | 'personality' | 'attitude' | 'generation' | 'dayofbirth' | 'maturity';\n\ninterface NumberDetailProps {\n  type: NumberType;\n  number: number;\n}\n\nconst typeConfig: Record<NumberType, { \n  title: string; \n  icon: typeof Star; \n  color: string;\n  bgColor: string;\n  description: string;\n}> = {\n  lifepath: {\n    title: 'Life Path Number',\n    icon: Star,\n    color: 'text-amber-9',\n    bgColor: 'bg-amber-a3',\n    description: 'Your Life Path number reveals your life purpose and the journey you are meant to take.'\n  },\n  expression: {\n    title: 'Expression Number',\n    icon: Sparkles,\n    color: 'text-violet-9',\n    bgColor: 'bg-violet-a3',\n    description: 'Your Expression number reveals your natural talents, abilities, and the way you are meant to express yourself in the world.'\n  },\n  soulurge: {\n    title: 'Soul Urge Number',\n    icon: Heart,\n    color: 'text-rose-9',\n    bgColor: 'bg-rose-a3',\n    description: 'Your Soul Urge number reveals your deepest inner desires, motivations, and what truly makes your heart sing.'\n  },\n  personality: {\n    title: 'Personality Number',\n    icon: Brain,\n    color: 'text-blue-9',\n    bgColor: 'bg-blue-a3',\n    description: 'Your Personality number reveals how others perceive you and the outer impression you make on the world.'\n  },\n  attitude: {\n    title: 'Attitude Number',\n    icon: Zap,\n    color: 'text-orange-9',\n    bgColor: 'bg-orange-a3',\n    description: 'Your Attitude number reveals your initial approach to life situations and how you react to new circumstances.'\n  },\n  generation: {\n    title: 'Generation Number',\n    icon: Users,\n    color: 'text-teal-9',\n    bgColor: 'bg-teal-a3',\n    description: 'Your Generation number reveals the collective energy you share with others born in your era.'\n  },\n  dayofbirth: {\n    title: 'Day of Birth Number',\n    icon: Calendar,\n    color: 'text-emerald-9',\n    bgColor: 'bg-emerald-a3',\n    description: 'Your Day of Birth number reveals the special gifts and talents you brought into this life.'\n  },\n  maturity: {\n    title: 'Maturity Number',\n    icon: TrendingUp,\n    color: 'text-indigo-9',\n    bgColor: 'bg-indigo-a3',\n    description: 'Your Maturity number reveals the direction your life will take as you grow older and wiser.'\n  }\n};\n\nfunction Section({ title, content, icon: Icon }: { title: string; content: string; icon?: typeof Star }) {\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center gap-2\">\n        {Icon && <Icon className=\"w-5 h-5 text-amber-9\" />}\n        <h3 className=\"text-4 font-semibold text-gray-12\">{title}</h3>\n      </div>\n      <p className=\"text-3 text-gray-11 leading-relaxed\">{content}</p>\n    </div>\n  );\n}\n\nfunction LifePathDetail({ content }: { content: LifePathContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Star} />\n      <Section title=\"Dark Side\" content={content.darkSide} icon={Zap} />\n      <Section title=\"Lessons to Learn\" content={content.lessonsToLearn} icon={Brain} />\n      <Section title=\"Work & Career\" content={content.work} icon={Target} />\n      <Section title=\"Love & Relationships\" content={content.love} icon={Heart} />\n      <Section title=\"Health\" content={content.health} icon={Sun} />\n      <Section title=\"Ultimate Accomplishment\" content={content.accomplishment} icon={TrendingUp} />\n    </div>\n  );\n}\n\nfunction ExpressionDetail({ content }: { content: ExpressionContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Sparkles} />\n      <Section title=\"Natural Talents\" content={content.talents} icon={Star} />\n      <Section title=\"Challenges\" content={content.challenges} icon={Zap} />\n      <Section title=\"Ideal Careers\" content={content.career} icon={Target} />\n    </div>\n  );\n}\n\nfunction SoulUrgeDetail({ content }: { content: SoulUrgeContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Heart} />\n      <Section title=\"Inner Desires\" content={content.innerDesires} icon={Sparkles} />\n      <Section title=\"Path to Fulfillment\" content={content.fulfillment} icon={Star} />\n    </div>\n  );\n}\n\nfunction PersonalityDetail({ content }: { content: PersonalityContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Brain} />\n      <Section title=\"First Impression\" content={content.firstImpression} icon={Star} />\n      <Section title=\"Social Style\" content={content.socialStyle} icon={Users} />\n    </div>\n  );\n}\n\nfunction AttitudeDetail({ content }: { content: AttitudeContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Zap} />\n      <Section title=\"Harmonious Behavior\" content={content.harmoniousBehavior} icon={Heart} />\n      <Section title=\"Dark Side\" content={content.darkSide} icon={Star} />\n    </div>\n  );\n}\n\nfunction GenerationDetail({ content }: { content: GenerationContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Users} />\n      <Section title=\"Collective Energy\" content={content.collectiveEnergy} icon={Sparkles} />\n    </div>\n  );\n}\n\nfunction DayOfBirthDetail({ content }: { content: DayOfBirthContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={Calendar} />\n      <Section title=\"Special Gifts\" content={content.specialGifts} icon={Star} />\n    </div>\n  );\n}\n\nfunction MaturityDetail({ content }: { content: MaturityContent }) {\n  return (\n    <div className=\"space-y-8\">\n      <Section title=\"Overview\" content={content.description} icon={TrendingUp} />\n      <Section title=\"Later Life Goals\" content={content.laterLifeGoals} icon={Target} />\n    </div>\n  );\n}\n\nconst ODIS_ID_KEY = 'gg33-odis-id';\n\nexport default function NumberDetailPage() {\n  const [, setLocation] = useLocation();\n  const [type, setType] = useState<NumberType | null>(null);\n  const [number, setNumber] = useState<number | null>(null);\n  const savedOdisId = localStorage.getItem(ODIS_ID_KEY);\n\n  const { data: profileData, isLoading: isProfileLoading } = useQuery({\n    queryKey: ['/api/profile', savedOdisId],\n    queryFn: async () => {\n      if (!savedOdisId) return null;\n      const response = await fetch(`/api/profile/${savedOdisId}`);\n      if (!response.ok) return null;\n      const data = await response.json();\n      return data.user;\n    },\n    enabled: !!savedOdisId,\n    staleTime: 1000 * 60 * 5,\n    retry: false,\n  });\n\n  const isPro = isProfileLoading ? true : (profileData?.isPro ?? false);\n\n  useEffect(() => {\n    const path = window.location.pathname;\n    const match = path.match(/\\/number\\/(\\w+)\\/(\\d+)/);\n    if (match) {\n      setType(match[1] as NumberType);\n      setNumber(parseInt(match[2]));\n    }\n  }, []);\n\n  if (!type || !number) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-gray-11\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const config = typeConfig[type];\n  const normalizedNumber = getNumberContent(number);\n  const Icon = config.icon;\n\n  const getContent = () => {\n    switch (type) {\n      case 'lifepath':\n        return lifePathContent[normalizedNumber];\n      case 'expression':\n        return expressionContent[normalizedNumber];\n      case 'soulurge':\n        return soulUrgeContent[normalizedNumber];\n      case 'personality':\n        return personalityContent[normalizedNumber];\n      case 'attitude':\n        return attitudeContent[normalizedNumber];\n      case 'generation':\n        return generationContent[normalizedNumber];\n      case 'dayofbirth':\n        return dayOfBirthContent[normalizedNumber];\n      case 'maturity':\n        return maturityContent[normalizedNumber];\n      default:\n        return null;\n    }\n  };\n\n  const content = getContent();\n\n  if (!content) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-gray-11\">Content not found for this number.</p>\n          <Button variant=\"outline\" onClick={() => setLocation('/')} className=\"mt-4\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Home\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  const renderDetail = () => {\n    switch (type) {\n      case 'lifepath':\n        return <LifePathDetail content={content as LifePathContent} />;\n      case 'expression':\n        return <ExpressionDetail content={content as ExpressionContent} />;\n      case 'soulurge':\n        return <SoulUrgeDetail content={content as SoulUrgeContent} />;\n      case 'personality':\n        return <PersonalityDetail content={content as PersonalityContent} />;\n      case 'attitude':\n        return <AttitudeDetail content={content as AttitudeContent} />;\n      case 'generation':\n        return <GenerationDetail content={content as GenerationContent} />;\n      case 'dayofbirth':\n        return <DayOfBirthDetail content={content as DayOfBirthContent} />;\n      case 'maturity':\n        return <MaturityDetail content={content as MaturityContent} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-gray-a3\">\n        <div className=\"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4\">\n          <Button \n            variant=\"ghost\" \n            size=\"icon\" \n            onClick={() => setLocation('/')}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex items-center gap-3\">\n            <div className={`w-10 h-10 rounded-lg ${config.bgColor} flex items-center justify-center`}>\n              <Icon className={`w-5 h-5 ${config.color}`} />\n            </div>\n            <div>\n              <h1 className=\"text-4 font-semibold text-gray-12\">{config.title}</h1>\n              <p className=\"text-2 text-gray-10\">Number {number}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        <ProGatekeeper \n          isPro={isPro}\n          title={`Unlock ${config.title} Insights`}\n          description={`Upgrade to Pro to access the complete interpretation of your ${config.title.toLowerCase()} and discover deeper meanings about your path.`}\n        >\n          <Card className=\"mb-8\">\n            <CardHeader className=\"pb-4\">\n              <div className=\"flex items-center gap-4\">\n                <div className={`w-20 h-20 rounded-xl ${config.bgColor} flex items-center justify-center`}>\n                  <span className=\"text-8 font-bold text-gray-12\">{number}</span>\n                </div>\n                <div className=\"flex-1\">\n                  <Badge variant=\"secondary\" className=\"mb-2\">{content.title}</Badge>\n                  <p className=\"text-3 text-gray-11\">{config.description}</p>\n                </div>\n              </div>\n            </CardHeader>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6 sm:p-8\">\n              {renderDetail()}\n            </CardContent>\n          </Card>\n        </ProGatekeeper>\n\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":12523,"size_tokens":null},"server/cuesData.ts":{"content":"// Comprehensive Cues Database - 22,000+ entries\n// Brands, Locations, and Notable People with their founding/birth dates\n\nexport interface Cue {\n  id: number;\n  name: string;\n  type: 'Brand' | 'Location' | 'Person';\n  foundedOrBirth: string; // ISO date or year string\n  category?: string;\n  country?: string;\n  description?: string;\n}\n\n// Numerology calculation functions (server-side versions)\nfunction reduceToSingleDigit(num: number, preserveMasterNumbers = true): number {\n  while (num > 9) {\n    if (preserveMasterNumbers && (num === 11 || num === 22 || num === 33)) {\n      return num;\n    }\n    num = num.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);\n  }\n  return num;\n}\n\nexport function calculateLifePathNumber(date: Date): number {\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const year = date.getFullYear();\n  \n  const monthReduced = reduceToSingleDigit(month, true);\n  const dayReduced = reduceToSingleDigit(day, true);\n  const yearReduced = reduceToSingleDigit(\n    year.toString().split('').reduce((sum, d) => sum + parseInt(d), 0),\n    true\n  );\n  \n  const total = monthReduced + dayReduced + yearReduced;\n  return reduceToSingleDigit(total, true);\n}\n\nfunction getChineseElement(year: number): string {\n  const elements = ['Metal', 'Metal', 'Water', 'Water', 'Wood', 'Wood', 'Fire', 'Fire', 'Earth', 'Earth'];\n  return elements[year % 10];\n}\n\nexport function calculateEnergySignature(date: Date): string {\n  const lifePathNumber = calculateLifePathNumber(date);\n  const year = date.getFullYear();\n  const element = getChineseElement(year);\n  \n  const energyMap: Record<number, string> = {\n    1: 'Fire Initiator',\n    2: 'Water Harmonizer',\n    3: 'Air Creator',\n    4: 'Earth Stabilizer',\n    5: 'Wind Changer',\n    6: 'Heart Healer',\n    7: 'Mind Seeker',\n    8: 'Power Manifester',\n    9: 'Soul Completer',\n    11: 'Light Bearer',\n    22: 'Reality Architect',\n    33: 'Love Teacher',\n  };\n  \n  return `${element} ${energyMap[lifePathNumber] || 'Energy'}`;\n}\n\n// Real Brands Data - Major companies with founding dates\nconst brandsData: Omit<Cue, 'id'>[] = [\n  // Tech Giants\n  { name: 'Apple Inc.', type: 'Brand', foundedOrBirth: '1976-04-01', category: 'Technology', country: 'USA', description: 'Consumer electronics and software' },\n  { name: 'Microsoft', type: 'Brand', foundedOrBirth: '1975-04-04', category: 'Technology', country: 'USA', description: 'Software and cloud computing' },\n  { name: 'Google', type: 'Brand', foundedOrBirth: '1998-09-04', category: 'Technology', country: 'USA', description: 'Search and advertising' },\n  { name: 'Amazon', type: 'Brand', foundedOrBirth: '1994-07-05', category: 'E-commerce', country: 'USA', description: 'E-commerce and cloud services' },\n  { name: 'Meta', type: 'Brand', foundedOrBirth: '2004-02-04', category: 'Technology', country: 'USA', description: 'Social media and metaverse' },\n  { name: 'Netflix', type: 'Brand', foundedOrBirth: '1997-08-29', category: 'Entertainment', country: 'USA', description: 'Streaming entertainment' },\n  { name: 'Tesla', type: 'Brand', foundedOrBirth: '2003-07-01', category: 'Automotive', country: 'USA', description: 'Electric vehicles and energy' },\n  { name: 'SpaceX', type: 'Brand', foundedOrBirth: '2002-05-06', category: 'Aerospace', country: 'USA', description: 'Space exploration' },\n  { name: 'NVIDIA', type: 'Brand', foundedOrBirth: '1993-01-01', category: 'Technology', country: 'USA', description: 'Graphics processing units' },\n  { name: 'Intel', type: 'Brand', foundedOrBirth: '1968-07-18', category: 'Technology', country: 'USA', description: 'Semiconductor chips' },\n  { name: 'AMD', type: 'Brand', foundedOrBirth: '1969-05-01', category: 'Technology', country: 'USA', description: 'Semiconductors and processors' },\n  { name: 'IBM', type: 'Brand', foundedOrBirth: '1911-06-16', category: 'Technology', country: 'USA', description: 'Computer hardware and consulting' },\n  { name: 'Oracle', type: 'Brand', foundedOrBirth: '1977-06-16', category: 'Technology', country: 'USA', description: 'Database and cloud software' },\n  { name: 'Salesforce', type: 'Brand', foundedOrBirth: '1999-03-08', category: 'Technology', country: 'USA', description: 'CRM and cloud computing' },\n  { name: 'Adobe', type: 'Brand', foundedOrBirth: '1982-12-01', category: 'Technology', country: 'USA', description: 'Creative software' },\n  { name: 'Cisco', type: 'Brand', foundedOrBirth: '1984-12-10', category: 'Technology', country: 'USA', description: 'Networking equipment' },\n  { name: 'Uber', type: 'Brand', foundedOrBirth: '2009-03-01', category: 'Transportation', country: 'USA', description: 'Ride-sharing platform' },\n  { name: 'Airbnb', type: 'Brand', foundedOrBirth: '2008-08-01', category: 'Travel', country: 'USA', description: 'Home rental platform' },\n  { name: 'Spotify', type: 'Brand', foundedOrBirth: '2006-04-23', category: 'Entertainment', country: 'Sweden', description: 'Music streaming' },\n  { name: 'Twitter/X', type: 'Brand', foundedOrBirth: '2006-03-21', category: 'Technology', country: 'USA', description: 'Social media platform' },\n  { name: 'LinkedIn', type: 'Brand', foundedOrBirth: '2002-12-28', category: 'Technology', country: 'USA', description: 'Professional networking' },\n  { name: 'PayPal', type: 'Brand', foundedOrBirth: '1998-12-01', category: 'Finance', country: 'USA', description: 'Online payments' },\n  { name: 'Stripe', type: 'Brand', foundedOrBirth: '2010-01-01', category: 'Finance', country: 'USA', description: 'Payment processing' },\n  { name: 'Square', type: 'Brand', foundedOrBirth: '2009-02-01', category: 'Finance', country: 'USA', description: 'Payment services' },\n  { name: 'Shopify', type: 'Brand', foundedOrBirth: '2006-06-01', category: 'E-commerce', country: 'Canada', description: 'E-commerce platform' },\n  { name: 'Zoom', type: 'Brand', foundedOrBirth: '2011-04-21', category: 'Technology', country: 'USA', description: 'Video communications' },\n  { name: 'Slack', type: 'Brand', foundedOrBirth: '2013-08-01', category: 'Technology', country: 'USA', description: 'Workplace messaging' },\n  { name: 'Dropbox', type: 'Brand', foundedOrBirth: '2007-06-01', category: 'Technology', country: 'USA', description: 'Cloud storage' },\n  { name: 'Reddit', type: 'Brand', foundedOrBirth: '2005-06-23', category: 'Technology', country: 'USA', description: 'Social news aggregation' },\n  { name: 'Pinterest', type: 'Brand', foundedOrBirth: '2010-03-01', category: 'Technology', country: 'USA', description: 'Visual discovery platform' },\n  { name: 'Snapchat', type: 'Brand', foundedOrBirth: '2011-09-16', category: 'Technology', country: 'USA', description: 'Multimedia messaging' },\n  { name: 'TikTok', type: 'Brand', foundedOrBirth: '2016-09-01', category: 'Technology', country: 'China', description: 'Short-form video platform' },\n  { name: 'ByteDance', type: 'Brand', foundedOrBirth: '2012-03-01', category: 'Technology', country: 'China', description: 'Internet technology' },\n  { name: 'Alibaba', type: 'Brand', foundedOrBirth: '1999-04-04', category: 'E-commerce', country: 'China', description: 'E-commerce conglomerate' },\n  { name: 'Tencent', type: 'Brand', foundedOrBirth: '1998-11-11', category: 'Technology', country: 'China', description: 'Internet and gaming' },\n  { name: 'Baidu', type: 'Brand', foundedOrBirth: '2000-01-18', category: 'Technology', country: 'China', description: 'Search engine' },\n  { name: 'Samsung', type: 'Brand', foundedOrBirth: '1938-03-01', category: 'Technology', country: 'South Korea', description: 'Electronics conglomerate' },\n  { name: 'Sony', type: 'Brand', foundedOrBirth: '1946-05-07', category: 'Technology', country: 'Japan', description: 'Electronics and entertainment' },\n  { name: 'Nintendo', type: 'Brand', foundedOrBirth: '1889-09-23', category: 'Gaming', country: 'Japan', description: 'Video games' },\n  { name: 'Huawei', type: 'Brand', foundedOrBirth: '1987-09-15', category: 'Technology', country: 'China', description: 'Telecommunications' },\n  \n  // Automotive\n  { name: 'Toyota', type: 'Brand', foundedOrBirth: '1937-08-28', category: 'Automotive', country: 'Japan', description: 'Automobile manufacturer' },\n  { name: 'Volkswagen', type: 'Brand', foundedOrBirth: '1937-05-28', category: 'Automotive', country: 'Germany', description: 'Automobile manufacturer' },\n  { name: 'Ford', type: 'Brand', foundedOrBirth: '1903-06-16', category: 'Automotive', country: 'USA', description: 'Automobile manufacturer' },\n  { name: 'General Motors', type: 'Brand', foundedOrBirth: '1908-09-16', category: 'Automotive', country: 'USA', description: 'Automobile manufacturer' },\n  { name: 'BMW', type: 'Brand', foundedOrBirth: '1916-03-07', category: 'Automotive', country: 'Germany', description: 'Luxury vehicles' },\n  { name: 'Mercedes-Benz', type: 'Brand', foundedOrBirth: '1926-06-28', category: 'Automotive', country: 'Germany', description: 'Luxury vehicles' },\n  { name: 'Honda', type: 'Brand', foundedOrBirth: '1948-09-24', category: 'Automotive', country: 'Japan', description: 'Automobiles and motorcycles' },\n  { name: 'Nissan', type: 'Brand', foundedOrBirth: '1933-12-26', category: 'Automotive', country: 'Japan', description: 'Automobile manufacturer' },\n  { name: 'Hyundai', type: 'Brand', foundedOrBirth: '1967-12-29', category: 'Automotive', country: 'South Korea', description: 'Automobile manufacturer' },\n  { name: 'Porsche', type: 'Brand', foundedOrBirth: '1931-04-25', category: 'Automotive', country: 'Germany', description: 'Sports cars' },\n  { name: 'Ferrari', type: 'Brand', foundedOrBirth: '1947-03-12', category: 'Automotive', country: 'Italy', description: 'Luxury sports cars' },\n  { name: 'Lamborghini', type: 'Brand', foundedOrBirth: '1963-05-07', category: 'Automotive', country: 'Italy', description: 'Luxury sports cars' },\n  { name: 'Audi', type: 'Brand', foundedOrBirth: '1909-07-16', category: 'Automotive', country: 'Germany', description: 'Luxury vehicles' },\n  { name: 'Chevrolet', type: 'Brand', foundedOrBirth: '1911-11-03', category: 'Automotive', country: 'USA', description: 'Automobile manufacturer' },\n  { name: 'Jeep', type: 'Brand', foundedOrBirth: '1941-07-16', category: 'Automotive', country: 'USA', description: 'SUVs and off-road vehicles' },\n  { name: 'Rivian', type: 'Brand', foundedOrBirth: '2009-06-01', category: 'Automotive', country: 'USA', description: 'Electric vehicles' },\n  { name: 'Lucid Motors', type: 'Brand', foundedOrBirth: '2007-01-01', category: 'Automotive', country: 'USA', description: 'Electric vehicles' },\n  \n  // Fashion & Luxury\n  { name: 'Louis Vuitton', type: 'Brand', foundedOrBirth: '1854-01-01', category: 'Fashion', country: 'France', description: 'Luxury fashion house' },\n  { name: 'Gucci', type: 'Brand', foundedOrBirth: '1921-01-01', category: 'Fashion', country: 'Italy', description: 'Luxury fashion' },\n  { name: 'Chanel', type: 'Brand', foundedOrBirth: '1910-01-01', category: 'Fashion', country: 'France', description: 'Luxury fashion house' },\n  { name: 'HermÃ¨s', type: 'Brand', foundedOrBirth: '1837-01-01', category: 'Fashion', country: 'France', description: 'Luxury goods' },\n  { name: 'Prada', type: 'Brand', foundedOrBirth: '1913-01-01', category: 'Fashion', country: 'Italy', description: 'Luxury fashion' },\n  { name: 'Dior', type: 'Brand', foundedOrBirth: '1946-12-16', category: 'Fashion', country: 'France', description: 'Luxury fashion house' },\n  { name: 'Versace', type: 'Brand', foundedOrBirth: '1978-01-01', category: 'Fashion', country: 'Italy', description: 'Luxury fashion' },\n  { name: 'Burberry', type: 'Brand', foundedOrBirth: '1856-01-01', category: 'Fashion', country: 'UK', description: 'Luxury fashion house' },\n  { name: 'Rolex', type: 'Brand', foundedOrBirth: '1905-01-01', category: 'Luxury', country: 'Switzerland', description: 'Luxury watches' },\n  { name: 'Cartier', type: 'Brand', foundedOrBirth: '1847-01-01', category: 'Luxury', country: 'France', description: 'Jewelry and watches' },\n  { name: 'Tiffany & Co.', type: 'Brand', foundedOrBirth: '1837-09-18', category: 'Luxury', country: 'USA', description: 'Jewelry' },\n  { name: 'Nike', type: 'Brand', foundedOrBirth: '1964-01-25', category: 'Fashion', country: 'USA', description: 'Athletic apparel' },\n  { name: 'Adidas', type: 'Brand', foundedOrBirth: '1949-08-18', category: 'Fashion', country: 'Germany', description: 'Athletic apparel' },\n  { name: 'Puma', type: 'Brand', foundedOrBirth: '1948-01-01', category: 'Fashion', country: 'Germany', description: 'Athletic apparel' },\n  { name: 'Under Armour', type: 'Brand', foundedOrBirth: '1996-01-01', category: 'Fashion', country: 'USA', description: 'Athletic apparel' },\n  { name: 'Lululemon', type: 'Brand', foundedOrBirth: '1998-01-01', category: 'Fashion', country: 'Canada', description: 'Athletic apparel' },\n  { name: 'H&M', type: 'Brand', foundedOrBirth: '1947-01-01', category: 'Fashion', country: 'Sweden', description: 'Fast fashion' },\n  { name: 'Zara', type: 'Brand', foundedOrBirth: '1975-05-24', category: 'Fashion', country: 'Spain', description: 'Fast fashion' },\n  { name: 'Uniqlo', type: 'Brand', foundedOrBirth: '1984-06-02', category: 'Fashion', country: 'Japan', description: 'Casual apparel' },\n  { name: 'Gap', type: 'Brand', foundedOrBirth: '1969-08-21', category: 'Fashion', country: 'USA', description: 'Casual apparel' },\n  { name: \"Levi's\", type: 'Brand', foundedOrBirth: '1853-01-01', category: 'Fashion', country: 'USA', description: 'Denim clothing' },\n  { name: 'Ralph Lauren', type: 'Brand', foundedOrBirth: '1967-01-01', category: 'Fashion', country: 'USA', description: 'Lifestyle fashion' },\n  { name: 'Calvin Klein', type: 'Brand', foundedOrBirth: '1968-01-01', category: 'Fashion', country: 'USA', description: 'Fashion and fragrance' },\n  { name: 'Tommy Hilfiger', type: 'Brand', foundedOrBirth: '1985-01-01', category: 'Fashion', country: 'USA', description: 'American fashion' },\n  \n  // Food & Beverage\n  { name: 'Coca-Cola', type: 'Brand', foundedOrBirth: '1886-05-08', category: 'Beverage', country: 'USA', description: 'Soft drinks' },\n  { name: 'PepsiCo', type: 'Brand', foundedOrBirth: '1965-06-08', category: 'Beverage', country: 'USA', description: 'Beverages and snacks' },\n  { name: 'Starbucks', type: 'Brand', foundedOrBirth: '1971-03-30', category: 'Food', country: 'USA', description: 'Coffee chain' },\n  { name: \"McDonald's\", type: 'Brand', foundedOrBirth: '1955-04-15', category: 'Food', country: 'USA', description: 'Fast food' },\n  { name: 'Subway', type: 'Brand', foundedOrBirth: '1965-08-28', category: 'Food', country: 'USA', description: 'Fast food sandwiches' },\n  { name: 'KFC', type: 'Brand', foundedOrBirth: '1952-09-24', category: 'Food', country: 'USA', description: 'Fast food chicken' },\n  { name: 'Burger King', type: 'Brand', foundedOrBirth: '1954-07-28', category: 'Food', country: 'USA', description: 'Fast food burgers' },\n  { name: \"Wendy's\", type: 'Brand', foundedOrBirth: '1969-11-15', category: 'Food', country: 'USA', description: 'Fast food' },\n  { name: 'Taco Bell', type: 'Brand', foundedOrBirth: '1962-03-21', category: 'Food', country: 'USA', description: 'Fast food Mexican' },\n  { name: 'Chipotle', type: 'Brand', foundedOrBirth: '1993-07-13', category: 'Food', country: 'USA', description: 'Fast casual Mexican' },\n  { name: 'Dominos', type: 'Brand', foundedOrBirth: '1960-12-09', category: 'Food', country: 'USA', description: 'Pizza delivery' },\n  { name: 'Pizza Hut', type: 'Brand', foundedOrBirth: '1958-06-15', category: 'Food', country: 'USA', description: 'Pizza chain' },\n  { name: 'Dunkin', type: 'Brand', foundedOrBirth: '1950-01-01', category: 'Food', country: 'USA', description: 'Coffee and donuts' },\n  { name: 'Chick-fil-A', type: 'Brand', foundedOrBirth: '1967-05-23', category: 'Food', country: 'USA', description: 'Fast food chicken' },\n  { name: \"Papa John's\", type: 'Brand', foundedOrBirth: '1984-01-01', category: 'Food', country: 'USA', description: 'Pizza chain' },\n  { name: 'Panera Bread', type: 'Brand', foundedOrBirth: '1987-01-01', category: 'Food', country: 'USA', description: 'Fast casual bakery' },\n  { name: 'NestlÃ©', type: 'Brand', foundedOrBirth: '1866-01-01', category: 'Food', country: 'Switzerland', description: 'Food and beverage' },\n  { name: 'Kraft Heinz', type: 'Brand', foundedOrBirth: '2015-07-02', category: 'Food', country: 'USA', description: 'Food products' },\n  { name: 'Kellogg', type: 'Brand', foundedOrBirth: '1906-02-19', category: 'Food', country: 'USA', description: 'Cereal and snacks' },\n  { name: 'General Mills', type: 'Brand', foundedOrBirth: '1928-06-20', category: 'Food', country: 'USA', description: 'Packaged foods' },\n  { name: 'Mondelez', type: 'Brand', foundedOrBirth: '2012-10-01', category: 'Food', country: 'USA', description: 'Snacks and confectionery' },\n  { name: 'Mars Inc.', type: 'Brand', foundedOrBirth: '1911-01-01', category: 'Food', country: 'USA', description: 'Confectionery' },\n  { name: 'Red Bull', type: 'Brand', foundedOrBirth: '1987-04-01', category: 'Beverage', country: 'Austria', description: 'Energy drinks' },\n  { name: 'Monster Energy', type: 'Brand', foundedOrBirth: '2002-04-01', category: 'Beverage', country: 'USA', description: 'Energy drinks' },\n  \n  // Entertainment & Media\n  { name: 'Disney', type: 'Brand', foundedOrBirth: '1923-10-16', category: 'Entertainment', country: 'USA', description: 'Entertainment conglomerate' },\n  { name: 'Warner Bros.', type: 'Brand', foundedOrBirth: '1923-04-04', category: 'Entertainment', country: 'USA', description: 'Film and television' },\n  { name: 'Universal Pictures', type: 'Brand', foundedOrBirth: '1912-04-30', category: 'Entertainment', country: 'USA', description: 'Film studio' },\n  { name: 'Paramount Pictures', type: 'Brand', foundedOrBirth: '1912-05-08', category: 'Entertainment', country: 'USA', description: 'Film studio' },\n  { name: '20th Century Studios', type: 'Brand', foundedOrBirth: '1935-05-31', category: 'Entertainment', country: 'USA', description: 'Film studio' },\n  { name: 'MGM', type: 'Brand', foundedOrBirth: '1924-04-17', category: 'Entertainment', country: 'USA', description: 'Film studio' },\n  { name: 'Lionsgate', type: 'Brand', foundedOrBirth: '1997-07-10', category: 'Entertainment', country: 'Canada', description: 'Film studio' },\n  { name: 'Marvel Studios', type: 'Brand', foundedOrBirth: '1993-12-07', category: 'Entertainment', country: 'USA', description: 'Superhero films' },\n  { name: 'DC Comics', type: 'Brand', foundedOrBirth: '1934-01-01', category: 'Entertainment', country: 'USA', description: 'Comic books' },\n  { name: 'HBO', type: 'Brand', foundedOrBirth: '1972-11-08', category: 'Entertainment', country: 'USA', description: 'Premium television' },\n  { name: 'Hulu', type: 'Brand', foundedOrBirth: '2007-03-12', category: 'Entertainment', country: 'USA', description: 'Streaming service' },\n  { name: 'ESPN', type: 'Brand', foundedOrBirth: '1979-09-07', category: 'Media', country: 'USA', description: 'Sports network' },\n  { name: 'CNN', type: 'Brand', foundedOrBirth: '1980-06-01', category: 'Media', country: 'USA', description: 'News network' },\n  { name: 'Fox News', type: 'Brand', foundedOrBirth: '1996-10-07', category: 'Media', country: 'USA', description: 'News network' },\n  { name: 'BBC', type: 'Brand', foundedOrBirth: '1922-10-18', category: 'Media', country: 'UK', description: 'Public broadcaster' },\n  { name: 'The New York Times', type: 'Brand', foundedOrBirth: '1851-09-18', category: 'Media', country: 'USA', description: 'Newspaper' },\n  { name: 'The Washington Post', type: 'Brand', foundedOrBirth: '1877-12-06', category: 'Media', country: 'USA', description: 'Newspaper' },\n  { name: 'Bloomberg', type: 'Brand', foundedOrBirth: '1981-10-01', category: 'Media', country: 'USA', description: 'Financial news' },\n  { name: 'Reuters', type: 'Brand', foundedOrBirth: '1851-10-01', category: 'Media', country: 'UK', description: 'News agency' },\n  { name: 'Associated Press', type: 'Brand', foundedOrBirth: '1846-05-22', category: 'Media', country: 'USA', description: 'News agency' },\n  \n  // Financial Services\n  { name: 'JPMorgan Chase', type: 'Brand', foundedOrBirth: '2000-12-31', category: 'Finance', country: 'USA', description: 'Investment bank' },\n  { name: 'Bank of America', type: 'Brand', foundedOrBirth: '1998-09-30', category: 'Finance', country: 'USA', description: 'Bank' },\n  { name: 'Wells Fargo', type: 'Brand', foundedOrBirth: '1852-03-18', category: 'Finance', country: 'USA', description: 'Bank' },\n  { name: 'Citigroup', type: 'Brand', foundedOrBirth: '1998-10-08', category: 'Finance', country: 'USA', description: 'Financial services' },\n  { name: 'Goldman Sachs', type: 'Brand', foundedOrBirth: '1869-01-01', category: 'Finance', country: 'USA', description: 'Investment bank' },\n  { name: 'Morgan Stanley', type: 'Brand', foundedOrBirth: '1935-09-16', category: 'Finance', country: 'USA', description: 'Investment bank' },\n  { name: 'BlackRock', type: 'Brand', foundedOrBirth: '1988-01-01', category: 'Finance', country: 'USA', description: 'Asset management' },\n  { name: 'Visa', type: 'Brand', foundedOrBirth: '1958-09-18', category: 'Finance', country: 'USA', description: 'Payment processing' },\n  { name: 'Mastercard', type: 'Brand', foundedOrBirth: '1966-08-16', category: 'Finance', country: 'USA', description: 'Payment processing' },\n  { name: 'American Express', type: 'Brand', foundedOrBirth: '1850-03-18', category: 'Finance', country: 'USA', description: 'Financial services' },\n  { name: 'Charles Schwab', type: 'Brand', foundedOrBirth: '1971-01-01', category: 'Finance', country: 'USA', description: 'Brokerage' },\n  { name: 'Fidelity', type: 'Brand', foundedOrBirth: '1946-01-01', category: 'Finance', country: 'USA', description: 'Investment management' },\n  { name: 'Vanguard', type: 'Brand', foundedOrBirth: '1975-05-01', category: 'Finance', country: 'USA', description: 'Investment management' },\n  { name: 'Coinbase', type: 'Brand', foundedOrBirth: '2012-06-01', category: 'Finance', country: 'USA', description: 'Cryptocurrency exchange' },\n  { name: 'Robinhood', type: 'Brand', foundedOrBirth: '2013-04-18', category: 'Finance', country: 'USA', description: 'Trading platform' },\n  \n  // Healthcare & Pharma\n  { name: 'Johnson & Johnson', type: 'Brand', foundedOrBirth: '1886-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals and consumer goods' },\n  { name: 'Pfizer', type: 'Brand', foundedOrBirth: '1849-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals' },\n  { name: 'Moderna', type: 'Brand', foundedOrBirth: '2010-09-01', category: 'Healthcare', country: 'USA', description: 'Biotechnology' },\n  { name: 'Merck', type: 'Brand', foundedOrBirth: '1891-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals' },\n  { name: 'AbbVie', type: 'Brand', foundedOrBirth: '2013-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals' },\n  { name: 'Bristol-Myers Squibb', type: 'Brand', foundedOrBirth: '1989-10-04', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals' },\n  { name: 'Eli Lilly', type: 'Brand', foundedOrBirth: '1876-05-10', category: 'Healthcare', country: 'USA', description: 'Pharmaceuticals' },\n  { name: 'AstraZeneca', type: 'Brand', foundedOrBirth: '1999-04-06', category: 'Healthcare', country: 'UK', description: 'Pharmaceuticals' },\n  { name: 'Novartis', type: 'Brand', foundedOrBirth: '1996-12-20', category: 'Healthcare', country: 'Switzerland', description: 'Pharmaceuticals' },\n  { name: 'Roche', type: 'Brand', foundedOrBirth: '1896-10-01', category: 'Healthcare', country: 'Switzerland', description: 'Pharmaceuticals' },\n  { name: 'UnitedHealth Group', type: 'Brand', foundedOrBirth: '1977-01-01', category: 'Healthcare', country: 'USA', description: 'Health insurance' },\n  { name: 'CVS Health', type: 'Brand', foundedOrBirth: '1963-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmacy chain' },\n  { name: 'Walgreens', type: 'Brand', foundedOrBirth: '1901-01-01', category: 'Healthcare', country: 'USA', description: 'Pharmacy chain' },\n  \n  // Retail\n  { name: 'Walmart', type: 'Brand', foundedOrBirth: '1962-07-02', category: 'Retail', country: 'USA', description: 'Retail corporation' },\n  { name: 'Target', type: 'Brand', foundedOrBirth: '1962-05-01', category: 'Retail', country: 'USA', description: 'Retail corporation' },\n  { name: 'Costco', type: 'Brand', foundedOrBirth: '1983-09-15', category: 'Retail', country: 'USA', description: 'Warehouse club' },\n  { name: 'Home Depot', type: 'Brand', foundedOrBirth: '1978-06-22', category: 'Retail', country: 'USA', description: 'Home improvement' },\n  { name: \"Lowe's\", type: 'Brand', foundedOrBirth: '1946-01-01', category: 'Retail', country: 'USA', description: 'Home improvement' },\n  { name: 'Best Buy', type: 'Brand', foundedOrBirth: '1966-08-22', category: 'Retail', country: 'USA', description: 'Electronics retail' },\n  { name: 'IKEA', type: 'Brand', foundedOrBirth: '1943-07-28', category: 'Retail', country: 'Sweden', description: 'Furniture retail' },\n  { name: 'Whole Foods', type: 'Brand', foundedOrBirth: '1980-09-20', category: 'Retail', country: 'USA', description: 'Organic grocery' },\n  { name: 'Trader Joes', type: 'Brand', foundedOrBirth: '1967-01-01', category: 'Retail', country: 'USA', description: 'Grocery chain' },\n  { name: 'Kroger', type: 'Brand', foundedOrBirth: '1883-01-01', category: 'Retail', country: 'USA', description: 'Supermarket' },\n  { name: 'Aldi', type: 'Brand', foundedOrBirth: '1946-01-01', category: 'Retail', country: 'Germany', description: 'Discount supermarket' },\n  { name: 'Sephora', type: 'Brand', foundedOrBirth: '1969-01-01', category: 'Retail', country: 'France', description: 'Beauty retail' },\n  { name: 'Ulta Beauty', type: 'Brand', foundedOrBirth: '1990-01-01', category: 'Retail', country: 'USA', description: 'Beauty retail' },\n  { name: 'Nordstrom', type: 'Brand', foundedOrBirth: '1901-01-01', category: 'Retail', country: 'USA', description: 'Department store' },\n  { name: \"Macy's\", type: 'Brand', foundedOrBirth: '1858-10-27', category: 'Retail', country: 'USA', description: 'Department store' },\n  { name: 'eBay', type: 'Brand', foundedOrBirth: '1995-09-03', category: 'E-commerce', country: 'USA', description: 'Online marketplace' },\n  { name: 'Etsy', type: 'Brand', foundedOrBirth: '2005-06-18', category: 'E-commerce', country: 'USA', description: 'Handmade marketplace' },\n  { name: 'Wayfair', type: 'Brand', foundedOrBirth: '2002-05-01', category: 'E-commerce', country: 'USA', description: 'Home goods e-commerce' },\n  \n  // Airlines & Travel\n  { name: 'Delta Air Lines', type: 'Brand', foundedOrBirth: '1924-05-30', category: 'Travel', country: 'USA', description: 'Airline' },\n  { name: 'United Airlines', type: 'Brand', foundedOrBirth: '1926-04-06', category: 'Travel', country: 'USA', description: 'Airline' },\n  { name: 'American Airlines', type: 'Brand', foundedOrBirth: '1926-04-15', category: 'Travel', country: 'USA', description: 'Airline' },\n  { name: 'Southwest Airlines', type: 'Brand', foundedOrBirth: '1967-03-15', category: 'Travel', country: 'USA', description: 'Airline' },\n  { name: 'JetBlue', type: 'Brand', foundedOrBirth: '1998-08-01', category: 'Travel', country: 'USA', description: 'Airline' },\n  { name: 'Emirates', type: 'Brand', foundedOrBirth: '1985-03-25', category: 'Travel', country: 'UAE', description: 'Airline' },\n  { name: 'British Airways', type: 'Brand', foundedOrBirth: '1974-03-31', category: 'Travel', country: 'UK', description: 'Airline' },\n  { name: 'Lufthansa', type: 'Brand', foundedOrBirth: '1953-01-06', category: 'Travel', country: 'Germany', description: 'Airline' },\n  { name: 'Singapore Airlines', type: 'Brand', foundedOrBirth: '1972-10-01', category: 'Travel', country: 'Singapore', description: 'Airline' },\n  { name: 'Qatar Airways', type: 'Brand', foundedOrBirth: '1993-11-22', category: 'Travel', country: 'Qatar', description: 'Airline' },\n  { name: 'Marriott', type: 'Brand', foundedOrBirth: '1927-05-20', category: 'Travel', country: 'USA', description: 'Hotel chain' },\n  { name: 'Hilton', type: 'Brand', foundedOrBirth: '1919-05-31', category: 'Travel', country: 'USA', description: 'Hotel chain' },\n  { name: 'Hyatt', type: 'Brand', foundedOrBirth: '1957-09-27', category: 'Travel', country: 'USA', description: 'Hotel chain' },\n  { name: 'Four Seasons', type: 'Brand', foundedOrBirth: '1961-03-21', category: 'Travel', country: 'Canada', description: 'Luxury hotels' },\n  { name: 'Ritz-Carlton', type: 'Brand', foundedOrBirth: '1983-08-15', category: 'Travel', country: 'USA', description: 'Luxury hotels' },\n  { name: 'Booking.com', type: 'Brand', foundedOrBirth: '1996-01-01', category: 'Travel', country: 'Netherlands', description: 'Travel booking' },\n  { name: 'Expedia', type: 'Brand', foundedOrBirth: '1996-10-22', category: 'Travel', country: 'USA', description: 'Travel booking' },\n  { name: 'TripAdvisor', type: 'Brand', foundedOrBirth: '2000-02-01', category: 'Travel', country: 'USA', description: 'Travel reviews' },\n  \n  // Energy\n  { name: 'ExxonMobil', type: 'Brand', foundedOrBirth: '1999-11-30', category: 'Energy', country: 'USA', description: 'Oil and gas' },\n  { name: 'Chevron', type: 'Brand', foundedOrBirth: '1879-09-10', category: 'Energy', country: 'USA', description: 'Oil and gas' },\n  { name: 'Shell', type: 'Brand', foundedOrBirth: '1907-04-01', category: 'Energy', country: 'UK/Netherlands', description: 'Oil and gas' },\n  { name: 'BP', type: 'Brand', foundedOrBirth: '1909-04-14', category: 'Energy', country: 'UK', description: 'Oil and gas' },\n  { name: 'TotalEnergies', type: 'Brand', foundedOrBirth: '1924-03-28', category: 'Energy', country: 'France', description: 'Energy' },\n  { name: 'ConocoPhillips', type: 'Brand', foundedOrBirth: '2002-08-30', category: 'Energy', country: 'USA', description: 'Oil and gas' },\n  { name: 'Duke Energy', type: 'Brand', foundedOrBirth: '1904-01-01', category: 'Energy', country: 'USA', description: 'Electric utility' },\n  { name: 'NextEra Energy', type: 'Brand', foundedOrBirth: '1925-12-28', category: 'Energy', country: 'USA', description: 'Clean energy' },\n  { name: 'Sunrun', type: 'Brand', foundedOrBirth: '2007-01-01', category: 'Energy', country: 'USA', description: 'Solar energy' },\n  \n  // Gaming\n  { name: 'PlayStation', type: 'Brand', foundedOrBirth: '1994-12-03', category: 'Gaming', country: 'Japan', description: 'Gaming console' },\n  { name: 'Xbox', type: 'Brand', foundedOrBirth: '2001-11-15', category: 'Gaming', country: 'USA', description: 'Gaming console' },\n  { name: 'Activision Blizzard', type: 'Brand', foundedOrBirth: '2008-07-09', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Electronic Arts', type: 'Brand', foundedOrBirth: '1982-05-27', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Epic Games', type: 'Brand', foundedOrBirth: '1991-01-01', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Riot Games', type: 'Brand', foundedOrBirth: '2006-09-01', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Valve', type: 'Brand', foundedOrBirth: '1996-08-24', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Ubisoft', type: 'Brand', foundedOrBirth: '1986-03-28', category: 'Gaming', country: 'France', description: 'Video games' },\n  { name: 'Take-Two', type: 'Brand', foundedOrBirth: '1993-09-27', category: 'Gaming', country: 'USA', description: 'Video games' },\n  { name: 'Roblox', type: 'Brand', foundedOrBirth: '2004-01-01', category: 'Gaming', country: 'USA', description: 'Gaming platform' },\n  { name: 'Discord', type: 'Brand', foundedOrBirth: '2015-05-13', category: 'Technology', country: 'USA', description: 'Communication platform' },\n  { name: 'Twitch', type: 'Brand', foundedOrBirth: '2011-06-06', category: 'Entertainment', country: 'USA', description: 'Streaming platform' },\n  \n  // Telecommunications\n  { name: 'AT&T', type: 'Brand', foundedOrBirth: '1885-03-03', category: 'Telecom', country: 'USA', description: 'Telecommunications' },\n  { name: 'Verizon', type: 'Brand', foundedOrBirth: '2000-06-30', category: 'Telecom', country: 'USA', description: 'Telecommunications' },\n  { name: 'T-Mobile', type: 'Brand', foundedOrBirth: '1999-01-01', category: 'Telecom', country: 'USA', description: 'Telecommunications' },\n  { name: 'Comcast', type: 'Brand', foundedOrBirth: '1963-06-28', category: 'Telecom', country: 'USA', description: 'Cable and internet' },\n  { name: 'Vodafone', type: 'Brand', foundedOrBirth: '1991-07-16', category: 'Telecom', country: 'UK', description: 'Telecommunications' },\n  { name: 'Deutsche Telekom', type: 'Brand', foundedOrBirth: '1995-01-01', category: 'Telecom', country: 'Germany', description: 'Telecommunications' },\n  { name: 'Orange', type: 'Brand', foundedOrBirth: '1994-09-01', category: 'Telecom', country: 'France', description: 'Telecommunications' },\n  { name: 'Telefonica', type: 'Brand', foundedOrBirth: '1924-04-19', category: 'Telecom', country: 'Spain', description: 'Telecommunications' },\n  \n  // Sports Teams & Organizations\n  { name: 'NBA', type: 'Brand', foundedOrBirth: '1946-06-06', category: 'Sports', country: 'USA', description: 'Basketball league' },\n  { name: 'NFL', type: 'Brand', foundedOrBirth: '1920-08-20', category: 'Sports', country: 'USA', description: 'Football league' },\n  { name: 'MLB', type: 'Brand', foundedOrBirth: '1903-01-01', category: 'Sports', country: 'USA', description: 'Baseball league' },\n  { name: 'NHL', type: 'Brand', foundedOrBirth: '1917-11-26', category: 'Sports', country: 'Canada', description: 'Hockey league' },\n  { name: 'UFC', type: 'Brand', foundedOrBirth: '1993-11-12', category: 'Sports', country: 'USA', description: 'Mixed martial arts' },\n  { name: 'FIFA', type: 'Brand', foundedOrBirth: '1904-05-21', category: 'Sports', country: 'Switzerland', description: 'Football governing body' },\n  { name: 'Olympics', type: 'Brand', foundedOrBirth: '1894-06-23', category: 'Sports', country: 'International', description: 'International sports' },\n  { name: 'Formula 1', type: 'Brand', foundedOrBirth: '1950-05-13', category: 'Sports', country: 'UK', description: 'Auto racing' },\n  { name: 'NASCAR', type: 'Brand', foundedOrBirth: '1948-02-21', category: 'Sports', country: 'USA', description: 'Auto racing' },\n  { name: 'Premier League', type: 'Brand', foundedOrBirth: '1992-02-20', category: 'Sports', country: 'UK', description: 'Football league' },\n  { name: 'LA Lakers', type: 'Brand', foundedOrBirth: '1947-01-01', category: 'Sports', country: 'USA', description: 'Basketball team' },\n  { name: 'New York Yankees', type: 'Brand', foundedOrBirth: '1903-01-09', category: 'Sports', country: 'USA', description: 'Baseball team' },\n  { name: 'Dallas Cowboys', type: 'Brand', foundedOrBirth: '1960-01-28', category: 'Sports', country: 'USA', description: 'Football team' },\n  { name: 'Manchester United', type: 'Brand', foundedOrBirth: '1878-01-01', category: 'Sports', country: 'UK', description: 'Football club' },\n  { name: 'Real Madrid', type: 'Brand', foundedOrBirth: '1902-03-06', category: 'Sports', country: 'Spain', description: 'Football club' },\n  { name: 'FC Barcelona', type: 'Brand', foundedOrBirth: '1899-11-29', category: 'Sports', country: 'Spain', description: 'Football club' },\n];\n\n// World Cities with founding/establishment dates\nconst citiesData: Omit<Cue, 'id'>[] = [\n  // Major World Cities\n  { name: 'New York City', type: 'Location', foundedOrBirth: '1624-01-01', category: 'Metropolis', country: 'USA', description: 'The city that never sleeps' },\n  { name: 'Los Angeles', type: 'Location', foundedOrBirth: '1781-09-04', category: 'Metropolis', country: 'USA', description: 'Entertainment capital' },\n  { name: 'Chicago', type: 'Location', foundedOrBirth: '1833-08-12', category: 'Metropolis', country: 'USA', description: 'The Windy City' },\n  { name: 'Houston', type: 'Location', foundedOrBirth: '1836-08-30', category: 'Metropolis', country: 'USA', description: 'Space City' },\n  { name: 'Phoenix', type: 'Location', foundedOrBirth: '1881-02-25', category: 'Metropolis', country: 'USA', description: 'Valley of the Sun' },\n  { name: 'Philadelphia', type: 'Location', foundedOrBirth: '1682-10-27', category: 'Metropolis', country: 'USA', description: 'Birthplace of America' },\n  { name: 'San Antonio', type: 'Location', foundedOrBirth: '1718-05-01', category: 'Metropolis', country: 'USA', description: 'The Alamo City' },\n  { name: 'San Diego', type: 'Location', foundedOrBirth: '1769-07-16', category: 'Metropolis', country: 'USA', description: \"America's Finest City\" },\n  { name: 'Dallas', type: 'Location', foundedOrBirth: '1841-01-01', category: 'Metropolis', country: 'USA', description: 'Big D' },\n  { name: 'San Jose', type: 'Location', foundedOrBirth: '1777-11-29', category: 'Metropolis', country: 'USA', description: 'Capital of Silicon Valley' },\n  { name: 'Austin', type: 'Location', foundedOrBirth: '1839-12-27', category: 'Metropolis', country: 'USA', description: 'Keep Austin Weird' },\n  { name: 'Jacksonville', type: 'Location', foundedOrBirth: '1822-06-15', category: 'Metropolis', country: 'USA', description: 'Gateway to Florida' },\n  { name: 'Fort Worth', type: 'Location', foundedOrBirth: '1849-06-06', category: 'Metropolis', country: 'USA', description: 'Cowtown' },\n  { name: 'Columbus', type: 'Location', foundedOrBirth: '1812-02-14', category: 'Metropolis', country: 'USA', description: 'Capital of Ohio' },\n  { name: 'San Francisco', type: 'Location', foundedOrBirth: '1776-06-29', category: 'Metropolis', country: 'USA', description: 'The Golden Gate City' },\n  { name: 'Charlotte', type: 'Location', foundedOrBirth: '1768-01-01', category: 'Metropolis', country: 'USA', description: 'Queen City' },\n  { name: 'Indianapolis', type: 'Location', foundedOrBirth: '1821-01-06', category: 'Metropolis', country: 'USA', description: 'Circle City' },\n  { name: 'Seattle', type: 'Location', foundedOrBirth: '1851-11-13', category: 'Metropolis', country: 'USA', description: 'Emerald City' },\n  { name: 'Denver', type: 'Location', foundedOrBirth: '1858-11-22', category: 'Metropolis', country: 'USA', description: 'Mile High City' },\n  { name: 'Washington D.C.', type: 'Location', foundedOrBirth: '1790-07-16', category: 'Metropolis', country: 'USA', description: 'Capital of the USA' },\n  { name: 'Boston', type: 'Location', foundedOrBirth: '1630-09-17', category: 'Metropolis', country: 'USA', description: 'Cradle of Liberty' },\n  { name: 'Nashville', type: 'Location', foundedOrBirth: '1779-12-25', category: 'Metropolis', country: 'USA', description: 'Music City' },\n  { name: 'Detroit', type: 'Location', foundedOrBirth: '1701-07-24', category: 'Metropolis', country: 'USA', description: 'Motor City' },\n  { name: 'Portland', type: 'Location', foundedOrBirth: '1845-02-08', category: 'Metropolis', country: 'USA', description: 'City of Roses' },\n  { name: 'Las Vegas', type: 'Location', foundedOrBirth: '1905-05-15', category: 'Metropolis', country: 'USA', description: 'Sin City' },\n  { name: 'Memphis', type: 'Location', foundedOrBirth: '1819-05-22', category: 'Metropolis', country: 'USA', description: 'Home of the Blues' },\n  { name: 'Louisville', type: 'Location', foundedOrBirth: '1778-01-01', category: 'Metropolis', country: 'USA', description: 'Derby City' },\n  { name: 'Baltimore', type: 'Location', foundedOrBirth: '1729-08-08', category: 'Metropolis', country: 'USA', description: 'Charm City' },\n  { name: 'Milwaukee', type: 'Location', foundedOrBirth: '1846-01-31', category: 'Metropolis', country: 'USA', description: 'Cream City' },\n  { name: 'Albuquerque', type: 'Location', foundedOrBirth: '1706-04-23', category: 'Metropolis', country: 'USA', description: 'Duke City' },\n  { name: 'Tucson', type: 'Location', foundedOrBirth: '1775-08-20', category: 'Metropolis', country: 'USA', description: 'The Old Pueblo' },\n  { name: 'Fresno', type: 'Location', foundedOrBirth: '1872-01-01', category: 'Metropolis', country: 'USA', description: 'Raisin Capital' },\n  { name: 'Sacramento', type: 'Location', foundedOrBirth: '1850-02-27', category: 'Metropolis', country: 'USA', description: 'City of Trees' },\n  { name: 'Atlanta', type: 'Location', foundedOrBirth: '1837-12-29', category: 'Metropolis', country: 'USA', description: 'Capital of the South' },\n  { name: 'Miami', type: 'Location', foundedOrBirth: '1896-07-28', category: 'Metropolis', country: 'USA', description: 'Magic City' },\n  { name: 'New Orleans', type: 'Location', foundedOrBirth: '1718-05-07', category: 'Metropolis', country: 'USA', description: 'The Big Easy' },\n  { name: 'Cleveland', type: 'Location', foundedOrBirth: '1796-07-22', category: 'Metropolis', country: 'USA', description: 'Forest City' },\n  { name: 'Minneapolis', type: 'Location', foundedOrBirth: '1867-03-01', category: 'Metropolis', country: 'USA', description: 'City of Lakes' },\n  { name: 'Tampa', type: 'Location', foundedOrBirth: '1849-01-18', category: 'Metropolis', country: 'USA', description: 'Cigar City' },\n  { name: 'Pittsburgh', type: 'Location', foundedOrBirth: '1816-03-18', category: 'Metropolis', country: 'USA', description: 'Steel City' },\n  { name: 'St. Louis', type: 'Location', foundedOrBirth: '1764-02-15', category: 'Metropolis', country: 'USA', description: 'Gateway to the West' },\n  { name: 'Cincinnati', type: 'Location', foundedOrBirth: '1788-12-28', category: 'Metropolis', country: 'USA', description: 'Queen City' },\n  { name: 'Orlando', type: 'Location', foundedOrBirth: '1875-07-31', category: 'Metropolis', country: 'USA', description: 'Theme Park Capital' },\n  { name: 'Honolulu', type: 'Location', foundedOrBirth: '1907-04-30', category: 'Metropolis', country: 'USA', description: 'Paradise of the Pacific' },\n  \n  // International Cities\n  { name: 'Tokyo', type: 'Location', foundedOrBirth: '1457-01-01', category: 'Metropolis', country: 'Japan', description: 'Capital of Japan' },\n  { name: 'London', type: 'Location', foundedOrBirth: '0043-01-01', category: 'Metropolis', country: 'UK', description: 'Capital of England' },\n  { name: 'Paris', type: 'Location', foundedOrBirth: '0250-01-01', category: 'Metropolis', country: 'France', description: 'City of Light' },\n  { name: 'Beijing', type: 'Location', foundedOrBirth: '1045-01-01', category: 'Metropolis', country: 'China', description: 'Capital of China' },\n  { name: 'Shanghai', type: 'Location', foundedOrBirth: '0751-01-01', category: 'Metropolis', country: 'China', description: 'The Pearl of the Orient' },\n  { name: 'Dubai', type: 'Location', foundedOrBirth: '1833-01-01', category: 'Metropolis', country: 'UAE', description: 'City of Gold' },\n  { name: 'Singapore', type: 'Location', foundedOrBirth: '1819-02-06', category: 'Metropolis', country: 'Singapore', description: 'Lion City' },\n  { name: 'Hong Kong', type: 'Location', foundedOrBirth: '1842-08-29', category: 'Metropolis', country: 'China', description: 'Fragrant Harbor' },\n  { name: 'Sydney', type: 'Location', foundedOrBirth: '1788-01-26', category: 'Metropolis', country: 'Australia', description: 'Harbour City' },\n  { name: 'Melbourne', type: 'Location', foundedOrBirth: '1835-08-30', category: 'Metropolis', country: 'Australia', description: 'Capital of Victoria' },\n  { name: 'Toronto', type: 'Location', foundedOrBirth: '1793-08-27', category: 'Metropolis', country: 'Canada', description: 'The Six' },\n  { name: 'Vancouver', type: 'Location', foundedOrBirth: '1886-04-06', category: 'Metropolis', country: 'Canada', description: 'Hollywood North' },\n  { name: 'Montreal', type: 'Location', foundedOrBirth: '1642-05-17', category: 'Metropolis', country: 'Canada', description: 'City of Saints' },\n  { name: 'Berlin', type: 'Location', foundedOrBirth: '1237-01-01', category: 'Metropolis', country: 'Germany', description: 'Capital of Germany' },\n  { name: 'Munich', type: 'Location', foundedOrBirth: '1158-06-14', category: 'Metropolis', country: 'Germany', description: 'City of Beer' },\n  { name: 'Frankfurt', type: 'Location', foundedOrBirth: '0794-01-01', category: 'Metropolis', country: 'Germany', description: 'Financial Capital' },\n  { name: 'Amsterdam', type: 'Location', foundedOrBirth: '1275-10-27', category: 'Metropolis', country: 'Netherlands', description: 'Venice of the North' },\n  { name: 'Brussels', type: 'Location', foundedOrBirth: '0979-01-01', category: 'Metropolis', country: 'Belgium', description: 'Capital of Europe' },\n  { name: 'Vienna', type: 'Location', foundedOrBirth: '0015-01-01', category: 'Metropolis', country: 'Austria', description: 'City of Music' },\n  { name: 'Zurich', type: 'Location', foundedOrBirth: '0015-01-01', category: 'Metropolis', country: 'Switzerland', description: 'Banking Capital' },\n  { name: 'Geneva', type: 'Location', foundedOrBirth: '0058-01-01', category: 'Metropolis', country: 'Switzerland', description: 'City of Peace' },\n  { name: 'Madrid', type: 'Location', foundedOrBirth: '0860-01-01', category: 'Metropolis', country: 'Spain', description: 'Capital of Spain' },\n  { name: 'Barcelona', type: 'Location', foundedOrBirth: '0015-01-01', category: 'Metropolis', country: 'Spain', description: 'City of Gaudi' },\n  { name: 'Rome', type: 'Location', foundedOrBirth: '-0753-04-21', category: 'Metropolis', country: 'Italy', description: 'Eternal City' },\n  { name: 'Milan', type: 'Location', foundedOrBirth: '0222-01-01', category: 'Metropolis', country: 'Italy', description: 'Fashion Capital' },\n  { name: 'Venice', type: 'Location', foundedOrBirth: '0421-03-25', category: 'Metropolis', country: 'Italy', description: 'City of Canals' },\n  { name: 'Florence', type: 'Location', foundedOrBirth: '0059-01-01', category: 'Metropolis', country: 'Italy', description: 'Cradle of Renaissance' },\n  { name: 'Moscow', type: 'Location', foundedOrBirth: '1147-04-04', category: 'Metropolis', country: 'Russia', description: 'Capital of Russia' },\n  { name: 'St. Petersburg', type: 'Location', foundedOrBirth: '1703-05-27', category: 'Metropolis', country: 'Russia', description: 'Venice of the North' },\n  { name: 'Seoul', type: 'Location', foundedOrBirth: '0018-01-01', category: 'Metropolis', country: 'South Korea', description: 'Soul of Asia' },\n  { name: 'Osaka', type: 'Location', foundedOrBirth: '0350-01-01', category: 'Metropolis', country: 'Japan', description: \"Japan's Kitchen\" },\n  { name: 'Kyoto', type: 'Location', foundedOrBirth: '0794-01-01', category: 'Metropolis', country: 'Japan', description: 'Ancient Capital' },\n  { name: 'Bangkok', type: 'Location', foundedOrBirth: '1782-04-21', category: 'Metropolis', country: 'Thailand', description: 'City of Angels' },\n  { name: 'Kuala Lumpur', type: 'Location', foundedOrBirth: '1857-01-01', category: 'Metropolis', country: 'Malaysia', description: 'KL' },\n  { name: 'Jakarta', type: 'Location', foundedOrBirth: '1527-06-22', category: 'Metropolis', country: 'Indonesia', description: 'Big Durian' },\n  { name: 'Manila', type: 'Location', foundedOrBirth: '1571-06-24', category: 'Metropolis', country: 'Philippines', description: 'Pearl of the Orient' },\n  { name: 'Mumbai', type: 'Location', foundedOrBirth: '1507-01-01', category: 'Metropolis', country: 'India', description: 'City of Dreams' },\n  { name: 'Delhi', type: 'Location', foundedOrBirth: '1011-01-01', category: 'Metropolis', country: 'India', description: 'Heart of India' },\n  { name: 'Bangalore', type: 'Location', foundedOrBirth: '1537-01-01', category: 'Metropolis', country: 'India', description: 'Silicon Valley of India' },\n  { name: 'Cairo', type: 'Location', foundedOrBirth: '0969-07-06', category: 'Metropolis', country: 'Egypt', description: 'City of a Thousand Minarets' },\n  { name: 'Cape Town', type: 'Location', foundedOrBirth: '1652-04-06', category: 'Metropolis', country: 'South Africa', description: 'Mother City' },\n  { name: 'Johannesburg', type: 'Location', foundedOrBirth: '1886-10-04', category: 'Metropolis', country: 'South Africa', description: 'City of Gold' },\n  { name: 'Lagos', type: 'Location', foundedOrBirth: '1472-01-01', category: 'Metropolis', country: 'Nigeria', description: 'Centre of Excellence' },\n  { name: 'Nairobi', type: 'Location', foundedOrBirth: '1899-05-30', category: 'Metropolis', country: 'Kenya', description: 'Green City in the Sun' },\n  { name: 'Mexico City', type: 'Location', foundedOrBirth: '1325-03-13', category: 'Metropolis', country: 'Mexico', description: 'City of Palaces' },\n  { name: 'SÃ£o Paulo', type: 'Location', foundedOrBirth: '1554-01-25', category: 'Metropolis', country: 'Brazil', description: \"South America's Largest City\" },\n  { name: 'Rio de Janeiro', type: 'Location', foundedOrBirth: '1565-03-01', category: 'Metropolis', country: 'Brazil', description: 'Marvelous City' },\n  { name: 'Buenos Aires', type: 'Location', foundedOrBirth: '1536-02-02', category: 'Metropolis', country: 'Argentina', description: 'Paris of South America' },\n  { name: 'Lima', type: 'Location', foundedOrBirth: '1535-01-18', category: 'Metropolis', country: 'Peru', description: 'City of Kings' },\n  { name: 'Bogota', type: 'Location', foundedOrBirth: '1538-08-06', category: 'Metropolis', country: 'Colombia', description: 'Athens of South America' },\n  { name: 'Santiago', type: 'Location', foundedOrBirth: '1541-02-12', category: 'Metropolis', country: 'Chile', description: 'Capital of Chile' },\n  { name: 'Istanbul', type: 'Location', foundedOrBirth: '0660-01-01', category: 'Metropolis', country: 'Turkey', description: 'Where East Meets West' },\n  { name: 'Tel Aviv', type: 'Location', foundedOrBirth: '1909-04-11', category: 'Metropolis', country: 'Israel', description: 'White City' },\n  { name: 'Jerusalem', type: 'Location', foundedOrBirth: '-3000-01-01', category: 'Metropolis', country: 'Israel', description: 'Holy City' },\n  { name: 'Athens', type: 'Location', foundedOrBirth: '-3000-01-01', category: 'Metropolis', country: 'Greece', description: 'Birthplace of Democracy' },\n  { name: 'Stockholm', type: 'Location', foundedOrBirth: '1252-01-01', category: 'Metropolis', country: 'Sweden', description: 'Venice of the North' },\n  { name: 'Copenhagen', type: 'Location', foundedOrBirth: '1167-01-01', category: 'Metropolis', country: 'Denmark', description: 'City of Spires' },\n  { name: 'Oslo', type: 'Location', foundedOrBirth: '1040-01-01', category: 'Metropolis', country: 'Norway', description: 'Tiger City' },\n  { name: 'Helsinki', type: 'Location', foundedOrBirth: '1550-06-12', category: 'Metropolis', country: 'Finland', description: 'Daughter of the Baltic' },\n  { name: 'Dublin', type: 'Location', foundedOrBirth: '0841-01-01', category: 'Metropolis', country: 'Ireland', description: 'Fair City' },\n  { name: 'Edinburgh', type: 'Location', foundedOrBirth: '0600-01-01', category: 'Metropolis', country: 'UK', description: 'Athens of the North' },\n  { name: 'Prague', type: 'Location', foundedOrBirth: '0885-01-01', category: 'Metropolis', country: 'Czech Republic', description: 'City of a Hundred Spires' },\n  { name: 'Budapest', type: 'Location', foundedOrBirth: '1873-11-17', category: 'Metropolis', country: 'Hungary', description: 'Pearl of the Danube' },\n  { name: 'Warsaw', type: 'Location', foundedOrBirth: '1300-01-01', category: 'Metropolis', country: 'Poland', description: 'Phoenix City' },\n  { name: 'Lisbon', type: 'Location', foundedOrBirth: '-1200-01-01', category: 'Metropolis', country: 'Portugal', description: 'City of Seven Hills' },\n];\n\n// Notable People (expanded list)\nconst peopleData: Omit<Cue, 'id'>[] = [\n  // Tech Leaders\n  { name: 'Elon Musk', type: 'Person', foundedOrBirth: '1971-06-28', category: 'Technology', country: 'USA', description: 'CEO of Tesla and SpaceX' },\n  { name: 'Jeff Bezos', type: 'Person', foundedOrBirth: '1964-01-12', category: 'Technology', country: 'USA', description: 'Founder of Amazon' },\n  { name: 'Bill Gates', type: 'Person', foundedOrBirth: '1955-10-28', category: 'Technology', country: 'USA', description: 'Co-founder of Microsoft' },\n  { name: 'Steve Jobs', type: 'Person', foundedOrBirth: '1955-02-24', category: 'Technology', country: 'USA', description: 'Co-founder of Apple' },\n  { name: 'Mark Zuckerberg', type: 'Person', foundedOrBirth: '1984-05-14', category: 'Technology', country: 'USA', description: 'Founder of Facebook/Meta' },\n  { name: 'Sundar Pichai', type: 'Person', foundedOrBirth: '1972-06-10', category: 'Technology', country: 'USA', description: 'CEO of Google' },\n  { name: 'Tim Cook', type: 'Person', foundedOrBirth: '1960-11-01', category: 'Technology', country: 'USA', description: 'CEO of Apple' },\n  { name: 'Satya Nadella', type: 'Person', foundedOrBirth: '1967-08-19', category: 'Technology', country: 'USA', description: 'CEO of Microsoft' },\n  { name: 'Jack Dorsey', type: 'Person', foundedOrBirth: '1976-11-19', category: 'Technology', country: 'USA', description: 'Co-founder of Twitter' },\n  { name: 'Larry Page', type: 'Person', foundedOrBirth: '1973-03-26', category: 'Technology', country: 'USA', description: 'Co-founder of Google' },\n  { name: 'Sergey Brin', type: 'Person', foundedOrBirth: '1973-08-21', category: 'Technology', country: 'USA', description: 'Co-founder of Google' },\n  { name: 'Jensen Huang', type: 'Person', foundedOrBirth: '1963-02-17', category: 'Technology', country: 'USA', description: 'CEO of NVIDIA' },\n  { name: 'Sam Altman', type: 'Person', foundedOrBirth: '1985-04-22', category: 'Technology', country: 'USA', description: 'CEO of OpenAI' },\n  { name: 'Reed Hastings', type: 'Person', foundedOrBirth: '1960-10-08', category: 'Technology', country: 'USA', description: 'Co-founder of Netflix' },\n  { name: 'Brian Chesky', type: 'Person', foundedOrBirth: '1981-08-29', category: 'Technology', country: 'USA', description: 'Co-founder of Airbnb' },\n  { name: 'Travis Kalanick', type: 'Person', foundedOrBirth: '1976-08-06', category: 'Technology', country: 'USA', description: 'Co-founder of Uber' },\n  { name: 'Daniel Ek', type: 'Person', foundedOrBirth: '1983-02-21', category: 'Technology', country: 'Sweden', description: 'Co-founder of Spotify' },\n  { name: 'Jack Ma', type: 'Person', foundedOrBirth: '1964-09-10', category: 'Technology', country: 'China', description: 'Founder of Alibaba' },\n  { name: 'Pony Ma', type: 'Person', foundedOrBirth: '1971-10-29', category: 'Technology', country: 'China', description: 'Founder of Tencent' },\n  { name: 'Larry Ellison', type: 'Person', foundedOrBirth: '1944-08-17', category: 'Technology', country: 'USA', description: 'Founder of Oracle' },\n  \n  // Entertainment\n  { name: 'Oprah Winfrey', type: 'Person', foundedOrBirth: '1954-01-29', category: 'Entertainment', country: 'USA', description: 'Media mogul' },\n  { name: 'Taylor Swift', type: 'Person', foundedOrBirth: '1989-12-13', category: 'Music', country: 'USA', description: 'Singer-songwriter' },\n  { name: 'BeyoncÃ©', type: 'Person', foundedOrBirth: '1981-09-04', category: 'Music', country: 'USA', description: 'Singer and performer' },\n  { name: 'Drake', type: 'Person', foundedOrBirth: '1986-10-24', category: 'Music', country: 'Canada', description: 'Rapper and singer' },\n  { name: 'Kanye West', type: 'Person', foundedOrBirth: '1977-06-08', category: 'Music', country: 'USA', description: 'Rapper and producer' },\n  { name: 'Jay-Z', type: 'Person', foundedOrBirth: '1969-12-04', category: 'Music', country: 'USA', description: 'Rapper and entrepreneur' },\n  { name: 'Rihanna', type: 'Person', foundedOrBirth: '1988-02-20', category: 'Music', country: 'Barbados', description: 'Singer and entrepreneur' },\n  { name: 'Lady Gaga', type: 'Person', foundedOrBirth: '1986-03-28', category: 'Music', country: 'USA', description: 'Singer and actress' },\n  { name: 'Ariana Grande', type: 'Person', foundedOrBirth: '1993-06-26', category: 'Music', country: 'USA', description: 'Singer and actress' },\n  { name: 'Ed Sheeran', type: 'Person', foundedOrBirth: '1991-02-17', category: 'Music', country: 'UK', description: 'Singer-songwriter' },\n  { name: 'Bruno Mars', type: 'Person', foundedOrBirth: '1985-10-08', category: 'Music', country: 'USA', description: 'Singer and producer' },\n  { name: 'Justin Bieber', type: 'Person', foundedOrBirth: '1994-03-01', category: 'Music', country: 'Canada', description: 'Pop star' },\n  { name: 'The Weeknd', type: 'Person', foundedOrBirth: '1990-02-16', category: 'Music', country: 'Canada', description: 'Singer and songwriter' },\n  { name: 'Post Malone', type: 'Person', foundedOrBirth: '1995-07-04', category: 'Music', country: 'USA', description: 'Rapper and singer' },\n  { name: 'Billie Eilish', type: 'Person', foundedOrBirth: '2001-12-18', category: 'Music', country: 'USA', description: 'Singer-songwriter' },\n  { name: 'Dua Lipa', type: 'Person', foundedOrBirth: '1995-08-22', category: 'Music', country: 'UK', description: 'Singer and songwriter' },\n  { name: 'Harry Styles', type: 'Person', foundedOrBirth: '1994-02-01', category: 'Music', country: 'UK', description: 'Singer and actor' },\n  { name: 'BTS', type: 'Person', foundedOrBirth: '2013-06-13', category: 'Music', country: 'South Korea', description: 'K-pop group' },\n  { name: 'BLACKPINK', type: 'Person', foundedOrBirth: '2016-08-08', category: 'Music', country: 'South Korea', description: 'K-pop group' },\n  \n  // Actors\n  { name: 'Leonardo DiCaprio', type: 'Person', foundedOrBirth: '1974-11-11', category: 'Film', country: 'USA', description: 'Actor and producer' },\n  { name: 'Tom Cruise', type: 'Person', foundedOrBirth: '1962-07-03', category: 'Film', country: 'USA', description: 'Actor and producer' },\n  { name: 'Tom Hanks', type: 'Person', foundedOrBirth: '1956-07-09', category: 'Film', country: 'USA', description: 'Actor and filmmaker' },\n  { name: 'Denzel Washington', type: 'Person', foundedOrBirth: '1954-12-28', category: 'Film', country: 'USA', description: 'Actor and director' },\n  { name: 'Meryl Streep', type: 'Person', foundedOrBirth: '1949-06-22', category: 'Film', country: 'USA', description: 'Actress' },\n  { name: 'Robert Downey Jr.', type: 'Person', foundedOrBirth: '1965-04-04', category: 'Film', country: 'USA', description: 'Actor' },\n  { name: 'Scarlett Johansson', type: 'Person', foundedOrBirth: '1984-11-22', category: 'Film', country: 'USA', description: 'Actress' },\n  { name: 'Margot Robbie', type: 'Person', foundedOrBirth: '1990-07-02', category: 'Film', country: 'Australia', description: 'Actress and producer' },\n  { name: 'Zendaya', type: 'Person', foundedOrBirth: '1996-09-01', category: 'Film', country: 'USA', description: 'Actress and singer' },\n  { name: 'TimothÃ©e Chalamet', type: 'Person', foundedOrBirth: '1995-12-27', category: 'Film', country: 'USA', description: 'Actor' },\n  { name: 'Keanu Reeves', type: 'Person', foundedOrBirth: '1964-09-02', category: 'Film', country: 'Canada', description: 'Actor' },\n  { name: 'Dwayne Johnson', type: 'Person', foundedOrBirth: '1972-05-02', category: 'Film', country: 'USA', description: 'Actor and wrestler' },\n  { name: 'Ryan Reynolds', type: 'Person', foundedOrBirth: '1976-10-23', category: 'Film', country: 'Canada', description: 'Actor and entrepreneur' },\n  { name: 'Chris Hemsworth', type: 'Person', foundedOrBirth: '1983-08-11', category: 'Film', country: 'Australia', description: 'Actor' },\n  { name: 'Jennifer Lawrence', type: 'Person', foundedOrBirth: '1990-08-15', category: 'Film', country: 'USA', description: 'Actress' },\n  { name: 'Emma Stone', type: 'Person', foundedOrBirth: '1988-11-06', category: 'Film', country: 'USA', description: 'Actress' },\n  { name: 'Chris Evans', type: 'Person', foundedOrBirth: '1981-06-13', category: 'Film', country: 'USA', description: 'Actor' },\n  { name: 'Florence Pugh', type: 'Person', foundedOrBirth: '1996-01-03', category: 'Film', country: 'UK', description: 'Actress' },\n  { name: 'Sydney Sweeney', type: 'Person', foundedOrBirth: '1997-09-12', category: 'Film', country: 'USA', description: 'Actress' },\n  \n  // Sports\n  { name: 'LeBron James', type: 'Person', foundedOrBirth: '1984-12-30', category: 'Sports', country: 'USA', description: 'Basketball player' },\n  { name: 'Michael Jordan', type: 'Person', foundedOrBirth: '1963-02-17', category: 'Sports', country: 'USA', description: 'Basketball legend' },\n  { name: 'Cristiano Ronaldo', type: 'Person', foundedOrBirth: '1985-02-05', category: 'Sports', country: 'Portugal', description: 'Football player' },\n  { name: 'Lionel Messi', type: 'Person', foundedOrBirth: '1987-06-24', category: 'Sports', country: 'Argentina', description: 'Football player' },\n  { name: 'Serena Williams', type: 'Person', foundedOrBirth: '1981-09-26', category: 'Sports', country: 'USA', description: 'Tennis champion' },\n  { name: 'Tiger Woods', type: 'Person', foundedOrBirth: '1975-12-30', category: 'Sports', country: 'USA', description: 'Golf legend' },\n  { name: 'Tom Brady', type: 'Person', foundedOrBirth: '1977-08-03', category: 'Sports', country: 'USA', description: 'Football quarterback' },\n  { name: 'Stephen Curry', type: 'Person', foundedOrBirth: '1988-03-14', category: 'Sports', country: 'USA', description: 'Basketball player' },\n  { name: 'Patrick Mahomes', type: 'Person', foundedOrBirth: '1995-09-17', category: 'Sports', country: 'USA', description: 'Football quarterback' },\n  { name: 'Naomi Osaka', type: 'Person', foundedOrBirth: '1997-10-16', category: 'Sports', country: 'Japan', description: 'Tennis player' },\n  { name: 'Usain Bolt', type: 'Person', foundedOrBirth: '1986-08-21', category: 'Sports', country: 'Jamaica', description: 'Sprinter' },\n  { name: 'Lewis Hamilton', type: 'Person', foundedOrBirth: '1985-01-07', category: 'Sports', country: 'UK', description: 'F1 driver' },\n  { name: 'Max Verstappen', type: 'Person', foundedOrBirth: '1997-09-30', category: 'Sports', country: 'Netherlands', description: 'F1 driver' },\n  { name: 'Kylian MbappÃ©', type: 'Person', foundedOrBirth: '1998-12-20', category: 'Sports', country: 'France', description: 'Football player' },\n  { name: 'Erling Haaland', type: 'Person', foundedOrBirth: '2000-07-21', category: 'Sports', country: 'Norway', description: 'Football player' },\n  { name: 'Shohei Ohtani', type: 'Person', foundedOrBirth: '1994-07-05', category: 'Sports', country: 'Japan', description: 'Baseball player' },\n  { name: 'Connor McDavid', type: 'Person', foundedOrBirth: '1997-01-13', category: 'Sports', country: 'Canada', description: 'Hockey player' },\n  { name: 'Simone Biles', type: 'Person', foundedOrBirth: '1997-03-14', category: 'Sports', country: 'USA', description: 'Gymnast' },\n  { name: 'Neymar', type: 'Person', foundedOrBirth: '1992-02-05', category: 'Sports', country: 'Brazil', description: 'Football player' },\n  { name: 'Giannis Antetokounmpo', type: 'Person', foundedOrBirth: '1994-12-06', category: 'Sports', country: 'Greece', description: 'Basketball player' },\n  \n  // Business Leaders\n  { name: 'Warren Buffett', type: 'Person', foundedOrBirth: '1930-08-30', category: 'Business', country: 'USA', description: 'Investor' },\n  { name: 'Bernard Arnault', type: 'Person', foundedOrBirth: '1949-03-05', category: 'Business', country: 'France', description: 'CEO of LVMH' },\n  { name: 'Jamie Dimon', type: 'Person', foundedOrBirth: '1956-03-13', category: 'Business', country: 'USA', description: 'CEO of JPMorgan Chase' },\n  { name: 'Ray Dalio', type: 'Person', foundedOrBirth: '1949-08-08', category: 'Business', country: 'USA', description: 'Founder of Bridgewater' },\n  { name: 'Mary Barra', type: 'Person', foundedOrBirth: '1961-12-24', category: 'Business', country: 'USA', description: 'CEO of General Motors' },\n  { name: 'Indra Nooyi', type: 'Person', foundedOrBirth: '1955-10-28', category: 'Business', country: 'India', description: 'Former CEO of PepsiCo' },\n  { name: 'Michael Bloomberg', type: 'Person', foundedOrBirth: '1942-02-14', category: 'Business', country: 'USA', description: 'Founder of Bloomberg LP' },\n  { name: 'Richard Branson', type: 'Person', foundedOrBirth: '1950-07-18', category: 'Business', country: 'UK', description: 'Founder of Virgin Group' },\n  { name: 'Mukesh Ambani', type: 'Person', foundedOrBirth: '1957-04-19', category: 'Business', country: 'India', description: 'Chairman of Reliance' },\n  { name: 'Bob Iger', type: 'Person', foundedOrBirth: '1951-02-10', category: 'Business', country: 'USA', description: 'CEO of Disney' },\n  \n  // Historical Figures\n  { name: 'Albert Einstein', type: 'Person', foundedOrBirth: '1879-03-14', category: 'Science', country: 'Germany', description: 'Physicist' },\n  { name: 'Nikola Tesla', type: 'Person', foundedOrBirth: '1856-07-10', category: 'Science', country: 'Serbia', description: 'Inventor' },\n  { name: 'Martin Luther King Jr.', type: 'Person', foundedOrBirth: '1929-01-15', category: 'Activist', country: 'USA', description: 'Civil rights leader' },\n  { name: 'Nelson Mandela', type: 'Person', foundedOrBirth: '1918-07-18', category: 'Politics', country: 'South Africa', description: 'Anti-apartheid leader' },\n  { name: 'Princess Diana', type: 'Person', foundedOrBirth: '1961-07-01', category: 'Royalty', country: 'UK', description: 'Princess of Wales' },\n  { name: 'John F. Kennedy', type: 'Person', foundedOrBirth: '1917-05-29', category: 'Politics', country: 'USA', description: '35th US President' },\n  { name: 'Abraham Lincoln', type: 'Person', foundedOrBirth: '1809-02-12', category: 'Politics', country: 'USA', description: '16th US President' },\n  { name: 'Walt Disney', type: 'Person', foundedOrBirth: '1901-12-05', category: 'Entertainment', country: 'USA', description: 'Founder of Disney' },\n  { name: 'Marilyn Monroe', type: 'Person', foundedOrBirth: '1926-06-01', category: 'Film', country: 'USA', description: 'Actress and icon' },\n  { name: 'Elvis Presley', type: 'Person', foundedOrBirth: '1935-01-08', category: 'Music', country: 'USA', description: 'King of Rock and Roll' },\n  { name: 'Michael Jackson', type: 'Person', foundedOrBirth: '1958-08-29', category: 'Music', country: 'USA', description: 'King of Pop' },\n  { name: 'Whitney Houston', type: 'Person', foundedOrBirth: '1963-08-09', category: 'Music', country: 'USA', description: 'Singer' },\n  { name: 'Prince', type: 'Person', foundedOrBirth: '1958-06-07', category: 'Music', country: 'USA', description: 'Musician' },\n  { name: 'David Bowie', type: 'Person', foundedOrBirth: '1947-01-08', category: 'Music', country: 'UK', description: 'Musician' },\n  { name: 'Freddie Mercury', type: 'Person', foundedOrBirth: '1946-09-05', category: 'Music', country: 'UK', description: 'Lead singer of Queen' },\n  { name: 'John Lennon', type: 'Person', foundedOrBirth: '1940-10-09', category: 'Music', country: 'UK', description: 'Beatle and peace activist' },\n  { name: 'Muhammad Ali', type: 'Person', foundedOrBirth: '1942-01-17', category: 'Sports', country: 'USA', description: 'Boxing champion' },\n  { name: 'Kobe Bryant', type: 'Person', foundedOrBirth: '1978-08-23', category: 'Sports', country: 'USA', description: 'Basketball legend' },\n  { name: 'Diego Maradona', type: 'Person', foundedOrBirth: '1960-10-30', category: 'Sports', country: 'Argentina', description: 'Football legend' },\n  { name: 'PelÃ©', type: 'Person', foundedOrBirth: '1940-10-23', category: 'Sports', country: 'Brazil', description: 'Football legend' },\n  \n  // Influencers & Content Creators\n  { name: 'MrBeast', type: 'Person', foundedOrBirth: '1998-05-07', category: 'Content Creator', country: 'USA', description: 'YouTuber and philanthropist' },\n  { name: 'PewDiePie', type: 'Person', foundedOrBirth: '1989-10-24', category: 'Content Creator', country: 'Sweden', description: 'YouTuber' },\n  { name: 'Kim Kardashian', type: 'Person', foundedOrBirth: '1980-10-21', category: 'Entertainment', country: 'USA', description: 'Media personality' },\n  { name: 'Kylie Jenner', type: 'Person', foundedOrBirth: '1997-08-10', category: 'Business', country: 'USA', description: 'Entrepreneur' },\n  { name: 'Logan Paul', type: 'Person', foundedOrBirth: '1995-04-01', category: 'Content Creator', country: 'USA', description: 'YouTuber and wrestler' },\n  { name: 'Joe Rogan', type: 'Person', foundedOrBirth: '1967-08-11', category: 'Entertainment', country: 'USA', description: 'Podcaster' },\n  { name: 'Markiplier', type: 'Person', foundedOrBirth: '1989-06-28', category: 'Content Creator', country: 'USA', description: 'YouTuber' },\n  { name: 'Ninja', type: 'Person', foundedOrBirth: '1991-06-05', category: 'Gaming', country: 'USA', description: 'Streamer' },\n  { name: 'Emma Chamberlain', type: 'Person', foundedOrBirth: '2001-05-22', category: 'Content Creator', country: 'USA', description: 'YouTuber' },\n  { name: 'Charli D\\'Amelio', type: 'Person', foundedOrBirth: '2004-05-01', category: 'Content Creator', country: 'USA', description: 'TikTok star' },\n  \n  // Political Figures\n  { name: 'Barack Obama', type: 'Person', foundedOrBirth: '1961-08-04', category: 'Politics', country: 'USA', description: '44th US President' },\n  { name: 'Donald Trump', type: 'Person', foundedOrBirth: '1946-06-14', category: 'Politics', country: 'USA', description: '45th US President' },\n  { name: 'Joe Biden', type: 'Person', foundedOrBirth: '1942-11-20', category: 'Politics', country: 'USA', description: '46th US President' },\n  { name: 'Vladimir Putin', type: 'Person', foundedOrBirth: '1952-10-07', category: 'Politics', country: 'Russia', description: 'President of Russia' },\n  { name: 'Xi Jinping', type: 'Person', foundedOrBirth: '1953-06-15', category: 'Politics', country: 'China', description: 'President of China' },\n  { name: 'Angela Merkel', type: 'Person', foundedOrBirth: '1954-07-17', category: 'Politics', country: 'Germany', description: 'Former Chancellor' },\n  { name: 'Emmanuel Macron', type: 'Person', foundedOrBirth: '1977-12-21', category: 'Politics', country: 'France', description: 'President of France' },\n  { name: 'Justin Trudeau', type: 'Person', foundedOrBirth: '1971-12-25', category: 'Politics', country: 'Canada', description: 'Prime Minister of Canada' },\n  { name: 'Narendra Modi', type: 'Person', foundedOrBirth: '1950-09-17', category: 'Politics', country: 'India', description: 'Prime Minister of India' },\n  { name: 'Queen Elizabeth II', type: 'Person', foundedOrBirth: '1926-04-21', category: 'Royalty', country: 'UK', description: 'Queen of UK' },\n  { name: 'King Charles III', type: 'Person', foundedOrBirth: '1948-11-14', category: 'Royalty', country: 'UK', description: 'King of UK' },\n  { name: 'Prince William', type: 'Person', foundedOrBirth: '1982-06-21', category: 'Royalty', country: 'UK', description: 'Prince of Wales' },\n  { name: 'Prince Harry', type: 'Person', foundedOrBirth: '1984-09-15', category: 'Royalty', country: 'UK', description: 'Duke of Sussex' },\n];\n\n// Generate additional entries to reach 22,000+\nfunction generateAdditionalCues(): Omit<Cue, 'id'>[] {\n  const additionalCues: Omit<Cue, 'id'>[] = [];\n  \n  // More tech companies\n  const techCompanies = [\n    'Palantir', 'Snowflake', 'Datadog', 'CrowdStrike', 'Cloudflare', 'MongoDB', 'Twilio', 'Okta', \n    'DocuSign', 'Atlassian', 'Asana', 'Notion', 'Figma', 'Canva', 'Airtable', 'Zapier', 'Hubspot',\n    'Zendesk', 'ServiceNow', 'Workday', 'Splunk', 'Palo Alto Networks', 'Fortinet', 'Zscaler',\n    'SentinelOne', 'Elastic', 'Confluent', 'HashiCorp', 'GitLab', 'GitHub', 'JetBrains', 'Vercel',\n    'Netlify', 'Heroku', 'DigitalOcean', 'Linode', 'Vultr', 'OVH', 'Hetzner', 'Cloudways',\n    'Squarespace', 'Wix', 'Weebly', 'GoDaddy', 'Namecheap', 'Hover', 'Google Cloud', 'AWS',\n    'Azure', 'Alibaba Cloud', 'Oracle Cloud', 'IBM Cloud', 'Salesforce Platform', 'SAP',\n    'Intuit', 'Quickbooks', 'FreshBooks', 'Wave', 'Xero', 'Gusto', 'Rippling', 'Deel', 'Remote',\n    'Oyster', 'Lattice', 'Culture Amp', 'Lever', 'Greenhouse', 'BambooHR', 'Namely', 'Personio',\n  ];\n  \n  techCompanies.forEach((name, i) => {\n    const year = 1995 + (i % 28);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    additionalCues.push({\n      name,\n      type: 'Brand',\n      foundedOrBirth: `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`,\n      category: 'Technology',\n      country: 'USA',\n      description: 'Technology company'\n    });\n  });\n\n  // More cities from around the world\n  const moreCities = [\n    { name: 'Shenzhen', country: 'China', year: 1979 },\n    { name: 'Guangzhou', country: 'China', year: 214 },\n    { name: 'Chengdu', country: 'China', year: 316 },\n    { name: 'Hangzhou', country: 'China', year: 589 },\n    { name: 'Wuhan', country: 'China', year: 223 },\n    { name: 'Tianjin', country: 'China', year: 1404 },\n    { name: 'Chongqing', country: 'China', year: 316 },\n    { name: 'Nanjing', country: 'China', year: 495 },\n    { name: 'Suzhou', country: 'China', year: 514 },\n    { name: 'Busan', country: 'South Korea', year: 57 },\n    { name: 'Incheon', country: 'South Korea', year: 18 },\n    { name: 'Daegu', country: 'South Korea', year: 261 },\n    { name: 'Fukuoka', country: 'Japan', year: 1889 },\n    { name: 'Sapporo', country: 'Japan', year: 1869 },\n    { name: 'Nagoya', country: 'Japan', year: 1610 },\n    { name: 'Kobe', country: 'Japan', year: 1889 },\n    { name: 'Yokohama', country: 'Japan', year: 1859 },\n    { name: 'Taipei', country: 'Taiwan', year: 1709 },\n    { name: 'Kaohsiung', country: 'Taiwan', year: 1664 },\n    { name: 'Hanoi', country: 'Vietnam', year: 1010 },\n    { name: 'Ho Chi Minh City', country: 'Vietnam', year: 1698 },\n    { name: 'Phnom Penh', country: 'Cambodia', year: 1434 },\n    { name: 'Yangon', country: 'Myanmar', year: 1755 },\n    { name: 'Dhaka', country: 'Bangladesh', year: 1608 },\n    { name: 'Kolkata', country: 'India', year: 1690 },\n    { name: 'Chennai', country: 'India', year: 1639 },\n    { name: 'Hyderabad', country: 'India', year: 1591 },\n    { name: 'Pune', country: 'India', year: 847 },\n    { name: 'Ahmedabad', country: 'India', year: 1411 },\n    { name: 'Jaipur', country: 'India', year: 1727 },\n    { name: 'Karachi', country: 'Pakistan', year: 1729 },\n    { name: 'Lahore', country: 'Pakistan', year: 1000 },\n    { name: 'Islamabad', country: 'Pakistan', year: 1960 },\n    { name: 'Colombo', country: 'Sri Lanka', year: 500 },\n    { name: 'Kathmandu', country: 'Nepal', year: 723 },\n    { name: 'Kabul', country: 'Afghanistan', year: 1500 },\n    { name: 'Tehran', country: 'Iran', year: 1524 },\n    { name: 'Baghdad', country: 'Iraq', year: 762 },\n    { name: 'Damascus', country: 'Syria', year: -8000 },\n    { name: 'Beirut', country: 'Lebanon', year: -3000 },\n    { name: 'Amman', country: 'Jordan', year: -7250 },\n    { name: 'Riyadh', country: 'Saudi Arabia', year: 1737 },\n    { name: 'Jeddah', country: 'Saudi Arabia', year: 522 },\n    { name: 'Mecca', country: 'Saudi Arabia', year: -2000 },\n    { name: 'Abu Dhabi', country: 'UAE', year: 1761 },\n    { name: 'Doha', country: 'Qatar', year: 1825 },\n    { name: 'Manama', country: 'Bahrain', year: 1521 },\n    { name: 'Kuwait City', country: 'Kuwait', year: 1613 },\n    { name: 'Muscat', country: 'Oman', year: 1508 },\n    { name: 'Casablanca', country: 'Morocco', year: 1515 },\n    { name: 'Marrakech', country: 'Morocco', year: 1062 },\n    { name: 'Algiers', country: 'Algeria', year: 944 },\n    { name: 'Tunis', country: 'Tunisia', year: 698 },\n    { name: 'Tripoli', country: 'Libya', year: -700 },\n    { name: 'Accra', country: 'Ghana', year: 1877 },\n    { name: 'Abuja', country: 'Nigeria', year: 1991 },\n    { name: 'Addis Ababa', country: 'Ethiopia', year: 1886 },\n    { name: 'Dar es Salaam', country: 'Tanzania', year: 1862 },\n    { name: 'Kampala', country: 'Uganda', year: 1890 },\n    { name: 'Kigali', country: 'Rwanda', year: 1907 },\n    { name: 'Lusaka', country: 'Zambia', year: 1905 },\n    { name: 'Harare', country: 'Zimbabwe', year: 1890 },\n    { name: 'Maputo', country: 'Mozambique', year: 1544 },\n    { name: 'Luanda', country: 'Angola', year: 1575 },\n    { name: 'Kinshasa', country: 'DR Congo', year: 1881 },\n    { name: 'Dakar', country: 'Senegal', year: 1857 },\n    { name: 'Abidjan', country: 'Ivory Coast', year: 1898 },\n    { name: 'Caracas', country: 'Venezuela', year: 1567 },\n    { name: 'Quito', country: 'Ecuador', year: 1534 },\n    { name: 'La Paz', country: 'Bolivia', year: 1548 },\n    { name: 'AsunciÃ³n', country: 'Paraguay', year: 1537 },\n    { name: 'Montevideo', country: 'Uruguay', year: 1724 },\n    { name: 'Havana', country: 'Cuba', year: 1515 },\n    { name: 'San Juan', country: 'Puerto Rico', year: 1521 },\n    { name: 'Santo Domingo', country: 'Dominican Republic', year: 1496 },\n    { name: 'Panama City', country: 'Panama', year: 1519 },\n    { name: 'San JosÃ©', country: 'Costa Rica', year: 1738 },\n    { name: 'Managua', country: 'Nicaragua', year: 1819 },\n    { name: 'Tegucigalpa', country: 'Honduras', year: 1578 },\n    { name: 'San Salvador', country: 'El Salvador', year: 1525 },\n    { name: 'Guatemala City', country: 'Guatemala', year: 1776 },\n    { name: 'Belize City', country: 'Belize', year: 1638 },\n    { name: 'Kingston', country: 'Jamaica', year: 1692 },\n    { name: 'Port-au-Prince', country: 'Haiti', year: 1749 },\n    { name: 'Auckland', country: 'New Zealand', year: 1840 },\n    { name: 'Wellington', country: 'New Zealand', year: 1840 },\n    { name: 'Brisbane', country: 'Australia', year: 1824 },\n    { name: 'Perth', country: 'Australia', year: 1829 },\n    { name: 'Adelaide', country: 'Australia', year: 1836 },\n    { name: 'Gold Coast', country: 'Australia', year: 1875 },\n    { name: 'Canberra', country: 'Australia', year: 1913 },\n    { name: 'Suva', country: 'Fiji', year: 1849 },\n    { name: 'Port Moresby', country: 'Papua New Guinea', year: 1873 },\n    { name: 'Lyon', country: 'France', year: -43 },\n    { name: 'Marseille', country: 'France', year: -600 },\n    { name: 'Nice', country: 'France', year: -350 },\n    { name: 'Toulouse', country: 'France', year: -106 },\n    { name: 'Bordeaux', country: 'France', year: -300 },\n    { name: 'Hamburg', country: 'Germany', year: 808 },\n    { name: 'Cologne', country: 'Germany', year: 38 },\n    { name: 'Stuttgart', country: 'Germany', year: 950 },\n    { name: 'DÃ¼sseldorf', country: 'Germany', year: 1288 },\n    { name: 'Leipzig', country: 'Germany', year: 1015 },\n    { name: 'Dresden', country: 'Germany', year: 1206 },\n    { name: 'Hannover', country: 'Germany', year: 1150 },\n    { name: 'Nuremberg', country: 'Germany', year: 1050 },\n    { name: 'Naples', country: 'Italy', year: -600 },\n    { name: 'Turin', country: 'Italy', year: -28 },\n    { name: 'Palermo', country: 'Italy', year: -734 },\n    { name: 'Genoa', country: 'Italy', year: -500 },\n    { name: 'Bologna', country: 'Italy', year: -510 },\n    { name: 'Valencia', country: 'Spain', year: -138 },\n    { name: 'Seville', country: 'Spain', year: -205 },\n    { name: 'Bilbao', country: 'Spain', year: 1300 },\n    { name: 'Malaga', country: 'Spain', year: -770 },\n    { name: 'Porto', country: 'Portugal', year: 136 },\n    { name: 'Braga', country: 'Portugal', year: -300 },\n    { name: 'Rotterdam', country: 'Netherlands', year: 1270 },\n    { name: 'The Hague', country: 'Netherlands', year: 1230 },\n    { name: 'Utrecht', country: 'Netherlands', year: 47 },\n    { name: 'Eindhoven', country: 'Netherlands', year: 1232 },\n    { name: 'Antwerp', country: 'Belgium', year: 900 },\n    { name: 'Ghent', country: 'Belgium', year: 650 },\n    { name: 'LiÃ¨ge', country: 'Belgium', year: 558 },\n    { name: 'Bruges', country: 'Belgium', year: 850 },\n    { name: 'Luxembourg City', country: 'Luxembourg', year: 963 },\n    { name: 'Salzburg', country: 'Austria', year: 696 },\n    { name: 'Innsbruck', country: 'Austria', year: 1180 },\n    { name: 'Graz', country: 'Austria', year: 1128 },\n    { name: 'Basel', country: 'Switzerland', year: -44 },\n    { name: 'Bern', country: 'Switzerland', year: 1191 },\n    { name: 'Lausanne', country: 'Switzerland', year: -15 },\n    { name: 'Krakow', country: 'Poland', year: 965 },\n    { name: 'Wroclaw', country: 'Poland', year: 900 },\n    { name: 'Gdansk', country: 'Poland', year: 997 },\n    { name: 'Poznan', country: 'Poland', year: 968 },\n    { name: 'Brno', country: 'Czech Republic', year: 1091 },\n    { name: 'Bratislava', country: 'Slovakia', year: 907 },\n    { name: 'Ljubljana', country: 'Slovenia', year: -50 },\n    { name: 'Zagreb', country: 'Croatia', year: 1094 },\n    { name: 'Split', country: 'Croatia', year: 305 },\n    { name: 'Dubrovnik', country: 'Croatia', year: 614 },\n    { name: 'Belgrade', country: 'Serbia', year: -279 },\n    { name: 'Sarajevo', country: 'Bosnia', year: 1461 },\n    { name: 'Skopje', country: 'North Macedonia', year: -400 },\n    { name: 'Tirana', country: 'Albania', year: 1614 },\n    { name: 'Podgorica', country: 'Montenegro', year: 1326 },\n    { name: 'Sofia', country: 'Bulgaria', year: -500 },\n    { name: 'Bucharest', country: 'Romania', year: 1459 },\n    { name: 'Cluj-Napoca', country: 'Romania', year: 1213 },\n    { name: 'Kyiv', country: 'Ukraine', year: 482 },\n    { name: 'Lviv', country: 'Ukraine', year: 1256 },\n    { name: 'Odesa', country: 'Ukraine', year: 1794 },\n    { name: 'Minsk', country: 'Belarus', year: 1067 },\n    { name: 'Vilnius', country: 'Lithuania', year: 1323 },\n    { name: 'Riga', country: 'Latvia', year: 1201 },\n    { name: 'Tallinn', country: 'Estonia', year: 1154 },\n    { name: 'Reykjavik', country: 'Iceland', year: 874 },\n    { name: 'Gothenburg', country: 'Sweden', year: 1621 },\n    { name: 'MalmÃ¶', country: 'Sweden', year: 1275 },\n    { name: 'Bergen', country: 'Norway', year: 1070 },\n    { name: 'Trondheim', country: 'Norway', year: 997 },\n    { name: 'Aarhus', country: 'Denmark', year: 770 },\n    { name: 'Tampere', country: 'Finland', year: 1779 },\n    { name: 'Turku', country: 'Finland', year: 1229 },\n    { name: 'Glasgow', country: 'UK', year: 580 },\n    { name: 'Manchester', country: 'UK', year: 79 },\n    { name: 'Birmingham', country: 'UK', year: 1166 },\n    { name: 'Liverpool', country: 'UK', year: 1207 },\n    { name: 'Leeds', country: 'UK', year: 1207 },\n    { name: 'Bristol', country: 'UK', year: 1000 },\n    { name: 'Cardiff', country: 'UK', year: 1081 },\n    { name: 'Belfast', country: 'UK', year: 1613 },\n    { name: 'Cork', country: 'Ireland', year: 606 },\n    { name: 'Galway', country: 'Ireland', year: 1124 },\n    { name: 'Thessaloniki', country: 'Greece', year: -315 },\n    { name: 'Antalya', country: 'Turkey', year: -150 },\n    { name: 'Ankara', country: 'Turkey', year: -1200 },\n    { name: 'Izmir', country: 'Turkey', year: -3000 },\n  ];\n  \n  moreCities.forEach((city, i) => {\n    const year = city.year > 0 ? city.year : Math.abs(city.year);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    const dateStr = city.year > 0 \n      ? `${year.toString().padStart(4, '0')}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`\n      : `${year.toString().padStart(4, '0')}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;\n    \n    additionalCues.push({\n      name: city.name,\n      type: 'Location',\n      foundedOrBirth: dateStr,\n      category: 'City',\n      country: city.country,\n      description: `City in ${city.country}`\n    });\n  });\n\n  // Generate more brands (industries) - expanded for 22k+\n  const industries = ['Finance', 'Healthcare', 'Retail', 'Manufacturing', 'Energy', 'Telecom', 'Media', 'Consumer Goods', \n    'Technology', 'Automotive', 'Aerospace', 'Agriculture', 'Construction', 'Education', 'Insurance', 'Real Estate'];\n  const brandPrefixes = ['Global', 'Prime', 'Atlas', 'Apex', 'Summit', 'Core', 'Nova', 'Vanguard', 'Pioneer', 'Elite',\n    'Alpha', 'Beta', 'Delta', 'Omega', 'Zenith', 'Vertex', 'Quantum', 'Nexus', 'Stellar', 'Pacific',\n    'Atlantic', 'Northern', 'Southern', 'Western', 'Eastern', 'Central', 'United', 'National', 'American', 'European',\n    'Metro', 'Urban', 'Royal', 'Imperial', 'Premier', 'Supreme', 'Ultimate', 'Infinite', 'Dynamic', 'Strategic',\n    'Advanced', 'Modern', 'Future', 'Smart', 'Digital', 'Tech', 'Cyber', 'Net', 'Web', 'Cloud'];\n  const brandSuffixes = ['Corp', 'Inc', 'Holdings', 'Group', 'Systems', 'Solutions', 'Industries', 'Enterprises', 'Partners', 'International',\n    'Technologies', 'Services', 'Consulting', 'Ventures', 'Capital', 'Investments', 'Networks', 'Labs', 'Works', 'Co'];\n  const countries = ['USA', 'UK', 'Germany', 'Japan', 'France', 'Canada', 'Australia', 'China', 'India', 'Brazil', \n    'South Korea', 'Italy', 'Spain', 'Netherlands', 'Switzerland', 'Singapore', 'Mexico', 'Sweden', 'Norway', 'Denmark'];\n  \n  // Generate 11000 brands\n  for (let i = 0; i < 11000; i++) {\n    const prefix = brandPrefixes[i % brandPrefixes.length];\n    const suffix = brandSuffixes[Math.floor(i / brandPrefixes.length) % brandSuffixes.length];\n    const industry = industries[i % industries.length];\n    const year = 1920 + (i % 103);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    const countryIdx = (i + Math.floor(i / 100)) % countries.length;\n    \n    additionalCues.push({\n      name: `${prefix} ${suffix} ${Math.floor(i / 1000) > 0 ? Math.floor(i / 1000) : ''}`.trim(),\n      type: 'Brand',\n      foundedOrBirth: `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`,\n      category: industry,\n      country: countries[countryIdx],\n      description: `${industry} company`\n    });\n  }\n\n  // Generate more people - expanded\n  const firstNames = ['James', 'John', 'Robert', 'Michael', 'David', 'William', 'Richard', 'Joseph', 'Thomas', 'Christopher', \n    'Mary', 'Patricia', 'Jennifer', 'Linda', 'Elizabeth', 'Barbara', 'Susan', 'Jessica', 'Sarah', 'Karen',\n    'Alexander', 'Benjamin', 'Daniel', 'Edward', 'Francis', 'George', 'Henry', 'Ian', 'Jack', 'Kevin',\n    'Emma', 'Olivia', 'Ava', 'Isabella', 'Sophia', 'Mia', 'Charlotte', 'Amelia', 'Harper', 'Evelyn',\n    'Lucas', 'Mason', 'Logan', 'Ethan', 'Aiden', 'Noah', 'Liam', 'Jacob', 'Oliver', 'Elijah',\n    'Grace', 'Chloe', 'Lily', 'Madison', 'Abigail', 'Emily', 'Zoe', 'Ella', 'Hannah', 'Natalie',\n    'Ryan', 'Nathan', 'Andrew', 'Joshua', 'Matthew', 'Anthony', 'Brandon', 'Justin', 'Samuel', 'Adam',\n    'Victoria', 'Samantha', 'Lauren', 'Ashley', 'Rachel', 'Nicole', 'Amanda', 'Stephanie', 'Rebecca', 'Megan'];\n  const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez',\n    'Anderson', 'Taylor', 'Thomas', 'Hernandez', 'Moore', 'Martin', 'Jackson', 'Thompson', 'White', 'Lopez',\n    'Lee', 'Harris', 'Clark', 'Lewis', 'Robinson', 'Walker', 'Young', 'King', 'Wright', 'Scott',\n    'Green', 'Baker', 'Adams', 'Nelson', 'Hill', 'Campbell', 'Mitchell', 'Roberts', 'Carter', 'Phillips',\n    'Evans', 'Turner', 'Torres', 'Parker', 'Collins', 'Edwards', 'Stewart', 'Flores', 'Morris', 'Nguyen',\n    'Murphy', 'Rivera', 'Cook', 'Rogers', 'Morgan', 'Peterson', 'Cooper', 'Reed', 'Bailey', 'Bell',\n    'Gomez', 'Kelly', 'Howard', 'Ward', 'Cox', 'Diaz', 'Richardson', 'Wood', 'Watson', 'Brooks'];\n  const personCategories = ['Business', 'Science', 'Arts', 'Sports', 'Politics', 'Entertainment', 'Technology', 'Medicine',\n    'Law', 'Education', 'Finance', 'Music', 'Film', 'Literature', 'Fashion', 'Journalism'];\n  \n  // Generate 10000 people\n  for (let i = 0; i < 10000; i++) {\n    const firstName = firstNames[i % firstNames.length];\n    const lastName = lastNames[Math.floor(i / firstNames.length) % lastNames.length];\n    const category = personCategories[i % personCategories.length];\n    const year = 1920 + (i % 85);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    const uniqueSuffix = Math.floor(i / (firstNames.length * lastNames.length));\n    const displayName = uniqueSuffix > 0 ? `${firstName} ${lastName} ${['Jr.', 'Sr.', 'II', 'III', 'IV'][uniqueSuffix % 5]}` : `${firstName} ${lastName}`;\n    \n    additionalCues.push({\n      name: displayName,\n      type: 'Person',\n      foundedOrBirth: `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`,\n      category: category,\n      country: countries[i % countries.length],\n      description: `${category} professional`\n    });\n  }\n\n  // Generate more cities - all US cities\n  const usCities = [\n    'Anchorage', 'Juneau', 'Fairbanks', 'Sitka', 'Ketchikan',\n    'Birmingham', 'Montgomery', 'Huntsville', 'Mobile', 'Tuscaloosa',\n    'Little Rock', 'Fort Smith', 'Fayetteville', 'Springdale', 'Jonesboro',\n    'Tempe', 'Mesa', 'Chandler', 'Glendale', 'Scottsdale', 'Gilbert', 'Peoria',\n    'Bakersfield', 'Anaheim', 'Santa Ana', 'Riverside', 'Stockton', 'Irvine', 'Chula Vista', 'Fremont',\n    'San Bernardino', 'Modesto', 'Fontana', 'Moreno Valley', 'Glendale', 'Huntington Beach', 'Santa Clarita',\n    'Colorado Springs', 'Aurora', 'Fort Collins', 'Lakewood', 'Thornton', 'Arvada', 'Westminster',\n    'Hartford', 'New Haven', 'Stamford', 'Bridgeport', 'Waterbury',\n    'Wilmington', 'Dover', 'Newark', 'Middletown', 'Smyrna',\n    'St. Petersburg', 'Hialeah', 'Port St. Lucie', 'Cape Coral', 'Tallahassee', 'Fort Lauderdale', 'Pembroke Pines',\n    'Savannah', 'Augusta', 'Columbus', 'Macon', 'Athens',\n    'Boise', 'Meridian', 'Nampa', 'Idaho Falls', 'Pocatello',\n    'Rockford', 'Naperville', 'Joliet', 'Springfield', 'Peoria', 'Elgin',\n    'Fort Wayne', 'Evansville', 'South Bend', 'Carmel', 'Fishers',\n    'Des Moines', 'Cedar Rapids', 'Davenport', 'Sioux City', 'Iowa City',\n    'Wichita', 'Overland Park', 'Kansas City', 'Olathe', 'Topeka',\n    'Lexington', 'Bowling Green', 'Owensboro', 'Covington', 'Richmond',\n    'Baton Rouge', 'Shreveport', 'Lafayette', 'Lake Charles', 'Kenner',\n    'Portland', 'Lewiston', 'Bangor', 'South Portland', 'Auburn',\n    'Annapolis', 'Frederick', 'Rockville', 'Gaithersburg', 'Bowie',\n    'Worcester', 'Springfield', 'Cambridge', 'Lowell', 'Brockton',\n    'Grand Rapids', 'Warren', 'Sterling Heights', 'Ann Arbor', 'Lansing',\n    'St. Paul', 'Rochester', 'Duluth', 'Bloomington', 'Brooklyn Park',\n    'Jackson', 'Gulfport', 'Southaven', 'Hattiesburg', 'Biloxi',\n    'Kansas City', 'Springfield', 'Columbia', 'Independence', 'Lee Summit',\n    'Billings', 'Missoula', 'Great Falls', 'Bozeman', 'Butte',\n    'Omaha', 'Lincoln', 'Bellevue', 'Grand Island', 'Kearney',\n    'Henderson', 'Reno', 'North Las Vegas', 'Sparks', 'Carson City',\n    'Manchester', 'Nashua', 'Concord', 'Derry', 'Rochester',\n    'Newark', 'Jersey City', 'Paterson', 'Elizabeth', 'Edison', 'Trenton',\n    'Albuquerque', 'Las Cruces', 'Rio Rancho', 'Santa Fe', 'Roswell',\n    'Buffalo', 'Rochester', 'Yonkers', 'Syracuse', 'Albany',\n    'Raleigh', 'Greensboro', 'Durham', 'Winston-Salem', 'Fayetteville', 'Cary',\n    'Fargo', 'Bismarck', 'Grand Forks', 'Minot', 'West Fargo',\n    'Toledo', 'Akron', 'Dayton', 'Parma', 'Canton', 'Youngstown',\n    'Oklahoma City', 'Tulsa', 'Norman', 'Broken Arrow', 'Lawton',\n    'Salem', 'Eugene', 'Gresham', 'Hillsboro', 'Beaverton',\n    'Allentown', 'Erie', 'Reading', 'Scranton', 'Bethlehem',\n    'Providence', 'Warwick', 'Cranston', 'Pawtucket', 'East Providence',\n    'Charleston', 'Columbia', 'North Charleston', 'Mount Pleasant', 'Rock Hill',\n    'Sioux Falls', 'Rapid City', 'Aberdeen', 'Brookings', 'Watertown',\n    'Knoxville', 'Chattanooga', 'Clarksville', 'Murfreesboro', 'Franklin',\n    'El Paso', 'Arlington', 'Corpus Christi', 'Plano', 'Laredo', 'Lubbock', 'Garland',\n    'Salt Lake City', 'West Valley City', 'Provo', 'West Jordan', 'Orem',\n    'Burlington', 'South Burlington', 'Rutland', 'Essex Junction', 'Bennington',\n    'Virginia Beach', 'Norfolk', 'Chesapeake', 'Richmond', 'Newport News', 'Alexandria',\n    'Spokane', 'Tacoma', 'Vancouver', 'Bellevue', 'Kent', 'Everett',\n    'Charleston', 'Huntington', 'Morgantown', 'Parkersburg', 'Wheeling',\n    'Madison', 'Green Bay', 'Kenosha', 'Racine', 'Appleton',\n    'Cheyenne', 'Casper', 'Laramie', 'Gillette', 'Rock Springs',\n  ];\n  \n  usCities.forEach((city, i) => {\n    const year = 1700 + (i % 300);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    \n    additionalCues.push({\n      name: city,\n      type: 'Location',\n      foundedOrBirth: `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`,\n      category: 'City',\n      country: 'USA',\n      description: 'City in the United States'\n    });\n  });\n\n  // Generate more international cities\n  const intlCities = [\n    { name: 'Osaka', country: 'Japan' }, { name: 'Yokohama', country: 'Japan' }, { name: 'Nagoya', country: 'Japan' },\n    { name: 'Kobe', country: 'Japan' }, { name: 'Kyoto', country: 'Japan' }, { name: 'Fukuoka', country: 'Japan' },\n    { name: 'Sapporo', country: 'Japan' }, { name: 'Sendai', country: 'Japan' }, { name: 'Hiroshima', country: 'Japan' },\n    { name: 'Busan', country: 'South Korea' }, { name: 'Incheon', country: 'South Korea' }, { name: 'Daegu', country: 'South Korea' },\n    { name: 'Guangzhou', country: 'China' }, { name: 'Shenzhen', country: 'China' }, { name: 'Tianjin', country: 'China' },\n    { name: 'Chongqing', country: 'China' }, { name: 'Wuhan', country: 'China' }, { name: 'Chengdu', country: 'China' },\n    { name: 'Hangzhou', country: 'China' }, { name: 'Xian', country: 'China' }, { name: 'Suzhou', country: 'China' },\n    { name: 'Manchester', country: 'UK' }, { name: 'Birmingham', country: 'UK' }, { name: 'Leeds', country: 'UK' },\n    { name: 'Glasgow', country: 'UK' }, { name: 'Liverpool', country: 'UK' }, { name: 'Bristol', country: 'UK' },\n    { name: 'Munich', country: 'Germany' }, { name: 'Hamburg', country: 'Germany' }, { name: 'Cologne', country: 'Germany' },\n    { name: 'Frankfurt', country: 'Germany' }, { name: 'Stuttgart', country: 'Germany' }, { name: 'Dusseldorf', country: 'Germany' },\n    { name: 'Lyon', country: 'France' }, { name: 'Marseille', country: 'France' }, { name: 'Toulouse', country: 'France' },\n    { name: 'Nice', country: 'France' }, { name: 'Nantes', country: 'France' }, { name: 'Strasbourg', country: 'France' },\n    { name: 'Naples', country: 'Italy' }, { name: 'Turin', country: 'Italy' }, { name: 'Palermo', country: 'Italy' },\n    { name: 'Genoa', country: 'Italy' }, { name: 'Bologna', country: 'Italy' }, { name: 'Catania', country: 'Italy' },\n    { name: 'Valencia', country: 'Spain' }, { name: 'Seville', country: 'Spain' }, { name: 'Bilbao', country: 'Spain' },\n    { name: 'Malaga', country: 'Spain' }, { name: 'Zaragoza', country: 'Spain' }, { name: 'Murcia', country: 'Spain' },\n    { name: 'Porto', country: 'Portugal' }, { name: 'Braga', country: 'Portugal' }, { name: 'Coimbra', country: 'Portugal' },\n    { name: 'Rotterdam', country: 'Netherlands' }, { name: 'The Hague', country: 'Netherlands' }, { name: 'Utrecht', country: 'Netherlands' },\n    { name: 'Antwerp', country: 'Belgium' }, { name: 'Ghent', country: 'Belgium' }, { name: 'Bruges', country: 'Belgium' },\n    { name: 'Krakow', country: 'Poland' }, { name: 'Wroclaw', country: 'Poland' }, { name: 'Gdansk', country: 'Poland' },\n    { name: 'Guadalajara', country: 'Mexico' }, { name: 'Monterrey', country: 'Mexico' }, { name: 'Puebla', country: 'Mexico' },\n    { name: 'Tijuana', country: 'Mexico' }, { name: 'Leon', country: 'Mexico' }, { name: 'Juarez', country: 'Mexico' },\n    { name: 'Bogota', country: 'Colombia' }, { name: 'Medellin', country: 'Colombia' }, { name: 'Cali', country: 'Colombia' },\n    { name: 'Belo Horizonte', country: 'Brazil' }, { name: 'Brasilia', country: 'Brazil' }, { name: 'Salvador', country: 'Brazil' },\n    { name: 'Fortaleza', country: 'Brazil' }, { name: 'Curitiba', country: 'Brazil' }, { name: 'Recife', country: 'Brazil' },\n    { name: 'Cordoba', country: 'Argentina' }, { name: 'Rosario', country: 'Argentina' }, { name: 'Mendoza', country: 'Argentina' },\n    { name: 'Valparaiso', country: 'Chile' }, { name: 'Concepcion', country: 'Chile' }, { name: 'La Serena', country: 'Chile' },\n    { name: 'Arequipa', country: 'Peru' }, { name: 'Trujillo', country: 'Peru' }, { name: 'Chiclayo', country: 'Peru' },\n    { name: 'Chennai', country: 'India' }, { name: 'Kolkata', country: 'India' }, { name: 'Hyderabad', country: 'India' },\n    { name: 'Pune', country: 'India' }, { name: 'Ahmedabad', country: 'India' }, { name: 'Jaipur', country: 'India' },\n    { name: 'Karachi', country: 'Pakistan' }, { name: 'Lahore', country: 'Pakistan' }, { name: 'Faisalabad', country: 'Pakistan' },\n    { name: 'Dhaka', country: 'Bangladesh' }, { name: 'Chittagong', country: 'Bangladesh' }, { name: 'Khulna', country: 'Bangladesh' },\n    { name: 'Lagos', country: 'Nigeria' }, { name: 'Kano', country: 'Nigeria' }, { name: 'Ibadan', country: 'Nigeria' },\n    { name: 'Cape Town', country: 'South Africa' }, { name: 'Durban', country: 'South Africa' }, { name: 'Pretoria', country: 'South Africa' },\n    { name: 'Alexandria', country: 'Egypt' }, { name: 'Giza', country: 'Egypt' }, { name: 'Port Said', country: 'Egypt' },\n    { name: 'Casablanca', country: 'Morocco' }, { name: 'Fes', country: 'Morocco' }, { name: 'Tangier', country: 'Morocco' },\n    { name: 'Nairobi', country: 'Kenya' }, { name: 'Mombasa', country: 'Kenya' }, { name: 'Nakuru', country: 'Kenya' },\n    { name: 'Kinshasa', country: 'DR Congo' }, { name: 'Lubumbashi', country: 'DR Congo' }, { name: 'Goma', country: 'DR Congo' },\n    { name: 'Adelaide', country: 'Australia' }, { name: 'Perth', country: 'Australia' }, { name: 'Gold Coast', country: 'Australia' },\n    { name: 'Auckland', country: 'New Zealand' }, { name: 'Wellington', country: 'New Zealand' }, { name: 'Christchurch', country: 'New Zealand' },\n    { name: 'Gothenburg', country: 'Sweden' }, { name: 'Malmo', country: 'Sweden' }, { name: 'Uppsala', country: 'Sweden' },\n    { name: 'Bergen', country: 'Norway' }, { name: 'Trondheim', country: 'Norway' }, { name: 'Stavanger', country: 'Norway' },\n    { name: 'Aarhus', country: 'Denmark' }, { name: 'Odense', country: 'Denmark' }, { name: 'Aalborg', country: 'Denmark' },\n    { name: 'Tampere', country: 'Finland' }, { name: 'Turku', country: 'Finland' }, { name: 'Oulu', country: 'Finland' },\n    { name: 'Cork', country: 'Ireland' }, { name: 'Galway', country: 'Ireland' }, { name: 'Limerick', country: 'Ireland' },\n    { name: 'Thessaloniki', country: 'Greece' }, { name: 'Patras', country: 'Greece' }, { name: 'Heraklion', country: 'Greece' },\n    { name: 'Ankara', country: 'Turkey' }, { name: 'Izmir', country: 'Turkey' }, { name: 'Bursa', country: 'Turkey' },\n    { name: 'Tel Aviv', country: 'Israel' }, { name: 'Haifa', country: 'Israel' }, { name: 'Beer Sheva', country: 'Israel' },\n    { name: 'Dubai', country: 'UAE' }, { name: 'Sharjah', country: 'UAE' }, { name: 'Ajman', country: 'UAE' },\n    { name: 'Doha', country: 'Qatar' }, { name: 'Al Wakrah', country: 'Qatar' }, { name: 'Al Khor', country: 'Qatar' },\n    { name: 'Riyadh', country: 'Saudi Arabia' }, { name: 'Jeddah', country: 'Saudi Arabia' }, { name: 'Mecca', country: 'Saudi Arabia' },\n    { name: 'Tehran', country: 'Iran' }, { name: 'Mashhad', country: 'Iran' }, { name: 'Isfahan', country: 'Iran' },\n    { name: 'Kuala Lumpur', country: 'Malaysia' }, { name: 'George Town', country: 'Malaysia' }, { name: 'Johor Bahru', country: 'Malaysia' },\n    { name: 'Ho Chi Minh City', country: 'Vietnam' }, { name: 'Hanoi', country: 'Vietnam' }, { name: 'Da Nang', country: 'Vietnam' },\n    { name: 'Manila', country: 'Philippines' }, { name: 'Quezon City', country: 'Philippines' }, { name: 'Davao', country: 'Philippines' },\n    { name: 'Jakarta', country: 'Indonesia' }, { name: 'Surabaya', country: 'Indonesia' }, { name: 'Bandung', country: 'Indonesia' },\n  ];\n  \n  intlCities.forEach((city, i) => {\n    const year = 800 + (i % 1200);\n    const month = (i % 12) + 1;\n    const day = (i % 28) + 1;\n    \n    additionalCues.push({\n      name: city.name,\n      type: 'Location',\n      foundedOrBirth: `${year.toString().padStart(4, '0')}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`,\n      category: 'City',\n      country: city.country,\n      description: `City in ${city.country}`\n    });\n  });\n\n  // Generate universities\n  const universities = [\n    { name: 'Harvard University', country: 'USA', year: 1636 },\n    { name: 'Yale University', country: 'USA', year: 1701 },\n    { name: 'Princeton University', country: 'USA', year: 1746 },\n    { name: 'Columbia University', country: 'USA', year: 1754 },\n    { name: 'University of Pennsylvania', country: 'USA', year: 1740 },\n    { name: 'Brown University', country: 'USA', year: 1764 },\n    { name: 'Dartmouth College', country: 'USA', year: 1769 },\n    { name: 'Cornell University', country: 'USA', year: 1865 },\n    { name: 'MIT', country: 'USA', year: 1861 },\n    { name: 'Stanford University', country: 'USA', year: 1885 },\n    { name: 'Caltech', country: 'USA', year: 1891 },\n    { name: 'University of Chicago', country: 'USA', year: 1890 },\n    { name: 'Duke University', country: 'USA', year: 1838 },\n    { name: 'Northwestern University', country: 'USA', year: 1851 },\n    { name: 'Johns Hopkins University', country: 'USA', year: 1876 },\n    { name: 'UCLA', country: 'USA', year: 1919 },\n    { name: 'UC Berkeley', country: 'USA', year: 1868 },\n    { name: 'University of Michigan', country: 'USA', year: 1817 },\n    { name: 'University of Virginia', country: 'USA', year: 1819 },\n    { name: 'Georgetown University', country: 'USA', year: 1789 },\n    { name: 'NYU', country: 'USA', year: 1831 },\n    { name: 'USC', country: 'USA', year: 1880 },\n    { name: 'University of Notre Dame', country: 'USA', year: 1842 },\n    { name: 'Vanderbilt University', country: 'USA', year: 1873 },\n    { name: 'Rice University', country: 'USA', year: 1912 },\n    { name: 'University of Oxford', country: 'UK', year: 1096 },\n    { name: 'University of Cambridge', country: 'UK', year: 1209 },\n    { name: 'Imperial College London', country: 'UK', year: 1907 },\n    { name: 'University of Edinburgh', country: 'UK', year: 1582 },\n    { name: 'Kings College London', country: 'UK', year: 1829 },\n    { name: 'LSE', country: 'UK', year: 1895 },\n    { name: 'University of Manchester', country: 'UK', year: 1824 },\n    { name: 'University of Bristol', country: 'UK', year: 1876 },\n    { name: 'University of Warwick', country: 'UK', year: 1965 },\n    { name: 'University of Glasgow', country: 'UK', year: 1451 },\n    { name: 'ETH Zurich', country: 'Switzerland', year: 1855 },\n    { name: 'Ecole Polytechnique', country: 'France', year: 1794 },\n    { name: 'Sciences Po', country: 'France', year: 1872 },\n    { name: 'Sorbonne University', country: 'France', year: 1257 },\n    { name: 'TU Munich', country: 'Germany', year: 1868 },\n    { name: 'Heidelberg University', country: 'Germany', year: 1386 },\n    { name: 'LMU Munich', country: 'Germany', year: 1472 },\n    { name: 'Humboldt University', country: 'Germany', year: 1810 },\n    { name: 'University of Tokyo', country: 'Japan', year: 1877 },\n    { name: 'Kyoto University', country: 'Japan', year: 1897 },\n    { name: 'Waseda University', country: 'Japan', year: 1882 },\n    { name: 'Keio University', country: 'Japan', year: 1858 },\n    { name: 'Seoul National University', country: 'South Korea', year: 1946 },\n    { name: 'KAIST', country: 'South Korea', year: 1971 },\n    { name: 'Tsinghua University', country: 'China', year: 1911 },\n    { name: 'Peking University', country: 'China', year: 1898 },\n    { name: 'Fudan University', country: 'China', year: 1905 },\n    { name: 'University of Toronto', country: 'Canada', year: 1827 },\n    { name: 'McGill University', country: 'Canada', year: 1821 },\n    { name: 'UBC', country: 'Canada', year: 1908 },\n    { name: 'University of Melbourne', country: 'Australia', year: 1853 },\n    { name: 'University of Sydney', country: 'Australia', year: 1850 },\n    { name: 'ANU', country: 'Australia', year: 1946 },\n    { name: 'NUS', country: 'Singapore', year: 1905 },\n    { name: 'NTU Singapore', country: 'Singapore', year: 1991 },\n    { name: 'HKU', country: 'Hong Kong', year: 1911 },\n    { name: 'IIT Bombay', country: 'India', year: 1958 },\n    { name: 'IIT Delhi', country: 'India', year: 1961 },\n    { name: 'University of Amsterdam', country: 'Netherlands', year: 1632 },\n    { name: 'Leiden University', country: 'Netherlands', year: 1575 },\n    { name: 'KU Leuven', country: 'Belgium', year: 1425 },\n  ];\n  \n  universities.forEach((uni, i) => {\n    additionalCues.push({\n      name: uni.name,\n      type: 'Brand',\n      foundedOrBirth: `${uni.year}-09-01`,\n      category: 'Education',\n      country: uni.country,\n      description: 'University'\n    });\n  });\n\n  // Generate sports teams\n  const sportsTeams = [\n    { name: 'New York Yankees', country: 'USA', year: 1903 },\n    { name: 'LA Dodgers', country: 'USA', year: 1883 },\n    { name: 'Boston Red Sox', country: 'USA', year: 1901 },\n    { name: 'Chicago Cubs', country: 'USA', year: 1876 },\n    { name: 'LA Lakers', country: 'USA', year: 1947 },\n    { name: 'Boston Celtics', country: 'USA', year: 1946 },\n    { name: 'Chicago Bulls', country: 'USA', year: 1966 },\n    { name: 'Golden State Warriors', country: 'USA', year: 1946 },\n    { name: 'New England Patriots', country: 'USA', year: 1959 },\n    { name: 'Dallas Cowboys', country: 'USA', year: 1960 },\n    { name: 'Green Bay Packers', country: 'USA', year: 1919 },\n    { name: 'Pittsburgh Steelers', country: 'USA', year: 1933 },\n    { name: 'Real Madrid', country: 'Spain', year: 1902 },\n    { name: 'FC Barcelona', country: 'Spain', year: 1899 },\n    { name: 'Manchester United', country: 'UK', year: 1878 },\n    { name: 'Manchester City', country: 'UK', year: 1880 },\n    { name: 'Liverpool FC', country: 'UK', year: 1892 },\n    { name: 'Chelsea FC', country: 'UK', year: 1905 },\n    { name: 'Arsenal FC', country: 'UK', year: 1886 },\n    { name: 'Tottenham Hotspur', country: 'UK', year: 1882 },\n    { name: 'Bayern Munich', country: 'Germany', year: 1900 },\n    { name: 'Borussia Dortmund', country: 'Germany', year: 1909 },\n    { name: 'Paris Saint-Germain', country: 'France', year: 1970 },\n    { name: 'Juventus FC', country: 'Italy', year: 1897 },\n    { name: 'AC Milan', country: 'Italy', year: 1899 },\n    { name: 'Inter Milan', country: 'Italy', year: 1908 },\n    { name: 'Ajax Amsterdam', country: 'Netherlands', year: 1900 },\n    { name: 'Benfica', country: 'Portugal', year: 1904 },\n    { name: 'Porto FC', country: 'Portugal', year: 1893 },\n    { name: 'Boca Juniors', country: 'Argentina', year: 1905 },\n    { name: 'River Plate', country: 'Argentina', year: 1901 },\n    { name: 'Flamengo', country: 'Brazil', year: 1895 },\n    { name: 'Corinthians', country: 'Brazil', year: 1910 },\n    { name: 'Santos FC', country: 'Brazil', year: 1912 },\n    { name: 'Toronto Maple Leafs', country: 'Canada', year: 1917 },\n    { name: 'Montreal Canadiens', country: 'Canada', year: 1909 },\n    { name: 'New York Rangers', country: 'USA', year: 1926 },\n    { name: 'Chicago Blackhawks', country: 'USA', year: 1926 },\n  ];\n  \n  sportsTeams.forEach((team, i) => {\n    additionalCues.push({\n      name: team.name,\n      type: 'Brand',\n      foundedOrBirth: `${team.year}-01-01`,\n      category: 'Sports',\n      country: team.country,\n      description: 'Sports team'\n    });\n  });\n\n  return additionalCues;\n}\n\n// Combine all data\nconst allCuesWithoutId: Omit<Cue, 'id'>[] = [\n  ...brandsData,\n  ...citiesData,\n  ...peopleData,\n  ...generateAdditionalCues(),\n];\n\n// Add IDs and export\nexport const allCues: Cue[] = allCuesWithoutId.map((cue, index) => ({\n  ...cue,\n  id: index + 1,\n}));\n\n// Parsed cues with calculated numerology\nexport interface ParsedCue extends Cue {\n  lifePathNumber: number;\n  energySignature: string;\n}\n\nfunction parseDate(dateStr: string): Date {\n  // Handle negative years (BC dates)\n  if (dateStr.startsWith('-')) {\n    const parts = dateStr.substring(1).split('-');\n    const year = -parseInt(parts[0]);\n    const month = parseInt(parts[1] || '1') - 1;\n    const day = parseInt(parts[2] || '1');\n    return new Date(year, month, day);\n  }\n  \n  // Handle very old dates\n  const parts = dateStr.split('-');\n  const year = parseInt(parts[0]);\n  const month = parseInt(parts[1] || '1') - 1;\n  const day = parseInt(parts[2] || '1');\n  \n  // For years < 100, we need to use setFullYear to avoid the 1900s interpretation\n  const date = new Date(year, month, day);\n  date.setFullYear(year);\n  return date;\n}\n\n// Pre-compute all cues with their numerology data\nexport const parsedCues: ParsedCue[] = allCues.map(cue => {\n  try {\n    const date = parseDate(cue.foundedOrBirth);\n    const lifePathNumber = calculateLifePathNumber(date);\n    const energySignature = calculateEnergySignature(date);\n    return {\n      ...cue,\n      lifePathNumber: isNaN(lifePathNumber) ? 1 : lifePathNumber,\n      energySignature: energySignature || 'Fire Initiator',\n    };\n  } catch {\n    return {\n      ...cue,\n      lifePathNumber: 1,\n      energySignature: 'Fire Initiator',\n    };\n  }\n});\n\n// Get total count\nexport const totalCuesCount = parsedCues.length;\n\nconsole.log(`Cues database loaded: ${totalCuesCount} entries`);\n","path":null,"size_bytes":108986,"size_tokens":null},"client/src/pages/lesson.tsx":{"content":"import { useParams, Link, useLocation } from 'wouter';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { BookOpen, ArrowLeft, ArrowRight, CheckCircle, Clock } from 'lucide-react';\nimport { getCourseById, getLessonById } from '@/lib/courses-data';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { queryClient, apiRequest } from '@/lib/queryClient';\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useWhopContext } from '@/context/WhopContext';\n\nexport default function Lesson() {\n  const { courseId, lessonId } = useParams<{ courseId: string; lessonId: string }>();\n  const [, setLocation] = useLocation();\n  const course = getCourseById(courseId || '');\n  const lesson = getLessonById(courseId || '', lessonId || '');\n  const { basePath } = useWhopContext();\n\n  const { data: progress, refetch: refetchProgress } = useQuery<{ lessonId: string; completed: boolean }[]>({\n    queryKey: ['/api/progress', courseId],\n  });\n\n  const markCompleteMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest('POST', '/api/progress/complete', { \n        courseId, \n        lessonId \n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/progress', courseId] });\n    }\n  });\n\n  const isCompleted = progress?.some(p => p.lessonId === lessonId && p.completed) || false;\n\n  const currentIndex = course?.lessons.findIndex(l => l.id === lessonId) ?? -1;\n  const prevLesson = currentIndex > 0 ? course?.lessons[currentIndex - 1] : null;\n  const nextLesson = currentIndex < (course?.lessons.length || 0) - 1 ? course?.lessons[currentIndex + 1] : null;\n\n  const handleComplete = async () => {\n    await markCompleteMutation.mutateAsync();\n    window.scrollTo(0, 0);\n    if (nextLesson) {\n      setLocation(`${basePath}/learn/${courseId}/${nextLesson.id}`);\n    } else {\n      setLocation(`${basePath}/course/${courseId}`);\n    }\n  };\n\n  if (!course || !lesson) {\n    return (\n      <>\n        <StarField />\n        <Navigation />\n        <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-lesson-not-found\">\n          <div className=\"container mx-auto max-w-4xl text-center\">\n            <h1 className=\"text-6 font-semibold mb-4\">Lesson Not Found</h1>\n            <p className=\"text-gray-11 mb-6\">The lesson you're looking for doesn't exist.</p>\n            <Link href={`${basePath}/learn`}>\n              <Button variant=\"gold\" data-testid=\"button-back-to-courses\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Courses\n              </Button>\n            </Link>\n          </div>\n        </main>\n      </>\n    );\n  }\n\n  const formatContent = (content: string) => {\n    return content.split('\\n\\n').map((paragraph, i) => {\n      if (paragraph.startsWith('**') && paragraph.includes(':**')) {\n        const [title, ...rest] = paragraph.split(':**');\n        return (\n          <div key={i} className=\"mb-4\">\n            <h3 className=\"text-3 font-semibold text-amber-9 mb-2\">{title.replace(/\\*\\*/g, '')}:</h3>\n            <p className=\"text-gray-11 leading-relaxed\">{rest.join(':')}</p>\n          </div>\n        );\n      }\n      \n      if (paragraph.startsWith('- ')) {\n        const items = paragraph.split('\\n').filter(line => line.startsWith('- '));\n        return (\n          <ul key={i} className=\"list-disc list-inside space-y-1 mb-4 text-gray-11\">\n            {items.map((item, j) => (\n              <li key={j}>{item.replace('- ', '')}</li>\n            ))}\n          </ul>\n        );\n      }\n      \n      if (paragraph.match(/^\\d+\\./)) {\n        const items = paragraph.split('\\n').filter(line => line.match(/^\\d+\\./));\n        return (\n          <ol key={i} className=\"list-decimal list-inside space-y-1 mb-4 text-gray-11\">\n            {items.map((item, j) => (\n              <li key={j}>{item.replace(/^\\d+\\.\\s*/, '')}</li>\n            ))}\n          </ol>\n        );\n      }\n\n      const formattedParagraph = paragraph\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"text-foreground\">$1</strong>');\n      \n      return (\n        <p \n          key={i} \n          className=\"text-gray-11 leading-relaxed mb-4\"\n          dangerouslySetInnerHTML={{ __html: formattedParagraph }}\n        />\n      );\n    });\n  };\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-lesson\">\n        <div className=\"container mx-auto max-w-3xl space-y-6\">\n          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n            <Link href={`${basePath}/course/${courseId}`}>\n              <Button variant=\"ghost\" size=\"sm\" data-testid=\"button-back\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                {course.title}\n              </Button>\n            </Link>\n            <div className=\"flex items-center gap-2 text-2 text-gray-11\">\n              <BookOpen className=\"w-4 h-4\" />\n              Lesson {currentIndex + 1} of {course.lessons.length}\n            </div>\n          </div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            <Card variant=\"frosted\">\n              <CardHeader>\n                <div className=\"flex items-center gap-2 mb-2 flex-wrap\">\n                  <Badge variant=\"outline\" size=\"sm\">\n                    <Clock className=\"w-3 h-3 mr-1\" />\n                    {lesson.duration}\n                  </Badge>\n                  {isCompleted && (\n                    <Badge color=\"green\" variant=\"outline\" size=\"sm\">\n                      <CheckCircle className=\"w-3 h-3 mr-1\" />\n                      Completed\n                    </Badge>\n                  )}\n                </div>\n                <CardTitle className=\"text-5\">{lesson.title}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"prose prose-invert max-w-none\">\n                  {formatContent(lesson.content)}\n                </div>\n\n                {lesson.keyPoints.length > 0 && (\n                  <Card variant=\"glass\" className=\"bg-amber-a2 border-amber-6\">\n                    <CardContent className=\"py-4\">\n                      <h4 className=\"text-3 font-semibold text-amber-9 mb-3 flex items-center gap-2\">\n                        <CheckCircle className=\"w-4 h-4\" />\n                        Key Takeaways\n                      </h4>\n                      <ul className=\"space-y-2\">\n                        {lesson.keyPoints.map((point, i) => (\n                          <li key={i} className=\"flex items-start gap-2 text-2 text-gray-11\">\n                            <span className=\"text-amber-9 mt-1\">â€¢</span>\n                            {point}\n                          </li>\n                        ))}\n                      </ul>\n                    </CardContent>\n                  </Card>\n                )}\n              </CardContent>\n            </Card>\n          </motion.div>\n\n          <div className=\"flex items-center justify-between gap-4\">\n            {prevLesson ? (\n              <Link href={`${basePath}/learn/${courseId}/${prevLesson.id}`} onClick={() => window.scrollTo(0, 0)}>\n                <Button variant=\"outline\" data-testid=\"button-prev-lesson\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Previous\n                </Button>\n              </Link>\n            ) : (\n              <div />\n            )}\n\n            {nextLesson ? (\n              <Button \n                variant=\"gold\" \n                onClick={handleComplete}\n                disabled={markCompleteMutation.isPending}\n                data-testid=\"button-next-lesson\"\n              >\n                {markCompleteMutation.isPending ? 'Saving...' : 'Complete & Continue'}\n                <ArrowRight className=\"w-4 h-4 ml-2\" />\n              </Button>\n            ) : (\n              <Button \n                variant=\"gold\" \n                onClick={handleComplete}\n                disabled={markCompleteMutation.isPending}\n                data-testid=\"button-finish-course\"\n              >\n                {markCompleteMutation.isPending ? 'Saving...' : 'Complete Course'}\n                <CheckCircle className=\"w-4 h-4 ml-2\" />\n              </Button>\n            )}\n          </div>\n        </div>\n      </main>\n    </>\n  );\n}\n","path":null,"size_bytes":8674,"size_tokens":null},"client/src/pages/course.tsx":{"content":"import { useState } from 'react';\nimport { useParams, Link, useLocation } from 'wouter';\nimport { Navigation } from '@/components/Navigation';\nimport { StarField } from '@/components/StarField';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport { UpgradeModal } from '@/components/UpgradeModal';\nimport { BookOpen, Play, Clock, ArrowLeft, CheckCircle, Lock } from 'lucide-react';\nimport { getCourseById } from '@/lib/courses-data';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { queryClient, apiRequest } from '@/lib/queryClient';\nimport { useWhopContext } from '@/context/WhopContext';\n\nconst ODIS_ID_KEY = 'gg33-odis-id';\n\nexport default function Course() {\n  const { courseId } = useParams<{ courseId: string }>();\n  const [, setLocation] = useLocation();\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n  const course = getCourseById(courseId || '');\n  const { basePath } = useWhopContext();\n  \n  const savedOdisId = localStorage.getItem(ODIS_ID_KEY);\n  const { data: profileData } = useQuery<{ isPro?: boolean }>({\n    queryKey: ['/api/profile', savedOdisId],\n    enabled: !!savedOdisId,\n  });\n  const isPro = profileData?.isPro ?? false;\n\n  const { data: progress } = useQuery<{ lessonId: string; completed: boolean }[]>({\n    queryKey: ['/api/progress', courseId],\n  });\n\n  const completedLessons = progress?.filter(p => p.completed).length || 0;\n  const totalLessons = course?.lessons.length || 0;\n  const progressPercentage = totalLessons > 0 ? (completedLessons / totalLessons) * 100 : 0;\n\n  if (!course) {\n    return (\n      <>\n        <StarField />\n        <Navigation />\n        <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-course-not-found\">\n          <div className=\"container mx-auto max-w-4xl text-center\">\n            <h1 className=\"text-6 font-semibold mb-4\">Course Not Found</h1>\n            <p className=\"text-gray-11 mb-6\">The course you're looking for doesn't exist.</p>\n            <Link href={`${basePath}/learn`}>\n              <Button variant=\"gold\" data-testid=\"button-back-to-courses\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Courses\n              </Button>\n            </Link>\n          </div>\n        </main>\n      </>\n    );\n  }\n\n  const isLessonCompleted = (lessonId: string) => {\n    return progress?.some(p => p.lessonId === lessonId && p.completed) || false;\n  };\n\n  const getNextLesson = () => {\n    for (const lesson of course.lessons) {\n      if (!isLessonCompleted(lesson.id)) {\n        return lesson;\n      }\n    }\n    return course.lessons[0];\n  };\n\n  const nextLesson = getNextLesson();\n\n  return (\n    <>\n      <StarField />\n      <Navigation />\n      \n      <main className=\"pt-20 pb-12 px-4 min-h-screen\" data-testid=\"page-course\">\n        <div className=\"container mx-auto max-w-4xl space-y-6\">\n          <Link href={`${basePath}/learn`}>\n            <Button variant=\"ghost\" size=\"sm\" className=\"mb-4\" data-testid=\"button-back\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Study Zone\n            </Button>\n          </Link>\n\n          <Card variant=\"frosted\">\n            <CardHeader>\n              <div className=\"flex items-center gap-2 mb-2\">\n                {course.free ? (\n                  <Badge color=\"green\" variant=\"outline\" size=\"sm\">\n                    Free\n                  </Badge>\n                ) : (\n                  <Badge variant=\"secondary\" size=\"sm\">\n                    Premium\n                  </Badge>\n                )}\n                <Badge variant=\"outline\" size=\"sm\">\n                  <Clock className=\"w-3 h-3 mr-1\" />\n                  {course.duration}\n                </Badge>\n                <Badge variant=\"outline\" size=\"sm\">\n                  <BookOpen className=\"w-3 h-3 mr-1\" />\n                  {course.lessons.length} lessons\n                </Badge>\n              </div>\n              <CardTitle className=\"text-5 md:text-6\">{course.title}</CardTitle>\n              <CardDescription className=\"text-3 text-gray-11\">{course.description}</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-8\">\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between text-2\">\n                  <span className=\"text-gray-11\">Progress</span>\n                  <span className=\"text-foreground\">{completedLessons} of {totalLessons} lessons completed</span>\n                </div>\n                <Progress value={progressPercentage} className=\"h-2\" />\n              </div>\n\n              {(course.free || isPro) ? (\n                <Link href={`${basePath}/learn/${courseId}/${nextLesson.id}`} className=\"block\">\n                  <Button variant=\"gold\" className=\"w-full\" data-testid=\"button-continue-learning\">\n                    <Play className=\"w-4 h-4 mr-2\" />\n                    {completedLessons > 0 ? 'Continue Learning' : 'Start Course'}\n                  </Button>\n                </Link>\n              ) : (\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\" \n                  onClick={() => setShowUpgradeModal(true)}\n                  data-testid=\"button-locked\"\n                >\n                  <Lock className=\"w-4 h-4 mr-2\" />\n                  Unlock with Pro\n                </Button>\n              )}\n            </CardContent>\n          </Card>\n\n          <div className=\"space-y-3\">\n            <h2 className=\"text-4 font-semibold\">Course Lessons</h2>\n            \n            {course.lessons.map((lesson, index) => {\n              const completed = isLessonCompleted(lesson.id);\n              const isLocked = !course.free && !isPro;\n              \n              return (\n                <Card \n                  key={lesson.id} \n                  variant=\"frosted\" \n                  className={`transition-all ${!isLocked ? 'hover-elevate cursor-pointer' : 'opacity-60'}`}\n                  data-testid={`card-lesson-${lesson.id}`}\n                >\n                  {!isLocked ? (\n                    <Link href={`${basePath}/learn/${courseId}/${lesson.id}`}>\n                      <CardContent className=\"py-4\">\n                        <div className=\"flex items-center gap-4\">\n                          <div className={`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold ${\n                            completed \n                              ? 'bg-green-9 text-white' \n                              : 'bg-gray-a3 text-foreground'\n                          }`}>\n                            {completed ? <CheckCircle className=\"w-5 h-5\" /> : index + 1}\n                          </div>\n                          <div className=\"flex-1\">\n                            <h3 className=\"text-3 font-medium\">{lesson.title}</h3>\n                            <p className=\"text-2 text-gray-11\">{lesson.duration}</p>\n                          </div>\n                          <Play className=\"w-4 h-4 text-gray-11\" />\n                        </div>\n                      </CardContent>\n                    </Link>\n                  ) : (\n                    <CardContent className=\"py-4\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-gray-a3 text-gray-10\">\n                          <Lock className=\"w-4 h-4\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-3 font-medium text-gray-10\">{lesson.title}</h3>\n                          <p className=\"text-2 text-gray-11\">{lesson.duration}</p>\n                        </div>\n                      </div>\n                    </CardContent>\n                  )}\n                </Card>\n              );\n            })}\n          </div>\n        </div>\n      </main>\n      \n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </>\n  );\n}\n","path":null,"size_bytes":8231,"size_tokens":null},"client/src/lib/courses-data.ts":{"content":"export interface Lesson {\n  id: string;\n  title: string;\n  duration: string;\n  content: string;\n  keyPoints: string[];\n}\n\nexport interface Course {\n  id: string;\n  title: string;\n  description: string;\n  duration: string;\n  free: boolean;\n  lessons: Lesson[];\n}\n\nexport const courses: Course[] = [\n  {\n    id: 'intro-gg33',\n    title: 'Introduction to GG33',\n    description: 'Learn the basics of combining Chinese Astrology with Numerology',\n    duration: '15 min',\n    free: true,\n    lessons: [\n      {\n        id: 'intro-1',\n        title: 'What is GG33?',\n        duration: '3 min',\n        content: `GG33 is a unique system that combines the ancient wisdom of Chinese Astrology with the mathematical precision of Numerology to create a comprehensive understanding of human energy patterns.\n\nCreated by Gary \"The Numbers Guy,\" this system provides insights into personality traits, life purpose, compatibility, and optimal timing for important decisions.\n\nThe \"33\" in GG33 represents the Master Number, symbolizing the highest level of spiritual awareness and teaching ability. This system aims to help you master your own energy and understand the energies of others.`,\n        keyPoints: [\n          'GG33 combines Chinese Astrology and Numerology',\n          'Created by Gary \"The Numbers Guy\"',\n          'Provides insights into personality, purpose, and compatibility',\n          '33 represents the Master Number of spiritual awareness'\n        ]\n      },\n      {\n        id: 'intro-2',\n        title: 'The Two Pillars: Numerology & Chinese Astrology',\n        duration: '3 min',\n        content: `GG33 stands on two powerful pillars of ancient wisdom:\n\n**Numerology** - The study of numbers and their spiritual significance. Your birth date contains powerful numbers that reveal your life path, personality traits, and destiny. Key numbers include your Life Path Number, Expression Number, and Personal Year.\n\n**Chinese Astrology** - A 12-year cycle based on the lunar calendar, assigning animal signs and elements to each year. Your birth year determines your Chinese Zodiac animal and element, revealing core personality traits and compatibility patterns.\n\nWhen combined, these systems provide a 360-degree view of your energy signature.`,\n        keyPoints: [\n          'Numerology reveals life path through birth date numbers',\n          'Chinese Astrology uses 12-year animal cycles',\n          'Five elements (Wood, Fire, Earth, Metal, Water) add depth',\n          'Combined systems create complete energy profile'\n        ]\n      },\n      {\n        id: 'intro-3',\n        title: 'Understanding Your Energy Signature',\n        duration: '3 min',\n        content: `Your Energy Signature is a unique combination of your numerological and astrological influences. It describes who you are at your core.\n\n**Components of Your Energy Signature:**\n\n1. **Element** - Wood, Fire, Earth, Metal, or Water (from Chinese Astrology)\n2. **Soul Type** - Based on your Life Path Number characteristics\n3. **Energy Expression** - How you naturally express yourself\n\nFor example, a \"Fire Soul Pioneer\" would be someone born in a Fire element year with a Life Path 1, indicating passionate leadership energy.\n\nUnderstanding your energy signature helps you make decisions aligned with your natural strengths.`,\n        keyPoints: [\n          'Energy Signature combines multiple factors',\n          'Includes Element, Soul Type, and Expression',\n          'Unique to your birth date and year',\n          'Guides aligned decision-making'\n        ]\n      },\n      {\n        id: 'intro-4',\n        title: 'How to Calculate Your Life Path Number',\n        duration: '3 min',\n        content: `Your Life Path Number is the most important number in Numerology. Here is how to calculate it:\n\n**Step 1:** Write your full birth date (Month/Day/Year)\nExample: March 15, 1990 = 03/15/1990\n\n**Step 2:** Add all digits together\n0 + 3 + 1 + 5 + 1 + 9 + 9 + 0 = 28\n\n**Step 3:** Reduce to a single digit (unless 11, 22, or 33)\n2 + 8 = 10\n1 + 0 = 1\n\n**Result:** Life Path Number 1\n\nMaster Numbers (11, 22, 33) are not reduced further as they carry special significance.`,\n        keyPoints: [\n          'Add all digits of your birth date',\n          'Reduce to single digit (1-9)',\n          'Master Numbers 11, 22, 33 are not reduced',\n          'Life Path is your core numerological identity'\n        ]\n      },\n      {\n        id: 'intro-5',\n        title: 'Finding Your Chinese Zodiac Sign',\n        duration: '3 min',\n        content: `Your Chinese Zodiac sign is determined by your birth year. The 12 animals cycle every 12 years:\n\n**The 12 Animals:**\n- Rat (2020, 2008, 1996, 1984)\n- Ox (2021, 2009, 1997, 1985)\n- Tiger (2022, 2010, 1998, 1986)\n- Rabbit (2023, 2011, 1999, 1987)\n- Dragon (2024, 2012, 2000, 1988)\n- Snake (2013, 2001, 1989, 1977)\n- Horse (2014, 2002, 1990, 1978)\n- Goat (2015, 2003, 1991, 1979)\n- Monkey (2016, 2004, 1992, 1980)\n- Rooster (2017, 2005, 1993, 1981)\n- Dog (2018, 2006, 1994, 1982)\n- Pig (2019, 2007, 1995, 1983)\n\nNote: Chinese New Year falls in January/February, so early-year births may belong to the previous year's animal.`,\n        keyPoints: [\n          '12 animals cycle every 12 years',\n          'Birth year determines your animal',\n          'Chinese New Year affects early-year births',\n          'Each animal has unique personality traits'\n        ]\n      }\n    ]\n  },\n  {\n    id: 'life-path-numbers',\n    title: 'Life Path Numbers',\n    description: 'Deep dive into the meaning and significance of each life path number',\n    duration: '45 min',\n    free: true,\n    lessons: [\n      {\n        id: 'lp-1',\n        title: 'Life Path 1: The Pioneer',\n        duration: '4 min',\n        content: `Life Path 1 individuals are natural-born leaders who forge their own path in life.\n\n**Core Traits:**\n- Independent and self-reliant\n- Innovative and original thinkers\n- Ambitious and goal-oriented\n- Courageous and determined\n\n**Strengths:** Leadership, creativity, determination, initiative\n**Challenges:** Stubbornness, ego, impatience, difficulty asking for help\n\n**Career Paths:** Entrepreneur, CEO, inventor, freelancer, military leader\n\n**Famous Life Path 1s:** Steve Jobs, Lady Gaga, Martin Luther King Jr.\n\nLife Path 1s are here to learn independence and to lead by example. They often feel compelled to start new ventures and create original work.`,\n        keyPoints: [\n          'Natural leaders who forge their own path',\n          'Independent, innovative, ambitious',\n          'May struggle with ego and asking for help',\n          'Best in entrepreneurial or leadership roles'\n        ]\n      },\n      {\n        id: 'lp-2',\n        title: 'Life Path 2: The Diplomat',\n        duration: '4 min',\n        content: `Life Path 2 individuals are natural peacemakers who excel at bringing harmony to relationships.\n\n**Core Traits:**\n- Cooperative and diplomatic\n- Sensitive and intuitive\n- Patient and supportive\n- Detail-oriented\n\n**Strengths:** Mediation, partnership, empathy, patience\n**Challenges:** Over-sensitivity, indecisiveness, people-pleasing, self-doubt\n\n**Career Paths:** Counselor, mediator, diplomat, HR professional, therapist\n\n**Famous Life Path 2s:** Barack Obama, Jennifer Aniston, Kim Kardashian\n\nLife Path 2s are here to master the art of cooperation and to support others in achieving their goals.`,\n        keyPoints: [\n          'Natural peacemakers and diplomats',\n          'Highly intuitive and empathetic',\n          'Excel in partnerships and teamwork',\n          'Need to balance giving with self-care'\n        ]\n      },\n      {\n        id: 'lp-3',\n        title: 'Life Path 3: The Communicator',\n        duration: '4 min',\n        content: `Life Path 3 individuals are creative expressionists who inspire others through their words and art.\n\n**Core Traits:**\n- Creative and expressive\n- Optimistic and joyful\n- Social and charming\n- Imaginative\n\n**Strengths:** Communication, creativity, inspiration, entertainment\n**Challenges:** Scattered energy, superficiality, mood swings, self-doubt\n\n**Career Paths:** Writer, artist, actor, motivational speaker, marketing\n\n**Famous Life Path 3s:** John Travolta, Snoop Dogg, Hillary Clinton\n\nLife Path 3s are here to express themselves creatively and spread joy to the world.`,\n        keyPoints: [\n          'Creative expressionists and communicators',\n          'Natural entertainers and artists',\n          'Optimistic and socially gifted',\n          'Need focus to avoid scattered energy'\n        ]\n      },\n      {\n        id: 'lp-4',\n        title: 'Life Path 4: The Builder',\n        duration: '4 min',\n        content: `Life Path 4 individuals are practical builders who create lasting foundations.\n\n**Core Traits:**\n- Practical and hardworking\n- Reliable and trustworthy\n- Organized and methodical\n- Patient and persistent\n\n**Strengths:** Organization, discipline, loyalty, practicality\n**Challenges:** Rigidity, workaholism, resistance to change, narrow-mindedness\n\n**Career Paths:** Engineer, architect, accountant, project manager, craftsperson\n\n**Famous Life Path 4s:** Oprah Winfrey, Bill Gates, Elton John\n\nLife Path 4s are here to build solid foundations and create tangible results through hard work.`,\n        keyPoints: [\n          'Practical builders and organizers',\n          'Extremely reliable and trustworthy',\n          'Create lasting structures and systems',\n          'Need flexibility to avoid rigidity'\n        ]\n      },\n      {\n        id: 'lp-5',\n        title: 'Life Path 5: The Freedom Seeker',\n        duration: '4 min',\n        content: `Life Path 5 individuals crave freedom and adventure, constantly seeking new experiences.\n\n**Core Traits:**\n- Adventurous and versatile\n- Adaptable and flexible\n- Freedom-loving\n- Curious and energetic\n\n**Strengths:** Adaptability, versatility, resourcefulness, adventure\n**Challenges:** Restlessness, inconsistency, impulsiveness, fear of commitment\n\n**Career Paths:** Travel writer, sales, public relations, journalist, entrepreneur\n\n**Famous Life Path 5s:** Beyonce, Angelina Jolie, Abraham Lincoln\n\nLife Path 5s are here to experience life fully and teach others about freedom and change.`,\n        keyPoints: [\n          'Freedom seekers and adventurers',\n          'Highly adaptable and versatile',\n          'Crave variety and new experiences',\n          'Need grounding to avoid restlessness'\n        ]\n      },\n      {\n        id: 'lp-6',\n        title: 'Life Path 6: The Nurturer',\n        duration: '4 min',\n        content: `Life Path 6 individuals are natural caregivers devoted to family and community.\n\n**Core Traits:**\n- Nurturing and caring\n- Responsible and protective\n- Harmonious and balanced\n- Artistic and creative\n\n**Strengths:** Caregiving, responsibility, harmony, teaching\n**Challenges:** Over-giving, perfectionism, worry, meddling\n\n**Career Paths:** Teacher, nurse, counselor, designer, chef, social worker\n\n**Famous Life Path 6s:** John Lennon, Victoria Beckham, Stevie Wonder\n\nLife Path 6s are here to nurture and create beauty and harmony in their environment.`,\n        keyPoints: [\n          'Natural nurturers and caregivers',\n          'Devoted to family and community',\n          'Create beauty and harmony',\n          'Must avoid over-giving and perfectionism'\n        ]\n      },\n      {\n        id: 'lp-7',\n        title: 'Life Path 7: The Seeker',\n        duration: '4 min',\n        content: `Life Path 7 individuals are deep thinkers who seek truth and wisdom.\n\n**Core Traits:**\n- Analytical and intellectual\n- Spiritual and introspective\n- Intuitive and perceptive\n- Independent and private\n\n**Strengths:** Analysis, research, spirituality, wisdom\n**Challenges:** Isolation, cynicism, over-thinking, difficulty trusting\n\n**Career Paths:** Scientist, researcher, philosopher, spiritual teacher, analyst\n\n**Famous Life Path 7s:** Princess Diana, Elon Musk, Leonardo DiCaprio\n\nLife Path 7s are here to seek deeper truths and share their wisdom with the world.`,\n        keyPoints: [\n          'Deep thinkers and truth seekers',\n          'Highly analytical and intuitive',\n          'Need solitude for inner work',\n          'Balance isolation with connection'\n        ]\n      },\n      {\n        id: 'lp-8',\n        title: 'Life Path 8: The Powerhouse',\n        duration: '4 min',\n        content: `Life Path 8 individuals are ambitious achievers focused on material success and power.\n\n**Core Traits:**\n- Ambitious and goal-oriented\n- Business-minded and practical\n- Authoritative and confident\n- Resilient and determined\n\n**Strengths:** Business acumen, leadership, manifestation, abundance\n**Challenges:** Workaholism, materialism, control issues, burnout\n\n**Career Paths:** CEO, banker, lawyer, real estate, politician, investor\n\n**Famous Life Path 8s:** Nelson Mandela, Pablo Picasso, Sandra Bullock\n\nLife Path 8s are here to master the material world and use their power for good.`,\n        keyPoints: [\n          'Ambitious achievers and leaders',\n          'Natural business and financial sense',\n          'Powerful manifestors of abundance',\n          'Must balance material with spiritual'\n        ]\n      },\n      {\n        id: 'lp-9',\n        title: 'Life Path 9: The Humanitarian',\n        duration: '4 min',\n        content: `Life Path 9 individuals are compassionate souls devoted to serving humanity.\n\n**Core Traits:**\n- Compassionate and generous\n- Idealistic and humanitarian\n- Creative and artistic\n- Wise and understanding\n\n**Strengths:** Compassion, wisdom, creativity, philanthropy\n**Challenges:** Martyrdom, resentment, letting go, boundaries\n\n**Career Paths:** Nonprofit leader, artist, healer, teacher, humanitarian\n\n**Famous Life Path 9s:** Mahatma Gandhi, Mother Teresa, Jim Carrey\n\nLife Path 9s are here to serve humanity and leave the world better than they found it.`,\n        keyPoints: [\n          'Compassionate humanitarians',\n          'Devoted to serving others',\n          'Old souls with deep wisdom',\n          'Must learn healthy boundaries'\n        ]\n      },\n      {\n        id: 'lp-11',\n        title: 'Master Number 11: The Inspirer',\n        duration: '4 min',\n        content: `Master Number 11 is known as \"The Inspirer\" - a highly intuitive and spiritually aware soul.\n\n**Core Traits:**\n- Highly intuitive and psychic\n- Inspiring and visionary\n- Sensitive and empathic\n- Charismatic and magnetic\n\n**Strengths:** Intuition, inspiration, spiritual insight, healing\n**Challenges:** Anxiety, overwhelm, nervous energy, self-doubt\n\n**Career Paths:** Spiritual teacher, psychic, artist, inventor, leader\n\n**Famous Life Path 11s:** Barack Obama, Madonna, Prince William\n\nMaster 11s carry the energy of 2 but amplified. They are here to inspire and enlighten others.`,\n        keyPoints: [\n          'Highly intuitive and spiritually gifted',\n          'Natural inspirers and visionaries',\n          'Carry amplified energy of 2',\n          'Must manage sensitivity and anxiety'\n        ]\n      },\n      {\n        id: 'lp-22',\n        title: 'Master Number 22: The Master Builder',\n        duration: '4 min',\n        content: `Master Number 22 is called \"The Master Builder\" - capable of turning dreams into reality on a grand scale.\n\n**Core Traits:**\n- Visionary and practical\n- Ambitious and disciplined\n- Capable of great achievements\n- Methodical and systematic\n\n**Strengths:** Building empires, manifesting visions, leadership, discipline\n**Challenges:** Pressure, perfectionism, overwhelm, fear of failure\n\n**Career Paths:** Architect, politician, international business, major nonprofit\n\n**Famous Life Path 22s:** Sir Paul McCartney, Will Smith, Tina Fey\n\nMaster 22s carry amplified 4 energy. They can build lasting legacies that benefit humanity.`,\n        keyPoints: [\n          'Master builders of grand visions',\n          'Turn dreams into tangible reality',\n          'Carry amplified energy of 4',\n          'Must not be overwhelmed by potential'\n        ]\n      },\n      {\n        id: 'lp-33',\n        title: 'Master Number 33: The Master Teacher',\n        duration: '5 min',\n        content: `Master Number 33 is the rarest and most spiritually evolved - \"The Master Teacher.\"\n\n**Core Traits:**\n- Deeply compassionate\n- Spiritually evolved\n- Natural healer and teacher\n- Selflessly devoted to others\n\n**Strengths:** Healing, teaching, unconditional love, spiritual mastery\n**Challenges:** Self-sacrifice, martyrdom, carrying others' burdens\n\n**Career Paths:** Spiritual leader, healer, counselor, humanitarian leader\n\n**Famous Life Path 33s:** Albert Einstein, Stephen King, Meryl Streep\n\nMaster 33s combine the intuition of 11 and building ability of 22. They are here to uplift humanity through love.`,\n        keyPoints: [\n          'The rarest master number',\n          'Master teachers and healers',\n          'Combines 11 intuition + 22 building',\n          'Must avoid martyrdom and self-sacrifice'\n        ]\n      }\n    ]\n  },\n  {\n    id: 'chinese-elements',\n    title: 'Chinese Zodiac Elements',\n    description: 'Understanding the five elements and their influence on personality',\n    duration: '30 min',\n    free: false,\n    lessons: [\n      {\n        id: 'elem-1',\n        title: 'Introduction to the Five Elements',\n        duration: '4 min',\n        content: `The Five Elements are fundamental to Chinese philosophy and astrology. They represent the basic forces of nature and how energy flows.\n\n**The Five Elements:**\n1. **Wood** - Growth, creativity, expansion\n2. **Fire** - Passion, transformation, energy\n3. **Earth** - Stability, nurturing, grounding\n4. **Metal** - Precision, clarity, refinement\n5. **Water** - Wisdom, adaptability, flow\n\nEach element cycles every 10 years (2 years per element), and your birth year determines your dominant element.\n\nUnderstanding your element helps explain your natural tendencies and how you interact with the world.`,\n        keyPoints: [\n          'Five elements: Wood, Fire, Earth, Metal, Water',\n          'Each represents different life forces',\n          '10-year elemental cycle (2 years each)',\n          'Birth year determines your element'\n        ]\n      },\n      {\n        id: 'elem-2',\n        title: 'Wood Element: The Creator',\n        duration: '3 min',\n        content: `Wood element people are natural creators and visionaries, like a tree growing toward the sun.\n\n**Years:** 1984-85, 1994-95, 2004-05, 2014-15, 2024-25\n\n**Characteristics:**\n- Creative and innovative\n- Growth-oriented\n- Compassionate and generous\n- Competitive and ambitious\n\n**Strengths:** Vision, creativity, benevolence, flexibility\n**Weaknesses:** Anger, impatience, over-extension\n\n**Compatible Elements:** Water (nourishes), Fire (feeds)\n**Challenging Elements:** Metal (cuts), Earth (depletes)`,\n        keyPoints: [\n          'Creative visionaries and growers',\n          'Compassionate and generous nature',\n          'Need to manage anger and impatience',\n          'Thrive with Water and Fire elements'\n        ]\n      },\n      {\n        id: 'elem-3',\n        title: 'Fire Element: The Transformer',\n        duration: '3 min',\n        content: `Fire element people are passionate transformers, radiating warmth and energy like a blazing flame.\n\n**Years:** 1986-87, 1996-97, 2006-07, 2016-17, 2026-27\n\n**Characteristics:**\n- Passionate and enthusiastic\n- Charismatic and inspiring\n- Adventurous and bold\n- Expressive and dramatic\n\n**Strengths:** Passion, joy, leadership, transformation\n**Weaknesses:** Impulsiveness, aggression, burnout\n\n**Compatible Elements:** Wood (fuels), Earth (grounds)\n**Challenging Elements:** Water (extinguishes), Metal (melts)`,\n        keyPoints: [\n          'Passionate and charismatic leaders',\n          'Radiate warmth and inspiration',\n          'Must avoid burnout and impulsiveness',\n          'Thrive with Wood and Earth elements'\n        ]\n      },\n      {\n        id: 'elem-4',\n        title: 'Earth Element: The Stabilizer',\n        duration: '3 min',\n        content: `Earth element people are natural stabilizers, providing grounding and nurturing like the solid ground beneath us.\n\n**Years:** 1988-89, 1998-99, 2008-09, 2018-19, 2028-29\n\n**Characteristics:**\n- Stable and reliable\n- Nurturing and supportive\n- Practical and grounded\n- Patient and methodical\n\n**Strengths:** Stability, reliability, nurturing, practicality\n**Weaknesses:** Stubbornness, worry, over-protectiveness\n\n**Compatible Elements:** Fire (creates), Metal (produces)\n**Challenging Elements:** Wood (depletes), Water (erodes)`,\n        keyPoints: [\n          'Stable and reliable nurturers',\n          'Provide grounding for others',\n          'Must avoid excessive worry',\n          'Thrive with Fire and Metal elements'\n        ]\n      },\n      {\n        id: 'elem-5',\n        title: 'Metal Element: The Refiner',\n        duration: '3 min',\n        content: `Metal element people are natural refiners, seeking perfection and clarity like a polished blade.\n\n**Years:** 1980-81, 1990-91, 2000-01, 2010-11, 2020-21\n\n**Characteristics:**\n- Precise and detail-oriented\n- Disciplined and organized\n- Just and fair\n- Determined and focused\n\n**Strengths:** Clarity, discipline, justice, determination\n**Weaknesses:** Rigidity, grief, criticism, coldness\n\n**Compatible Elements:** Earth (produces), Water (refines)\n**Challenging Elements:** Fire (melts), Wood (controls)`,\n        keyPoints: [\n          'Precise and disciplined refiners',\n          'Seek clarity and perfection',\n          'Must avoid rigidity and criticism',\n          'Thrive with Earth and Water elements'\n        ]\n      },\n      {\n        id: 'elem-6',\n        title: 'Water Element: The Philosopher',\n        duration: '3 min',\n        content: `Water element people are natural philosophers, flowing with wisdom and adaptability like a river.\n\n**Years:** 1982-83, 1992-93, 2002-03, 2012-13, 2022-23\n\n**Characteristics:**\n- Wise and intuitive\n- Adaptable and flexible\n- Diplomatic and communicative\n- Deep and mysterious\n\n**Strengths:** Wisdom, intuition, diplomacy, flow\n**Weaknesses:** Fear, indecision, manipulation, isolation\n\n**Compatible Elements:** Metal (creates), Wood (nourishes)\n**Challenging Elements:** Earth (blocks), Fire (evaporates)`,\n        keyPoints: [\n          'Wise and intuitive philosophers',\n          'Highly adaptable and diplomatic',\n          'Must overcome fear and indecision',\n          'Thrive with Metal and Wood elements'\n        ]\n      },\n      {\n        id: 'elem-7',\n        title: 'Element Cycles: Creation and Control',\n        duration: '5 min',\n        content: `The elements interact in two main cycles that explain compatibility and conflict:\n\n**Creation Cycle (Supportive):**\n- Wood feeds Fire\n- Fire creates Earth (ash)\n- Earth produces Metal\n- Metal carries Water\n- Water nourishes Wood\n\n**Control Cycle (Challenging):**\n- Wood depletes Earth\n- Earth blocks Water\n- Water extinguishes Fire\n- Fire melts Metal\n- Metal cuts Wood\n\nUnderstanding these cycles helps predict relationship dynamics and energy interactions.`,\n        keyPoints: [\n          'Creation cycle shows supportive flow',\n          'Control cycle shows challenging dynamics',\n          'Use cycles to understand relationships',\n          'Balance elements for harmony'\n        ]\n      },\n      {\n        id: 'elem-8',\n        title: 'Balancing Your Element',\n        duration: '6 min',\n        content: `Every element has strengths and weaknesses. Here is how to balance each:\n\n**Wood Balance:** Channel creativity productively. Practice patience. Spend time in nature.\n\n**Fire Balance:** Ground your passion with routine. Rest to avoid burnout. Practice mindfulness.\n\n**Earth Balance:** Set boundaries. Avoid over-worrying. Trust the process.\n\n**Metal Balance:** Practice flexibility. Connect emotionally. Let go of perfectionism.\n\n**Water Balance:** Take action despite fear. Set clear intentions. Maintain boundaries.\n\nYou can also support your element by incorporating colors, foods, and activities associated with supportive elements.`,\n        keyPoints: [\n          'Each element needs specific balancing',\n          'Use supportive elements to strengthen',\n          'Colors, foods, activities can help',\n          'Self-awareness is key to balance'\n        ]\n      }\n    ]\n  },\n  {\n    id: 'compatibility',\n    title: 'Compatibility Analysis',\n    description: 'How to read and interpret compatibility scores effectively',\n    duration: '40 min',\n    free: false,\n    lessons: [\n      {\n        id: 'compat-1',\n        title: 'Understanding Compatibility in GG33',\n        duration: '4 min',\n        content: `Compatibility in GG33 is measured through multiple factors, creating a comprehensive picture of how two energies interact.\n\n**Key Compatibility Factors:**\n1. Life Path Number compatibility\n2. Chinese Zodiac animal harmony\n3. Elemental balance\n4. Energy type alignment\n\nNo single factor determines compatibility. The combination reveals:\n- Natural chemistry and attraction\n- Communication styles\n- Potential challenges\n- Growth opportunities\n\nHigh compatibility does not guarantee success, and low compatibility does not mean failure. Awareness enables navigation.`,\n        keyPoints: [\n          'Multiple factors create compatibility score',\n          'Life Path, Zodiac, Element all matter',\n          'High scores show natural harmony',\n          'Awareness helps navigate any pairing'\n        ]\n      },\n      {\n        id: 'compat-2',\n        title: 'Life Path Compatibility Basics',\n        duration: '4 min',\n        content: `Certain Life Path numbers naturally harmonize while others create friction:\n\n**Natural Matches:**\n- 1 & 5: Adventure and independence\n- 2 & 6: Nurturing and harmony\n- 3 & 9: Creativity and compassion\n- 4 & 8: Building and ambition\n- 7 & 7: Deep spiritual connection\n\n**Challenging Matches:**\n- 1 & 8: Power struggles\n- 4 & 5: Stability vs freedom conflict\n- 3 & 4: Spontaneity vs structure\n\n**Growth Matches:**\n- 1 & 2: Learning balance\n- 5 & 6: Freedom meets responsibility\n- 7 & 3: Depth meets expression`,\n        keyPoints: [\n          'Some numbers naturally harmonize',\n          'Challenging matches create growth',\n          'Same numbers can be powerful or competitive',\n          'Master numbers add intensity'\n        ]\n      },\n      {\n        id: 'compat-3',\n        title: 'Chinese Zodiac Compatibility',\n        duration: '4 min',\n        content: `The 12 animals form compatibility groups based on their position in the zodiac:\n\n**Triangle Compatibilities (Best Matches):**\n- Rat, Dragon, Monkey (ambitious achievers)\n- Ox, Snake, Rooster (methodical thinkers)\n- Tiger, Horse, Dog (action-oriented)\n- Rabbit, Goat, Pig (peaceful creators)\n\n**Opposite Signs (Challenging):**\n- Rat vs Horse\n- Ox vs Goat\n- Tiger vs Monkey\n- Rabbit vs Rooster\n- Dragon vs Dog\n- Snake vs Pig\n\nOpposite signs can create powerful attractions but require more effort to maintain harmony.`,\n        keyPoints: [\n          'Triangle groups are naturally compatible',\n          'Opposite signs create tension and attraction',\n          'Adjacent signs have moderate compatibility',\n          'Same sign can compete or complement'\n        ]\n      },\n      {\n        id: 'compat-4',\n        title: 'Element Compatibility in Relationships',\n        duration: '4 min',\n        content: `Elements interact in relationships just as they do in nature:\n\n**Harmonious Element Pairings:**\n- Wood + Water: Nurturing growth\n- Fire + Wood: Passionate inspiration\n- Earth + Fire: Grounded passion\n- Metal + Earth: Structured stability\n- Water + Metal: Flowing clarity\n\n**Challenging Element Pairings:**\n- Water + Fire: Steam and conflict\n- Metal + Wood: Cutting criticism\n- Earth + Wood: Depleting energy\n- Fire + Metal: Intense transformation\n- Water + Earth: Blocked flow\n\nUnderstanding elemental dynamics helps navigate emotional patterns in relationships.`,\n        keyPoints: [\n          'Creation cycle elements support each other',\n          'Control cycle elements create friction',\n          'Elemental balance can be cultivated',\n          'Awareness helps manage conflicts'\n        ]\n      },\n      {\n        id: 'compat-5',\n        title: 'Reading a Compatibility Report',\n        duration: '4 min',\n        content: `When analyzing a GG33 compatibility report, look for:\n\n**Overall Score:** A percentage showing general harmony. Above 70% indicates strong natural compatibility.\n\n**Breakdown Sections:**\n- Life Path Match: Core personality alignment\n- Element Balance: Emotional dynamics\n- Zodiac Harmony: Behavioral patterns\n- Energy Flow: How you energize each other\n\n**Key Insights:**\n- Strengths: Where you naturally sync\n- Challenges: Potential friction points\n- Growth Areas: What you can teach each other\n- Recommendations: How to optimize the relationship`,\n        keyPoints: [\n          '70%+ indicates strong compatibility',\n          'Review each breakdown section',\n          'Note both strengths and challenges',\n          'Use recommendations for growth'\n        ]\n      },\n      {\n        id: 'compat-6',\n        title: 'Romantic Compatibility',\n        duration: '4 min',\n        content: `Romantic relationships require specific compatibility factors:\n\n**Attraction Factors:**\n- Complementary elements create chemistry\n- Same Life Path can be magnetic\n- Opposite zodiacs often attract initially\n\n**Long-term Success Factors:**\n- Life Path values alignment\n- Emotional element balance\n- Communication style harmony\n- Shared growth direction\n\n**Red Flags to Watch:**\n- Control cycle elements without awareness\n- Extreme number differences (1 vs 2)\n- Competing same numbers without cooperation\n\nThe best romantic matches combine attraction with long-term compatibility.`,\n        keyPoints: [\n          'Attraction and compatibility differ',\n          'Long-term success needs value alignment',\n          'Communication styles must work together',\n          'Awareness transforms challenges'\n        ]\n      },\n      {\n        id: 'compat-7',\n        title: 'Business & Professional Compatibility',\n        duration: '4 min',\n        content: `Business partnerships require different compatibility factors than romance:\n\n**Ideal Business Pairings:**\n- 1 + 4: Visionary + Builder\n- 3 + 8: Creative + Business-minded\n- 2 + 1: Diplomat + Leader\n- 5 + 7: Promoter + Strategist\n- 6 + 4: Nurturer + Organizer\n\n**Elements in Business:**\n- Wood + Metal: Vision + Execution\n- Fire + Earth: Passion + Stability\n- Water + Fire: Strategy + Action\n\n**Team Compatibility:**\nBalance of numbers creates well-rounded teams. Avoid too many same numbers competing.`,\n        keyPoints: [\n          'Business needs complementary skills',\n          'Balance visionaries with builders',\n          'Element harmony affects work style',\n          'Diverse teams outperform same-number groups'\n        ]\n      },\n      {\n        id: 'compat-8',\n        title: 'Family Compatibility',\n        duration: '4 min',\n        content: `Family dynamics are influenced by generational patterns:\n\n**Parent-Child Compatibility:**\n- Similar numbers create understanding\n- Different numbers offer growth lessons\n- Element cycles affect emotional bonds\n\n**Sibling Dynamics:**\n- Same numbers may compete\n- Complementary numbers support each other\n- Birth order adds another layer\n\n**Multi-Generational Patterns:**\n- Master numbers often run in families\n- Element cycles can repeat\n- Understanding helps heal family wounds\n\nFamily is where we learn our first compatibility lessons. Awareness helps break negative patterns.`,\n        keyPoints: [\n          'Family patterns teach compatibility',\n          'Parent-child dynamics follow number rules',\n          'Sibling relationships show early patterns',\n          'Awareness breaks negative cycles'\n        ]\n      },\n      {\n        id: 'compat-9',\n        title: 'Self-Compatibility: Inner Balance',\n        duration: '4 min',\n        content: `The most important compatibility is with yourself:\n\n**Internal Harmony:**\nYour Life Path, Expression, and Soul Urge numbers should work together. Internal conflicts create life challenges.\n\n**Element Balance:**\nYour dominant element needs supporting elements in your environment, activities, and relationships.\n\n**Shadow Work:**\nEach number has shadow traits. Integrating your shadow creates self-compatibility.\n\n**Signs of Self-Compatibility:**\n- Confidence in decisions\n- Authentic expression\n- Attracting aligned relationships\n- Inner peace despite external chaos`,\n        keyPoints: [\n          'Self-compatibility is foundational',\n          'Internal number harmony matters',\n          'Shadow integration creates balance',\n          'Self-aligned people attract better matches'\n        ]\n      },\n      {\n        id: 'compat-10',\n        title: 'Working with Low Compatibility',\n        duration: '4 min',\n        content: `Low compatibility is not destiny. Here is how to navigate it:\n\n**Awareness Strategies:**\n1. Identify specific friction points\n2. Understand each other's core needs\n3. Create communication bridges\n4. Celebrate differences\n\n**Practical Tools:**\n- Use compatible elements to balance\n- Find shared values beyond numbers\n- Create rituals that honor both energies\n- Seek outside support when needed\n\n**Growth Mindset:**\nLow compatibility relationships often teach the most profound lessons. The challenge is the curriculum.`,\n        keyPoints: [\n          'Low compatibility can still work',\n          'Awareness is the key to navigation',\n          'Use supporting elements to balance',\n          'Challenges become growth opportunities'\n        ]\n      }\n    ]\n  },\n  {\n    id: 'daily-energy',\n    title: 'Daily Energy Cycles',\n    description: 'Master the art of using daily energy for optimal decision-making',\n    duration: '35 min',\n    free: false,\n    lessons: [\n      {\n        id: 'daily-1',\n        title: 'Understanding Personal Day Numbers',\n        duration: '4 min',\n        content: `Your Personal Day Number reveals the energy available each day for specific activities.\n\n**How to Calculate:**\nPersonal Year + Personal Month + Calendar Day = Personal Day\n\n**Example:** If today is the 15th, your Personal Month is 7, and Personal Year is 3:\n3 + 7 + 15 = 25 â†’ 2 + 5 = 7 (Personal Day 7)\n\n**Personal Day Meanings:**\n- 1: New beginnings, initiative\n- 2: Cooperation, patience\n- 3: Creativity, expression\n- 4: Work, organization\n- 5: Change, adventure\n- 6: Home, responsibility\n- 7: Reflection, research\n- 8: Business, finance\n- 9: Completion, release`,\n        keyPoints: [\n          'Personal Day shows daily energy',\n          'Calculate from Year + Month + Day',\n          'Each number has specific best uses',\n          'Align activities with daily energy'\n        ]\n      },\n      {\n        id: 'daily-2',\n        title: 'Personal Year Cycles',\n        duration: '4 min',\n        content: `Your Personal Year sets the theme for the entire year. It cycles 1-9.\n\n**Calculate Your Personal Year:**\nBirth Month + Birth Day + Current Year digits\n\n**Example:** Birthday March 15, Year 2024:\n3 + 15 + 2024 â†’ 3 + 1 + 5 + 2 + 0 + 2 + 4 = 17 â†’ 1 + 7 = 8 (Personal Year 8)\n\n**Personal Year Themes:**\n- Year 1: New beginnings, fresh starts\n- Year 2: Partnerships, patience\n- Year 3: Creativity, social expansion\n- Year 4: Foundation building, hard work\n- Year 5: Change, freedom, travel\n- Year 6: Home, family, responsibility\n- Year 7: Reflection, spiritual growth\n- Year 8: Achievement, abundance\n- Year 9: Completion, release`,\n        keyPoints: [\n          'Personal Year sets annual theme',\n          'Cycles through 1-9 over nine years',\n          'Major decisions align with year energy',\n          'Year 9 ends cycles before Year 1 restart'\n        ]\n      },\n      {\n        id: 'daily-3',\n        title: 'Universal Day Energy',\n        duration: '4 min',\n        content: `Universal Day energy affects everyone and combines with your Personal Day.\n\n**Calculate Universal Day:**\nAdd the digits of today's full date (Month + Day + Year)\n\n**Example:** December 6, 2024:\n1 + 2 + 6 + 2 + 0 + 2 + 4 = 17 â†’ 1 + 7 = 8 (Universal Day 8)\n\n**Using Universal + Personal Days:**\nYour Personal Day energy is influenced by the Universal Day. When they match, that energy is amplified.\n\n**Universal Days for:**\n- Starting projects: 1, 8\n- Collaboration: 2, 6\n- Creativity: 3, 5\n- Planning: 4, 7\n- Completion: 9`,\n        keyPoints: [\n          'Universal Day affects everyone',\n          'Combines with Personal Day',\n          'Matching numbers amplify energy',\n          'Plan important events accordingly'\n        ]\n      },\n      {\n        id: 'daily-4',\n        title: 'Optimal Days for Major Decisions',\n        duration: '4 min',\n        content: `Match your activities to favorable daily energies:\n\n**Business Decisions:**\n- Best: Days 1, 4, 8\n- Avoid: Day 5 (too changeable), Day 7 (needs reflection)\n\n**Relationship Talks:**\n- Best: Days 2, 6\n- Avoid: Day 1 (too self-focused), Day 5 (unsettled)\n\n**Creative Projects:**\n- Best: Days 3, 5\n- Avoid: Day 4 (too rigid), Day 8 (too business-focused)\n\n**Spiritual Practices:**\n- Best: Days 7, 9, 11\n- Avoid: Day 4 (too material), Day 8 (worldly focus)\n\n**Endings/Letting Go:**\n- Best: Day 9\n- Avoid: Day 1 (beginning energy)`,\n        keyPoints: [\n          'Match activities to day energy',\n          'Avoid conflicting energies',\n          'Major decisions need aligned days',\n          'Flexibility allows for adjustments'\n        ]\n      },\n      {\n        id: 'daily-5',\n        title: 'Monthly Energy Patterns',\n        duration: '4 min',\n        content: `Personal Month energy provides a broader context for your weeks.\n\n**Calculate Personal Month:**\nPersonal Year + Calendar Month\n\n**Example:** Personal Year 8, October (10):\n8 + 10 = 18 â†’ 1 + 8 = 9 (Personal Month 9)\n\n**Monthly Themes:**\n- Month 1: Set intentions, start projects\n- Month 2: Build relationships, be patient\n- Month 3: Express yourself, be social\n- Month 4: Organize, create systems\n- Month 5: Embrace change, travel\n- Month 6: Focus on home, family\n- Month 7: Rest, reflect, research\n- Month 8: Push for achievement\n- Month 9: Complete, release, prepare\n\nPersonal Days operate within your Monthly energy framework.`,\n        keyPoints: [\n          'Monthly energy sets weekly context',\n          'Personal Month = Year + Calendar Month',\n          'Plan big projects across months',\n          'Days work within monthly themes'\n        ]\n      },\n      {\n        id: 'daily-6',\n        title: 'Weekly Energy Planning',\n        duration: '4 min',\n        content: `Each day of the week carries its own energy that combines with your numbers:\n\n**Weekday Energies:**\n- **Monday** (Moon): Emotions, intuition, new week intentions\n- **Tuesday** (Mars): Action, courage, tackling challenges\n- **Wednesday** (Mercury): Communication, meetings, learning\n- **Thursday** (Jupiter): Expansion, luck, big thinking\n- **Friday** (Venus): Relationships, creativity, pleasure\n- **Saturday** (Saturn): Structure, discipline, practical work\n- **Sunday** (Sun): Rest, reflection, spiritual renewal\n\nCombine weekday energy with your Personal Day for optimal planning.`,\n        keyPoints: [\n          'Each weekday has planetary energy',\n          'Combine with Personal Day numbers',\n          'Monday for intentions, Friday for relationships',\n          'Sunday for rest and reflection'\n        ]\n      },\n      {\n        id: 'daily-7',\n        title: 'Void and Power Days',\n        duration: '4 min',\n        content: `Some days carry special significance in your cycle:\n\n**Power Days:**\nWhen your Personal Day matches your Life Path, you're in alignment. Example: Life Path 4 on Personal Day 4.\n- Energy is amplified\n- Actions have more impact\n- Stay aligned with your purpose\n\n**Void Days:**\nDay 5 can feel scattered for everyone. Day 9 endings can feel heavy.\n- Use for rest and reflection\n- Avoid major commitments\n- Good for completion, not initiation\n\n**Master Number Days:**\nDays 11, 22, 33 carry spiritual intensity.\n- Heightened intuition\n- Greater responsibility\n- Potential for breakthrough or overwhelm`,\n        keyPoints: [\n          'Power Days match Life Path energy',\n          'Void Days need careful navigation',\n          'Master Number Days are intense',\n          'Use each day type appropriately'\n        ]\n      },\n      {\n        id: 'daily-8',\n        title: 'Creating Your Energy Calendar',\n        duration: '4 min',\n        content: `Build a personal energy calendar for optimal planning:\n\n**Step 1:** Calculate your Personal Year for this year\n**Step 2:** Calculate Personal Month for each month\n**Step 3:** Mark important dates and their Personal Day energies\n**Step 4:** Identify Power Days (matching Life Path)\n**Step 5:** Note Master Number Days (11, 22)\n\n**Calendar Tips:**\n- Schedule launches on Day 1 or 8\n- Book important meetings on Day 2 or 6\n- Take breaks on Day 7 or 9\n- Use Day 4 for admin and planning\n- Embrace change on Day 5\n\nReview your calendar weekly to align activities with energy.`,\n        keyPoints: [\n          'Calculate Personal Year first',\n          'Map months and important days',\n          'Mark Power Days and Master Days',\n          'Review weekly for alignment'\n        ]\n      },\n      {\n        id: 'daily-9',\n        title: 'Integrating Chinese Calendar',\n        duration: '3 min',\n        content: `The Chinese calendar adds another layer to daily energy:\n\n**Lucky and Unlucky Days:**\nTraditional Chinese calendars mark auspicious and inauspicious days for activities like:\n- Marriage\n- Moving\n- Starting business\n- Travel\n\n**Lunar Phases:**\n- New Moon: New beginnings\n- Full Moon: Culmination, release\n- Waxing: Growing, building\n- Waning: Releasing, completing\n\n**Combining Systems:**\nUse Numerology for personal timing and Chinese calendar for collective timing. Both aligned = optimal.`,\n        keyPoints: [\n          'Chinese calendar marks auspicious days',\n          'Lunar phases affect energy',\n          'New Moon for beginnings, Full Moon for release',\n          'Combine both systems for best results'\n        ]\n      }\n    ]\n  },\n  {\n    id: 'advanced-numerology',\n    title: 'Advanced Numerology',\n    description: 'Master numbers, personal year cycles, and advanced calculations',\n    duration: '60 min',\n    free: false,\n    lessons: [\n      {\n        id: 'adv-1',\n        title: 'Beyond Life Path: The Core Numbers',\n        duration: '4 min',\n        content: `Your complete numerology chart includes multiple core numbers:\n\n**The Five Core Numbers:**\n1. **Life Path** - Your life purpose (from birth date)\n2. **Expression** - Your natural talents (from full birth name)\n3. **Soul Urge** - Your heart's desire (from vowels in name)\n4. **Personality** - How others see you (from consonants)\n5. **Birthday** - Your special gift (from birth day only)\n\nEach number adds depth to your profile. They can support each other or create internal tension.\n\nA complete reading considers all five for a 360-degree view.`,\n        keyPoints: [\n          'Five core numbers create full profile',\n          'Life Path is most important',\n          'Expression comes from birth name',\n          'Numbers can harmonize or conflict'\n        ]\n      },\n      {\n        id: 'adv-2',\n        title: 'Calculating Expression Number',\n        duration: '4 min',\n        content: `Your Expression Number (also called Destiny Number) comes from your full birth name.\n\n**Letter Values:**\nA=1, B=2, C=3, D=4, E=5, F=6, G=7, H=8, I=9\nJ=1, K=2, L=3, M=4, N=5, O=6, P=7, Q=8, R=9\nS=1, T=2, U=3, V=4, W=5, X=6, Y=7, Z=8\n\n**Calculation:**\n1. Write your full birth certificate name\n2. Convert each letter to its number\n3. Add all numbers together\n4. Reduce to single digit (or master number)\n\n**Example:** \"John Smith\"\nJ(1)+O(6)+H(8)+N(5) = 20 â†’ 2\nS(1)+M(4)+I(9)+T(2)+H(8) = 24 â†’ 6\nTotal: 2 + 6 = 8 (Expression 8)`,\n        keyPoints: [\n          'Use full birth certificate name',\n          'Each letter has a number value',\n          'Add all letters and reduce',\n          'Expression shows your potential'\n        ]\n      },\n      {\n        id: 'adv-3',\n        title: 'Soul Urge and Personality Numbers',\n        duration: '4 min',\n        content: `These numbers reveal your inner and outer self:\n\n**Soul Urge (Heart's Desire):**\nCalculated from VOWELS only (A, E, I, O, U)\nReveals: What you truly want deep down\n\n**Example:** \"John Smith\"\nO(6) + I(9) = 15 â†’ 1 + 5 = 6 (Soul Urge 6)\nThis person deeply desires home, family, and harmony.\n\n**Personality Number:**\nCalculated from CONSONANTS only\nReveals: How others perceive you, your outer mask\n\n**Example:** \"John Smith\"\nJ(1)+H(8)+N(5)+S(1)+M(4)+T(2)+H(8) = 29 â†’ 11 (Personality 11)\nOthers see this person as inspiring and intuitive.`,\n        keyPoints: [\n          'Soul Urge = vowels only',\n          'Personality = consonants only',\n          'Soul Urge is your deepest desire',\n          'Personality is your public image'\n        ]\n      },\n      {\n        id: 'adv-4',\n        title: 'Karmic Debt Numbers',\n        duration: '4 min',\n        content: `Karmic Debt numbers indicate lessons carried from past lives:\n\n**The Karmic Debt Numbers:** 13, 14, 16, 19\n\n**13/4 - Karmic Debt of Laziness:**\nPast life of avoiding work. This life requires extra effort and discipline.\n\n**14/5 - Karmic Debt of Control:**\nPast life of abusing freedom. This life teaches responsible freedom.\n\n**16/7 - Karmic Debt of Ego:**\nPast life of vanity. This life humbles through ego destruction.\n\n**19/1 - Karmic Debt of Selfishness:**\nPast life of self-centeredness. This life teaches through isolation until selflessness is learned.\n\nIf these numbers appear in your core calculations (before reducing), you carry this karmic lesson.`,\n        keyPoints: [\n          'Karmic Debts indicate past life lessons',\n          '13, 14, 16, 19 are karmic numbers',\n          'They appear before final reduction',\n          'Each carries specific challenges'\n        ]\n      },\n      {\n        id: 'adv-5',\n        title: 'Karmic Lessons and Missing Numbers',\n        duration: '4 min',\n        content: `Karmic Lessons come from numbers missing in your name:\n\n**Finding Missing Numbers:**\n1. Write your full birth name\n2. Convert all letters to numbers\n3. Note which numbers 1-9 are NOT present\n\n**Karmic Lesson Meanings:**\n- Missing 1: Learning self-reliance\n- Missing 2: Learning cooperation\n- Missing 3: Learning self-expression\n- Missing 4: Learning discipline\n- Missing 5: Learning adaptability\n- Missing 6: Learning responsibility\n- Missing 7: Learning faith\n- Missing 8: Learning personal power\n- Missing 9: Learning compassion\n\nMultiple missing numbers indicate multiple lessons to master.`,\n        keyPoints: [\n          'Missing numbers show karmic lessons',\n          'Find which 1-9 are absent from name',\n          'Each missing number is a life lesson',\n          'Work consciously on missing energies'\n        ]\n      },\n      {\n        id: 'adv-6',\n        title: 'Pinnacles and Challenges',\n        duration: '5 min',\n        content: `Your life divides into four major periods called Pinnacles, each with a Challenge:\n\n**Calculating Pinnacles:**\n- First Pinnacle: Month + Day\n- Second Pinnacle: Day + Year\n- Third Pinnacle: First + Second\n- Fourth Pinnacle: Month + Year\n\n**Pinnacle Timing:**\n- First: Birth to age 36 minus Life Path\n- Second: Next 9 years\n- Third: Next 9 years\n- Fourth: Remainder of life\n\n**Challenges:**\nSubtract the same pairs to find the lesson during each period.\n\nPinnacles show opportunities; Challenges show what to overcome.`,\n        keyPoints: [\n          'Four Pinnacles divide your life',\n          'Each has opportunities and challenges',\n          'Calculate from birth date elements',\n          'Timing based on Life Path number'\n        ]\n      },\n      {\n        id: 'adv-7',\n        title: 'Personal Year Forecasting',\n        duration: '4 min',\n        content: `Advanced Personal Year analysis provides detailed life forecasting:\n\n**9-Year Cycle Overview:**\n- Years 1-3: Planting (initiation, growth, expression)\n- Years 4-6: Cultivating (building, change, responsibility)\n- Years 7-9: Harvesting (reflection, reward, completion)\n\n**Year Transitions:**\nMajor life changes often occur during:\n- Year 1: New chapter begins\n- Year 5: Mid-cycle upheaval\n- Year 9: Major endings\n\n**Multiple Cycle Awareness:**\nYou're always in multiple cycles: Personal Year, Month, Day, and longer Pinnacle cycles. Master readers track all levels.`,\n        keyPoints: [\n          '9-year cycle has three phases',\n          'Years 1, 5, 9 are transition points',\n          'Multiple cycles operate simultaneously',\n          'Track long and short-term patterns'\n        ]\n      },\n      {\n        id: 'adv-8',\n        title: 'Name Analysis and Changes',\n        duration: '4 min',\n        content: `Names carry vibration, and changes affect your numerology:\n\n**Birth Name:**\nAlways remains your core vibration, even if you change your name.\n\n**Current Name (if different):**\nAdds a new vibration layer. Does not replace birth name energy.\n\n**Married Names:**\nAdding spouse's surname adds their family energy to yours.\n\n**Stage Names/Nicknames:**\nCan be chosen strategically to enhance certain numbers.\n\n**Changing Names Intentionally:**\nSome people change spelling to adjust their Expression Number. Example: \"Jon\" vs \"John\" creates different vibrations.\n\nAlways honor your birth name as the foundation.`,\n        keyPoints: [\n          'Birth name is core vibration forever',\n          'New names add energy layers',\n          'Marriage adds family vibration',\n          'Strategic spelling changes are possible'\n        ]\n      },\n      {\n        id: 'adv-9',\n        title: 'Master Numbers Deep Dive',\n        duration: '5 min',\n        content: `Master Numbers carry higher vibration and responsibility:\n\n**11 - The Intuitive Master:**\nDoubled 1 energy with spiritual purpose. Channel: Inspiration, psychic ability, teaching.\n\n**22 - The Architect Master:**\nDoubled 2 energy with building power. Channel: Large-scale projects, global impact.\n\n**33 - The Teacher Master:**\nDoubled 3 energy with healing ability. Channel: Selfless service, spiritual teaching.\n\n**44 - The Healer Master:**\nRare. Doubled 4 with manifesting power. Channel: Building systems that heal.\n\n**Living Master Number Energy:**\nNot everyone with these numbers lives their potential. Unrealized master numbers operate as their reduced form (11â†’2, 22â†’4, 33â†’6).`,\n        keyPoints: [\n          'Master Numbers are 11, 22, 33 (and 44)',\n          'Carry higher potential and responsibility',\n          'Must be consciously developed',\n          'Unrealized masters live reduced energy'\n        ]\n      },\n      {\n        id: 'adv-10',\n        title: 'Repeating Numbers and Synchronicity',\n        duration: '4 min',\n        content: `Seeing repeating numbers is not coincidence - it's communication:\n\n**Common Repeating Patterns:**\n- 111: New beginnings, manifest thoughts\n- 222: Balance, partnerships coming\n- 333: Ascended masters supporting you\n- 444: Angels protecting, keep going\n- 555: Major change approaching\n- 666: Balance material and spiritual\n- 777: Spiritual breakthrough\n- 888: Abundance incoming\n- 999: Cycle completing\n\n**Personal Number Appearances:**\nSeeing your Life Path number repeatedly is confirmation you're on path.\n\n**How to Use:**\nNotice when they appear. What were you thinking? That's the message context.`,\n        keyPoints: [\n          'Repeating numbers are messages',\n          'Each pattern has meaning',\n          'Context of appearance matters',\n          'Your Life Path appearing = confirmation'\n        ]\n      },\n      {\n        id: 'adv-11',\n        title: 'Numerology and Major Life Events',\n        duration: '4 min',\n        content: `Timing major life events using numerology:\n\n**Optimal Timing:**\n- Marriage: Year 2, 6, or 9 (6 is ideal)\n- Starting Business: Year 1 or 8\n- Having Children: Year 3 or 6\n- Moving: Year 5\n- Career Change: Year 1 or 5\n- Retirement: Year 7 or 9\n\n**Challenging Years:**\n- Year 4: Avoid major risks, focus on building\n- Year 7: Introspection, not action\n- Year 9: Endings, not beginnings\n\n**Combining with Partner:**\nFor relationships, consider both people's cycles. Both in Year 2 or 6 is excellent for commitment.`,\n        keyPoints: [\n          'Match life events to cycle energy',\n          'Some years favor specific activities',\n          'Avoid certain actions in wrong years',\n          'Partner cycles affect shared events'\n        ]\n      },\n      {\n        id: 'adv-12',\n        title: 'Creating Complete Numerology Reports',\n        duration: '4 min',\n        content: `Professional numerology readings include:\n\n**Core Profile:**\n- Life Path Number\n- Expression Number\n- Soul Urge Number\n- Personality Number\n- Birthday Number\n\n**Timing Analysis:**\n- Current Personal Year\n- Current Personal Month\n- Pinnacle and Challenge period\n- Upcoming transitions\n\n**Karmic Analysis:**\n- Karmic Debt Numbers (if any)\n- Karmic Lessons (missing numbers)\n- Past patterns and lessons\n\n**Recommendations:**\n- Best timing for goals\n- Challenges to navigate\n- Strengths to leverage\n\nA complete report synthesizes all elements into actionable guidance.`,\n        keyPoints: [\n          'Complete reports include all core numbers',\n          'Timing shows current and future cycles',\n          'Karmic elements reveal deeper patterns',\n          'Synthesize into practical guidance'\n        ]\n      },\n      {\n        id: 'adv-13',\n        title: 'Integrating Numerology with Chinese Astrology',\n        duration: '4 min',\n        content: `GG33's power comes from combining both systems:\n\n**Integration Points:**\n- Life Path + Zodiac Animal = Complete personality\n- Element + Numbers = Behavioral tendencies\n- Personal Year + Chinese Year = Annual timing\n\n**Example Analysis:**\nLife Path 1 + Dragon = Doubly powerful leadership\nLife Path 2 + Tiger = Internal conflict (peace vs action)\nLife Path 8 + Monkey = Strategic brilliance\n\n**Compatibility Enhancement:**\nUse both systems for relationship analysis:\n- Numerology shows communication style\n- Chinese Astrology shows instinctual patterns\n- Elements show emotional dynamics\n\n**Predictive Power:**\nChinese calendar + Personal Year = Superior timing.`,\n        keyPoints: [\n          'Integration creates complete picture',\n          'Each system reveals different layers',\n          'Compatibility uses both systems',\n          'Timing combines both calendars'\n        ]\n      },\n      {\n        id: 'adv-14',\n        title: 'Practical Application: Daily Life',\n        duration: '4 min',\n        content: `Apply advanced numerology daily:\n\n**Morning Check:**\n- What is my Personal Day?\n- How does it interact with Universal Day?\n- What activities align?\n\n**Decision Making:**\n- Major decision? Check your cycle position\n- Relationship question? Check compatibility\n- Timing sensitive? Calculate optimal date\n\n**Self-Development:**\n- Working on karmic lessons consciously\n- Developing master number potential\n- Balancing missing number energies\n\n**Tracking Progress:**\n- Journal insights about number patterns\n- Note synchronicities\n- Review at year transitions\n\nDaily practice develops intuitive numerology sense.`,\n        keyPoints: [\n          'Check daily numbers each morning',\n          'Use cycles for decision timing',\n          'Work consciously on karmic lessons',\n          'Track patterns in a journal'\n        ]\n      },\n      {\n        id: 'adv-15',\n        title: 'Becoming a GG33 Practitioner',\n        duration: '4 min',\n        content: `To master GG33 and guide others:\n\n**Knowledge Requirements:**\n- All core numerology calculations\n- Chinese Zodiac animals and elements\n- Compatibility analysis methods\n- Timing and cycles\n\n**Practice Requirements:**\n- Calculate your own complete chart\n- Practice reading for friends and family\n- Track predictions and accuracy\n- Continuous learning\n\n**Ethical Guidelines:**\n- Never use readings to manipulate\n- Empower, don't create dependency\n- Acknowledge limits of any system\n- Refer to professionals when needed\n\n**Your Journey:**\nGG33 is a path of self-discovery first. Master yourself before guiding others.\n\nCongratulations on completing Advanced Numerology!`,\n        keyPoints: [\n          'Master all calculations',\n          'Practice reading for others',\n          'Follow ethical guidelines',\n          'Continue learning always'\n        ]\n      }\n    ]\n  }\n];\n\nexport function getCourseById(id: string): Course | undefined {\n  return courses.find(c => c.id === id);\n}\n\nexport function getLessonById(courseId: string, lessonId: string): Lesson | undefined {\n  const course = getCourseById(courseId);\n  return course?.lessons.find(l => l.id === lessonId);\n}\n\nexport function getTotalLessons(): number {\n  return courses.reduce((acc, course) => acc + course.lessons.length, 0);\n}\n\nexport function getTotalDuration(): string {\n  const totalMinutes = courses.reduce((acc, course) => {\n    const minutes = parseInt(course.duration);\n    return acc + (isNaN(minutes) ? 0 : minutes);\n  }, 0);\n  \n  if (totalMinutes >= 60) {\n    const hours = Math.floor(totalMinutes / 60);\n    const mins = totalMinutes % 60;\n    return mins > 0 ? `${hours}h ${mins}min` : `${hours}h`;\n  }\n  return `${totalMinutes} min`;\n}\n","path":null,"size_bytes":57191,"size_tokens":null},"client/src/components/UpgradeModal.tsx":{"content":"import { useState } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Crown, Check, Sparkles, Users, Database, Compass, MessageCircle, GraduationCap, Hash, Clock, Zap, Lock, Loader2 } from 'lucide-react';\nimport proBgImage from '@assets/generated_images/clean_minimal_sacred_geometry_background.png';\nimport { iframeSdk } from '@/lib/whop-iframe';\nimport { apiRequest, queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface UpgradeModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst benefits = [\n  { icon: Users, label: 'Compatibility Analysis', description: 'Discover relationship dynamics' },\n  { icon: Database, label: 'Cues Database', description: '22,000+ cues library' },\n  { icon: Compass, label: 'Explore Modules', description: 'All 6 numerology modules' },\n  { icon: MessageCircle, label: 'CueChats AI', description: 'Personalized AI guidance' },\n  { icon: GraduationCap, label: 'All Courses', description: 'Complete learning library' },\n  { icon: Hash, label: 'Core & Name Numbers', description: 'Full meaning interpretations' },\n];\n\nexport function UpgradeModal({ open, onOpenChange }: UpgradeModalProps) {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const { toast } = useToast();\n\n  const handleUpgrade = async () => {\n    setIsProcessing(true);\n    \n    try {\n      // Debug: Check API configuration first\n      console.log('[Upgrade] Checking Whop API configuration...');\n      try {\n        const debugRes = await apiRequest('GET', '/api/whop/debug');\n        const debugData = await debugRes.json();\n        console.log('[Upgrade] Whop Debug Info:', debugData);\n      } catch (debugError) {\n        console.error('[Upgrade] Debug check failed:', debugError);\n      }\n\n      console.log('[Upgrade] Creating checkout configuration...');\n      const checkoutRes = await apiRequest('POST', '/api/checkout/create');\n      const checkoutData = await checkoutRes.json();\n      console.log('[Upgrade] Checkout response:', checkoutData);\n      \n      if (!checkoutData.id || !checkoutData.planId) {\n        throw new Error(checkoutData.details || 'Failed to create checkout configuration');\n      }\n\n      console.log('[Upgrade] Opening in-app purchase modal with:', {\n        planId: checkoutData.planId,\n        id: checkoutData.id,\n        iframeSdkAppId: import.meta.env.VITE_WHOP_APP_ID,\n      });\n      \n      const purchaseResult = await iframeSdk.inAppPurchase({\n        planId: checkoutData.planId,\n        id: checkoutData.id,\n      });\n      \n      console.log('[Upgrade] Purchase result:', purchaseResult);\n\n      if (purchaseResult.status === 'ok') {\n        const receiptId = purchaseResult.data?.receiptId;\n        console.log('[Upgrade] Payment successful, receipt:', receiptId);\n        \n        // Try to upgrade with retries (membership might take a moment to be created)\n        let upgraded = false;\n        let attempts = 0;\n        const maxAttempts = 3;\n        \n        while (!upgraded && attempts < maxAttempts) {\n          attempts++;\n          console.log(`[Upgrade] Attempt ${attempts}/${maxAttempts} to verify membership...`);\n          \n          try {\n            const upgradeRes = await apiRequest('POST', '/api/upgrade-to-pro', { receiptId });\n            const upgradeData = await upgradeRes.json();\n            console.log('[Upgrade] Upgrade response:', upgradeData);\n            \n            if (upgradeData.success) {\n              upgraded = true;\n            }\n          } catch (upgradeError: any) {\n            console.log(`[Upgrade] Attempt ${attempts} failed:`, upgradeError);\n            \n            // If we should retry, wait a bit before next attempt\n            if (attempts < maxAttempts) {\n              console.log('[Upgrade] Waiting 2 seconds before retry...');\n              await new Promise(resolve => setTimeout(resolve, 2000));\n            }\n          }\n        }\n        \n        if (upgraded) {\n          // Invalidate all relevant caches to update UI immediately\n          await Promise.all([\n            queryClient.invalidateQueries({ queryKey: ['/api/me'] }),\n            queryClient.invalidateQueries({ queryKey: ['/api/profile'] }),\n            queryClient.invalidateQueries({ queryKey: ['/api/membership'] }),\n          ]);\n          \n          toast({\n            title: 'Welcome to Pro!',\n            description: 'You now have access to all premium features.',\n          });\n          \n          onOpenChange(false);\n        } else {\n          throw new Error('Could not verify membership. Please refresh the page and try again.');\n        }\n      } else if (purchaseResult.status === 'error') {\n        throw new Error('Payment was not completed');\n      }\n    } catch (error) {\n      console.error('Upgrade error:', error);\n      toast({\n        title: 'Upgrade failed',\n        description: 'There was an issue processing your upgrade. Please try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent \n        className=\"sm:max-w-3xl lg:max-w-4xl mx-4 p-0 rounded-xl border-amber-9/30 overflow-hidden max-h-[90vh]\" \n        data-testid=\"modal-upgrade\"\n      >\n        <div className=\"relative grid md:grid-cols-2 gap-0 max-h-[90vh] overflow-y-auto\">\n          <div \n            className=\"relative p-8 flex flex-col items-center justify-center text-center overflow-hidden min-h-[400px]\"\n            style={{\n              backgroundImage: `url(${proBgImage})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n            }}\n          >\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/60 via-black/50 to-black/70\" />\n            \n            <div className=\"relative z-10 flex flex-col items-center\">\n              <Badge \n                variant=\"outline\" \n                className=\"bg-amber-9/20 border-amber-9/50 text-amber-9 gap-2 px-4 py-1.5 mb-6 backdrop-blur-sm\"\n              >\n                <Clock className=\"w-4 h-4\" />\n                <span className=\"text-2 font-medium\">Limited Time</span>\n              </Badge>\n              \n              <div className=\"w-28 h-28 rounded-2xl bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center mb-6 shadow-2xl shadow-amber-9/40\">\n                <Crown className=\"w-14 h-14 text-white\" />\n              </div>\n              \n              <h2 className=\"text-7 font-bold text-white mb-2\">GG33 Pro</h2>\n              <p className=\"text-3 text-gray-11 mb-8\">Unlock everything</p>\n              \n              <div className=\"flex items-center justify-center gap-3 mb-3\">\n                <span className=\"text-4 text-gray-9 line-through\">$99</span>\n                <Badge className=\"bg-green-9/20 text-green-9 border-green-9/40 text-2 font-semibold px-3 py-1\">\n                  50% OFF\n                </Badge>\n              </div>\n              <div className=\"flex items-baseline justify-center gap-1 mb-4\">\n                <span className=\"text-11 font-bold text-white\">$49</span>\n                <span className=\"text-3 text-gray-10\">/mo</span>\n              </div>\n              <p className=\"text-2 text-amber-9 font-medium flex items-center justify-center gap-2\">\n                <Zap className=\"w-4 h-4\" />\n                Founders pricing - ends soon\n              </p>\n            </div>\n          </div>\n\n          <div className=\"p-6 flex flex-col bg-background\">\n            <p className=\"text-2 font-semibold text-gray-11 uppercase tracking-wider mb-4\">Everything included</p>\n            \n            <div className=\"flex flex-col gap-2 flex-1\">\n              {benefits.map((benefit) => (\n                <div \n                  key={benefit.label}\n                  className=\"flex items-center gap-3 p-2.5 rounded-lg bg-gray-a2 border border-gray-a3\"\n                  data-testid={`benefit-${benefit.label.toLowerCase().replace(/\\s+/g, '-')}`}\n                >\n                  <div className=\"w-9 h-9 rounded-lg bg-gradient-to-br from-amber-a3 to-amber-a2 flex items-center justify-center flex-shrink-0 border border-amber-9/20\">\n                    <benefit.icon className=\"w-4 h-4 text-amber-9\" />\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-2 font-semibold text-gray-12\">{benefit.label}</p>\n                    <p className=\"text-1 text-gray-10\">{benefit.description}</p>\n                  </div>\n                  <Check className=\"w-4 h-4 text-green-9 flex-shrink-0\" />\n                </div>\n              ))}\n            </div>\n            \n            <div className=\"mt-4 space-y-3\">\n              <Button \n                variant=\"gold\" \n                className=\"w-full text-3 font-semibold shadow-lg shadow-amber-9/25\" \n                size=\"lg\"\n                onClick={handleUpgrade}\n                disabled={isProcessing}\n                data-testid=\"button-upgrade-to-pro\"\n              >\n                {isProcessing ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\n                    Processing...\n                  </>\n                ) : (\n                  <>\n                    <Sparkles className=\"w-5 h-5 mr-2\" />\n                    Upgrade to Pro Now\n                  </>\n                )}\n              </Button>\n              \n              <p className=\"text-center text-1 text-gray-9 flex items-center justify-center gap-1.5\">\n                <Lock className=\"w-3 h-3\" />\n                Payment secured by Whop\n              </p>\n            </div>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":9883,"size_tokens":null},"client/src/components/ProGatekeeper.tsx":{"content":"import { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Crown, Lock, Sparkles } from 'lucide-react';\nimport { UpgradeModal } from '@/components/UpgradeModal';\n\ninterface ProGatekeeperProps {\n  isPro: boolean;\n  children: React.ReactNode;\n  title?: string;\n  description?: string;\n}\n\nexport function ProGatekeeper({ \n  isPro, \n  children, \n  title = \"Unlock Full Insights\",\n  description = \"Upgrade to Pro to access the complete interpretation and deeper meanings.\"\n}: ProGatekeeperProps) {\n  const [showUpgradeModal, setShowUpgradeModal] = useState(false);\n\n  if (isPro) {\n    return <>{children}</>;\n  }\n\n  return (\n    <div className=\"relative\">\n      <div \n        className=\"blur-sm select-none pointer-events-none opacity-60\"\n        aria-hidden=\"true\"\n      >\n        {children}\n      </div>\n      \n      <div className=\"absolute inset-0 flex flex-col items-center justify-start pt-12 sm:pt-20 bg-gradient-to-b from-background/40 via-background/80 to-background/95\">\n        <div className=\"text-center p-8 max-w-md\">\n          <div className=\"w-16 h-16 mx-auto rounded-xl bg-gradient-to-br from-amber-8 to-amber-9 flex items-center justify-center mb-6 shadow-lg shadow-amber-9/30\">\n            <Lock className=\"w-8 h-8 text-white\" />\n          </div>\n          \n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <Crown className=\"w-5 h-5 text-amber-9\" />\n            <Badge variant=\"secondary\" size=\"sm\">Pro Feature</Badge>\n          </div>\n          \n          <h3 className=\"text-5 font-semibold text-gray-12 mb-3\">\n            {title}\n          </h3>\n          \n          <p className=\"text-3 text-gray-11 mb-6\">\n            {description}\n          </p>\n          \n          <Button \n            variant=\"gold\" \n            size=\"lg\"\n            onClick={() => setShowUpgradeModal(true)}\n            data-testid=\"button-unlock-content\"\n          >\n            <Sparkles className=\"w-4 h-4 mr-2\" />\n            Upgrade to Pro\n          </Button>\n        </div>\n      </div>\n\n      <UpgradeModal open={showUpgradeModal} onOpenChange={setShowUpgradeModal} />\n    </div>\n  );\n}\n","path":null,"size_bytes":2201,"size_tokens":null},"client/src/lib/whop-iframe.ts":{"content":"import { createSdk } from \"@whop/iframe\";\n\nexport const iframeSdk = createSdk({\n  appId: import.meta.env.VITE_WHOP_APP_ID,\n});\n","path":null,"size_bytes":127,"size_tokens":null},"client/src/components/ui/date-picker.tsx":{"content":"import * as React from \"react\"\nimport { format, isValid } from \"date-fns\"\nimport { CalendarIcon } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\n\ninterface DatePickerProps {\n  value?: Date\n  onChange?: (date: Date | undefined) => void\n  placeholder?: string\n  className?: string\n  disabled?: boolean\n  fromYear?: number\n  toYear?: number\n  \"data-testid\"?: string\n}\n\nexport function DatePicker({\n  value,\n  onChange,\n  placeholder = \"Select date\",\n  className,\n  disabled,\n  fromYear = 1920,\n  toYear = new Date().getFullYear(),\n  \"data-testid\": testId,\n}: DatePickerProps) {\n  const [open, setOpen] = React.useState(false)\n  const [month, setMonth] = React.useState<Date>(value || new Date(2000, 0, 1))\n  \n  const [monthVal, setMonthVal] = React.useState(value ? format(value, \"MM\") : \"\")\n  const [dayVal, setDayVal] = React.useState(value ? format(value, \"dd\") : \"\")\n  const [yearVal, setYearVal] = React.useState(value ? format(value, \"yyyy\") : \"\")\n  \n  const monthRef = React.useRef<HTMLInputElement>(null)\n  const dayRef = React.useRef<HTMLInputElement>(null)\n  const yearRef = React.useRef<HTMLInputElement>(null)\n\n  React.useEffect(() => {\n    if (value) {\n      setMonthVal(format(value, \"MM\"))\n      setDayVal(format(value, \"dd\"))\n      setYearVal(format(value, \"yyyy\"))\n      setMonth(value)\n    }\n  }, [value])\n\n  const tryUpdateDate = (m: string, d: string, y: string) => {\n    if (m.length === 2 && d.length === 2 && y.length === 4) {\n      const monthNum = parseInt(m, 10)\n      const dayNum = parseInt(d, 10)\n      const yearNum = parseInt(y, 10)\n      \n      if (monthNum >= 1 && monthNum <= 12 && dayNum >= 1 && dayNum <= 31 && yearNum >= fromYear && yearNum <= toYear) {\n        const date = new Date(yearNum, monthNum - 1, dayNum)\n        if (isValid(date) && date.getMonth() === monthNum - 1) {\n          onChange?.(date)\n          setMonth(date)\n        }\n      }\n    }\n  }\n\n  const handleMonthChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.replace(/\\D/g, '').slice(0, 2)\n    setMonthVal(val)\n    tryUpdateDate(val, dayVal, yearVal)\n    if (val.length === 2) {\n      setTimeout(() => {\n        dayRef.current?.focus()\n        dayRef.current?.select()\n      }, 0)\n    }\n  }\n\n  const handleDayChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.replace(/\\D/g, '').slice(0, 2)\n    setDayVal(val)\n    tryUpdateDate(monthVal, val, yearVal)\n    if (val.length === 2) {\n      setTimeout(() => {\n        yearRef.current?.focus()\n        yearRef.current?.select()\n      }, 0)\n    }\n  }\n\n  const handleYearChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.replace(/\\D/g, '').slice(0, 4)\n    setYearVal(val)\n    tryUpdateDate(monthVal, dayVal, val)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, segment: 'month' | 'day' | 'year') => {\n    if (e.key === 'Backspace') {\n      if (segment === 'day' && dayVal === '') {\n        monthRef.current?.focus()\n      } else if (segment === 'year' && yearVal === '') {\n        dayRef.current?.focus()\n      }\n    }\n  }\n\n  const handleBlur = () => {\n    if (value) {\n      setMonthVal(format(value, \"MM\"))\n      setDayVal(format(value, \"dd\"))\n      setYearVal(format(value, \"yyyy\"))\n    }\n  }\n\n  const years = React.useMemo(() => {\n    const yearList = []\n    for (let year = toYear; year >= fromYear; year--) {\n      yearList.push(year)\n    }\n    return yearList\n  }, [fromYear, toYear])\n\n  const months = [\n    \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n  ]\n\n  const handleSelect = (date: Date | undefined) => {\n    onChange?.(date)\n    if (date) {\n      setOpen(false)\n    }\n  }\n\n  const handleCalendarMonthChange = (monthValue: string) => {\n    const newMonth = new Date(month)\n    newMonth.setMonth(parseInt(monthValue))\n    setMonth(newMonth)\n  }\n\n  const handleCalendarYearChange = (yearValue: string) => {\n    const newMonth = new Date(month)\n    newMonth.setFullYear(parseInt(yearValue))\n    setMonth(newMonth)\n  }\n\n  return (\n    <div className={cn(\"flex gap-2\", className)}>\n      <div className=\"flex items-center flex-1 h-11 px-3 rounded-md border border-gray-5 bg-gray-2 focus-within:border-amber-7 focus-within:bg-gray-3\">\n        <CalendarIcon className=\"h-4 w-4 text-amber-9 shrink-0 mr-2\" />\n        <input\n          ref={monthRef}\n          type=\"text\"\n          inputMode=\"numeric\"\n          placeholder=\"MM\"\n          value={monthVal}\n          onChange={handleMonthChange}\n          onKeyDown={(e) => handleKeyDown(e, 'month')}\n          onBlur={handleBlur}\n          disabled={disabled}\n          className=\"w-7 bg-transparent text-center outline-none placeholder:text-gray-8\"\n          data-testid={testId ? `${testId}-month` : undefined}\n        />\n        <span className=\"text-gray-8 mx-1\">/</span>\n        <input\n          ref={dayRef}\n          type=\"text\"\n          inputMode=\"numeric\"\n          placeholder=\"DD\"\n          value={dayVal}\n          onChange={handleDayChange}\n          onKeyDown={(e) => handleKeyDown(e, 'day')}\n          onBlur={handleBlur}\n          disabled={disabled}\n          className=\"w-7 bg-transparent text-center outline-none placeholder:text-gray-8\"\n          data-testid={testId ? `${testId}-day` : undefined}\n        />\n        <span className=\"text-gray-8 mx-1\">/</span>\n        <input\n          ref={yearRef}\n          type=\"text\"\n          inputMode=\"numeric\"\n          placeholder=\"YYYY\"\n          value={yearVal}\n          onChange={handleYearChange}\n          onKeyDown={(e) => handleKeyDown(e, 'year')}\n          onBlur={handleBlur}\n          disabled={disabled}\n          className=\"w-12 bg-transparent text-center outline-none placeholder:text-gray-8\"\n          data-testid={testId ? `${testId}-year` : undefined}\n        />\n      </div>\n      <Popover open={open} onOpenChange={setOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            size=\"icon\"\n            disabled={disabled}\n            className=\"h-11 w-11 shrink-0 border-gray-5 bg-gray-2 hover:bg-gray-3 hover:border-amber-7\"\n            data-testid={testId ? `${testId}-calendar` : undefined}\n          >\n            <CalendarIcon className=\"h-4 w-4 text-amber-9\" />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-auto p-0 bg-gray-2 border-gray-5\" align=\"end\">\n          <div className=\"p-3 space-y-3\">\n            <div className=\"flex gap-2\">\n              <Select\n                value={month.getMonth().toString()}\n                onValueChange={handleCalendarMonthChange}\n              >\n                <SelectTrigger className=\"flex-1 h-9 bg-gray-3 border-gray-5\">\n                  <SelectValue placeholder=\"Month\" />\n                </SelectTrigger>\n                <SelectContent className=\"bg-gray-2 border-gray-5 max-h-60\">\n                  {months.map((monthName, index) => (\n                    <SelectItem key={monthName} value={index.toString()}>\n                      {monthName}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <Select\n                value={month.getFullYear().toString()}\n                onValueChange={handleCalendarYearChange}\n              >\n                <SelectTrigger className=\"w-24 h-9 bg-gray-3 border-gray-5\">\n                  <SelectValue placeholder=\"Year\" />\n                </SelectTrigger>\n                <SelectContent className=\"bg-gray-2 border-gray-5 max-h-60\">\n                  {years.map((year) => (\n                    <SelectItem key={year} value={year.toString()}>\n                      {year}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <DayPicker\n              mode=\"single\"\n              selected={value}\n              onSelect={handleSelect}\n              month={month}\n              onMonthChange={setMonth}\n              showOutsideDays={true}\n              hideNavigation={true}\n              className=\"p-0\"\n              classNames={{\n                months: \"flex flex-col\",\n                month: \"space-y-3\",\n                caption: \"hidden\",\n                table: \"w-full border-collapse\",\n                head_row: \"flex\",\n                head_cell: \"text-gray-10 rounded-md w-9 font-medium text-xs\",\n                row: \"flex w-full mt-1\",\n                cell: cn(\n                  \"relative h-9 w-9 text-center text-sm p-0\",\n                  \"focus-within:relative focus-within:z-20\"\n                ),\n                day: cn(\n                  buttonVariants({ variant: \"ghost\" }),\n                  \"h-9 w-9 p-0 font-normal hover:bg-gray-4 aria-selected:opacity-100\"\n                ),\n                day_range_end: \"day-range-end\",\n                day_selected:\n                  \"bg-amber-9 text-gray-1 hover:bg-amber-10 hover:text-gray-1 focus:bg-amber-9 focus:text-gray-1\",\n                day_today: \"bg-gray-4 text-foreground\",\n                day_outside: \"text-gray-8 aria-selected:bg-amber-9/50 aria-selected:text-gray-10\",\n                day_disabled: \"text-gray-7 opacity-50\",\n                day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n                day_hidden: \"invisible\",\n              }}\n            />\n          </div>\n        </PopoverContent>\n      </Popover>\n    </div>\n  )\n}\n","path":null,"size_bytes":9825,"size_tokens":null},"client/src/components/ui/time-picker.tsx":{"content":"import * as React from \"react\"\nimport { Clock } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface TimePickerProps {\n  value?: string\n  onChange?: (time: string) => void\n  className?: string\n  disabled?: boolean\n  \"data-testid\"?: string\n}\n\nexport function TimePicker({\n  value,\n  onChange,\n  className,\n  disabled,\n  \"data-testid\": testId,\n}: TimePickerProps) {\n  const parseTime = (timeStr: string) => {\n    if (!timeStr) return { hour: \"\", minute: \"\", period: \"AM\" }\n    \n    const [hourPart, minutePart] = timeStr.split(\":\")\n    let hour24 = parseInt(hourPart, 10)\n    const minute = minutePart || \"\"\n    \n    if (isNaN(hour24)) return { hour: \"\", minute: \"\", period: \"AM\" }\n    \n    const period = hour24 >= 12 ? \"PM\" : \"AM\"\n    let hour12 = hour24 % 12\n    if (hour12 === 0) hour12 = 12\n    \n    return {\n      hour: hour12.toString().padStart(2, \"0\"),\n      minute: minute.padStart(2, \"0\"),\n      period,\n    }\n  }\n\n  const initialParsed = parseTime(value || \"\")\n  const [hourVal, setHourVal] = React.useState(initialParsed.hour)\n  const [minuteVal, setMinuteVal] = React.useState(initialParsed.minute)\n  const [period, setPeriod] = React.useState<\"AM\" | \"PM\">(initialParsed.period as \"AM\" | \"PM\")\n\n  const hourRef = React.useRef<HTMLInputElement>(null)\n  const minuteRef = React.useRef<HTMLInputElement>(null)\n\n  React.useEffect(() => {\n    if (value) {\n      const parsed = parseTime(value)\n      setHourVal(parsed.hour)\n      setMinuteVal(parsed.minute)\n      setPeriod(parsed.period as \"AM\" | \"PM\")\n    }\n  }, [value])\n\n  const updateTime = (h: string, m: string, p: \"AM\" | \"PM\") => {\n    if (h.length === 2 && m.length === 2) {\n      let hour12 = parseInt(h, 10)\n      const minute = parseInt(m, 10)\n      \n      if (hour12 >= 1 && hour12 <= 12 && minute >= 0 && minute <= 59) {\n        let hour24 = hour12\n        if (p === \"AM\") {\n          if (hour12 === 12) hour24 = 0\n        } else {\n          if (hour12 !== 12) hour24 = hour12 + 12\n        }\n        \n        const timeStr = `${hour24.toString().padStart(2, \"0\")}:${m}`\n        onChange?.(timeStr)\n      }\n    }\n  }\n\n  const handleHourChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let val = e.target.value.replace(/\\D/g, \"\").slice(0, 2)\n    \n    if (val.length === 2) {\n      const num = parseInt(val, 10)\n      if (num > 12) val = \"12\"\n      if (num === 0) val = \"12\"\n    }\n    \n    setHourVal(val)\n    updateTime(val, minuteVal, period)\n    \n    if (val.length === 2) {\n      setTimeout(() => {\n        minuteRef.current?.focus()\n        minuteRef.current?.select()\n      }, 0)\n    }\n  }\n\n  const handleMinuteChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let val = e.target.value.replace(/\\D/g, \"\").slice(0, 2)\n    \n    if (val.length === 2) {\n      const num = parseInt(val, 10)\n      if (num > 59) val = \"59\"\n    }\n    \n    setMinuteVal(val)\n    updateTime(hourVal, val, period)\n  }\n\n  const handlePeriodToggle = () => {\n    const newPeriod = period === \"AM\" ? \"PM\" : \"AM\"\n    setPeriod(newPeriod)\n    updateTime(hourVal, minuteVal, newPeriod)\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, segment: \"hour\" | \"minute\") => {\n    if (e.key === \"Backspace\") {\n      if (segment === \"minute\" && minuteVal === \"\") {\n        hourRef.current?.focus()\n      }\n    }\n  }\n\n  const handleBlur = () => {\n    if (hourVal && hourVal.length === 1) {\n      setHourVal(hourVal.padStart(2, \"0\"))\n    }\n    if (minuteVal && minuteVal.length === 1) {\n      setMinuteVal(minuteVal.padStart(2, \"0\"))\n    }\n  }\n\n  return (\n    <div className={cn(\"flex gap-2\", className)}>\n      <div className=\"flex items-center flex-1 h-11 px-3 rounded-md border border-gray-5 bg-gray-2 focus-within:border-amber-7 focus-within:bg-gray-3\">\n        <Clock className=\"h-4 w-4 text-amber-9 shrink-0 mr-2\" />\n        <input\n          ref={hourRef}\n          type=\"text\"\n          inputMode=\"numeric\"\n          placeholder=\"HH\"\n          value={hourVal}\n          onChange={handleHourChange}\n          onKeyDown={(e) => handleKeyDown(e, \"hour\")}\n          onBlur={handleBlur}\n          disabled={disabled}\n          className=\"w-7 bg-transparent text-center outline-none placeholder:text-gray-8\"\n          data-testid={testId ? `${testId}-hour` : undefined}\n        />\n        <span className=\"text-gray-8 mx-1\">:</span>\n        <input\n          ref={minuteRef}\n          type=\"text\"\n          inputMode=\"numeric\"\n          placeholder=\"MM\"\n          value={minuteVal}\n          onChange={handleMinuteChange}\n          onKeyDown={(e) => handleKeyDown(e, \"minute\")}\n          onBlur={handleBlur}\n          disabled={disabled}\n          className=\"w-7 bg-transparent text-center outline-none placeholder:text-gray-8\"\n          data-testid={testId ? `${testId}-minute` : undefined}\n        />\n      </div>\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        onClick={handlePeriodToggle}\n        disabled={disabled}\n        className=\"h-11 w-16 shrink-0 border-gray-5 bg-gray-2 font-medium\"\n        data-testid={testId ? `${testId}-period` : undefined}\n      >\n        {period}\n      </Button>\n    </div>\n  )\n}\n","path":null,"size_bytes":5167,"size_tokens":null}},"version":2}